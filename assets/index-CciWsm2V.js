(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const d of u.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();var Vf={exports:{}},Tl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $v;function nA(){if($v)return Tl;$v=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var d=null;if(u!==void 0&&(d=""+u),o.key!==void 0&&(d=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:r,type:s,key:d,ref:o!==void 0?o:null,props:u}}return Tl.Fragment=e,Tl.jsx=n,Tl.jsxs=n,Tl}var Zv;function iA(){return Zv||(Zv=1,Vf.exports=nA()),Vf.exports}var _=iA(),Pf={exports:{}},Ne={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wv;function rA(){if(Wv)return Ne;Wv=1;var r=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),y=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),w=Symbol.iterator;function x(D){return D===null||typeof D!="object"?null:(D=w&&D[w]||D["@@iterator"],typeof D=="function"?D:null)}var k={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,Q={};function G(D,ee,se){this.props=D,this.context=ee,this.refs=Q,this.updater=se||k}G.prototype.isReactComponent={},G.prototype.setState=function(D,ee){if(typeof D!="object"&&typeof D!="function"&&D!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,D,ee,"setState")},G.prototype.forceUpdate=function(D){this.updater.enqueueForceUpdate(this,D,"forceUpdate")};function oe(){}oe.prototype=G.prototype;function ae(D,ee,se){this.props=D,this.context=ee,this.refs=Q,this.updater=se||k}var ce=ae.prototype=new oe;ce.constructor=ae,V(ce,G.prototype),ce.isPureReactComponent=!0;var _e=Array.isArray,pe={H:null,A:null,T:null,S:null,V:null},Y=Object.prototype.hasOwnProperty;function N(D,ee,se,te,ue,Ie){return se=Ie.ref,{$$typeof:r,type:D,key:ee,ref:se!==void 0?se:null,props:Ie}}function S(D,ee){return N(D.type,ee,void 0,void 0,void 0,D.props)}function R(D){return typeof D=="object"&&D!==null&&D.$$typeof===r}function M(D){var ee={"=":"=0",":":"=2"};return"$"+D.replace(/[=:]/g,function(se){return ee[se]})}var P=/\/+/g;function j(D,ee){return typeof D=="object"&&D!==null&&D.key!=null?M(""+D.key):ee.toString(36)}function C(){}function ft(D){switch(D.status){case"fulfilled":return D.value;case"rejected":throw D.reason;default:switch(typeof D.status=="string"?D.then(C,C):(D.status="pending",D.then(function(ee){D.status==="pending"&&(D.status="fulfilled",D.value=ee)},function(ee){D.status==="pending"&&(D.status="rejected",D.reason=ee)})),D.status){case"fulfilled":return D.value;case"rejected":throw D.reason}}throw D}function Ye(D,ee,se,te,ue){var Ie=typeof D;(Ie==="undefined"||Ie==="boolean")&&(D=null);var Ee=!1;if(D===null)Ee=!0;else switch(Ie){case"bigint":case"string":case"number":Ee=!0;break;case"object":switch(D.$$typeof){case r:case e:Ee=!0;break;case E:return Ee=D._init,Ye(Ee(D._payload),ee,se,te,ue)}}if(Ee)return ue=ue(D),Ee=te===""?"."+j(D,0):te,_e(ue)?(se="",Ee!=null&&(se=Ee.replace(P,"$&/")+"/"),Ye(ue,ee,se,"",function(tn){return tn})):ue!=null&&(R(ue)&&(ue=S(ue,se+(ue.key==null||D&&D.key===ue.key?"":(""+ue.key).replace(P,"$&/")+"/")+Ee)),ee.push(ue)),1;Ee=0;var ke=te===""?".":te+":";if(_e(D))for(var Xe=0;Xe<D.length;Xe++)te=D[Xe],Ie=ke+j(te,Xe),Ee+=Ye(te,ee,se,Ie,ue);else if(Xe=x(D),typeof Xe=="function")for(D=Xe.call(D),Xe=0;!(te=D.next()).done;)te=te.value,Ie=ke+j(te,Xe++),Ee+=Ye(te,ee,se,Ie,ue);else if(Ie==="object"){if(typeof D.then=="function")return Ye(ft(D),ee,se,te,ue);throw ee=String(D),Error("Objects are not valid as a React child (found: "+(ee==="[object Object]"?"object with keys {"+Object.keys(D).join(", ")+"}":ee)+"). If you meant to render a collection of children, use an array instead.")}return Ee}function K(D,ee,se){if(D==null)return D;var te=[],ue=0;return Ye(D,te,"","",function(Ie){return ee.call(se,Ie,ue++)}),te}function ie(D){if(D._status===-1){var ee=D._result;ee=ee(),ee.then(function(se){(D._status===0||D._status===-1)&&(D._status=1,D._result=se)},function(se){(D._status===0||D._status===-1)&&(D._status=2,D._result=se)}),D._status===-1&&(D._status=0,D._result=ee)}if(D._status===1)return D._result.default;throw D._result}var ne=typeof reportError=="function"?reportError:function(D){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ee=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof D=="object"&&D!==null&&typeof D.message=="string"?String(D.message):String(D),error:D});if(!window.dispatchEvent(ee))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",D);return}console.error(D)};function Le(){}return Ne.Children={map:K,forEach:function(D,ee,se){K(D,function(){ee.apply(this,arguments)},se)},count:function(D){var ee=0;return K(D,function(){ee++}),ee},toArray:function(D){return K(D,function(ee){return ee})||[]},only:function(D){if(!R(D))throw Error("React.Children.only expected to receive a single React element child.");return D}},Ne.Component=G,Ne.Fragment=n,Ne.Profiler=o,Ne.PureComponent=ae,Ne.StrictMode=s,Ne.Suspense=g,Ne.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=pe,Ne.__COMPILER_RUNTIME={__proto__:null,c:function(D){return pe.H.useMemoCache(D)}},Ne.cache=function(D){return function(){return D.apply(null,arguments)}},Ne.cloneElement=function(D,ee,se){if(D==null)throw Error("The argument must be a React element, but you passed "+D+".");var te=V({},D.props),ue=D.key,Ie=void 0;if(ee!=null)for(Ee in ee.ref!==void 0&&(Ie=void 0),ee.key!==void 0&&(ue=""+ee.key),ee)!Y.call(ee,Ee)||Ee==="key"||Ee==="__self"||Ee==="__source"||Ee==="ref"&&ee.ref===void 0||(te[Ee]=ee[Ee]);var Ee=arguments.length-2;if(Ee===1)te.children=se;else if(1<Ee){for(var ke=Array(Ee),Xe=0;Xe<Ee;Xe++)ke[Xe]=arguments[Xe+2];te.children=ke}return N(D.type,ue,void 0,void 0,Ie,te)},Ne.createContext=function(D){return D={$$typeof:d,_currentValue:D,_currentValue2:D,_threadCount:0,Provider:null,Consumer:null},D.Provider=D,D.Consumer={$$typeof:u,_context:D},D},Ne.createElement=function(D,ee,se){var te,ue={},Ie=null;if(ee!=null)for(te in ee.key!==void 0&&(Ie=""+ee.key),ee)Y.call(ee,te)&&te!=="key"&&te!=="__self"&&te!=="__source"&&(ue[te]=ee[te]);var Ee=arguments.length-2;if(Ee===1)ue.children=se;else if(1<Ee){for(var ke=Array(Ee),Xe=0;Xe<Ee;Xe++)ke[Xe]=arguments[Xe+2];ue.children=ke}if(D&&D.defaultProps)for(te in Ee=D.defaultProps,Ee)ue[te]===void 0&&(ue[te]=Ee[te]);return N(D,Ie,void 0,void 0,null,ue)},Ne.createRef=function(){return{current:null}},Ne.forwardRef=function(D){return{$$typeof:m,render:D}},Ne.isValidElement=R,Ne.lazy=function(D){return{$$typeof:E,_payload:{_status:-1,_result:D},_init:ie}},Ne.memo=function(D,ee){return{$$typeof:y,type:D,compare:ee===void 0?null:ee}},Ne.startTransition=function(D){var ee=pe.T,se={};pe.T=se;try{var te=D(),ue=pe.S;ue!==null&&ue(se,te),typeof te=="object"&&te!==null&&typeof te.then=="function"&&te.then(Le,ne)}catch(Ie){ne(Ie)}finally{pe.T=ee}},Ne.unstable_useCacheRefresh=function(){return pe.H.useCacheRefresh()},Ne.use=function(D){return pe.H.use(D)},Ne.useActionState=function(D,ee,se){return pe.H.useActionState(D,ee,se)},Ne.useCallback=function(D,ee){return pe.H.useCallback(D,ee)},Ne.useContext=function(D){return pe.H.useContext(D)},Ne.useDebugValue=function(){},Ne.useDeferredValue=function(D,ee){return pe.H.useDeferredValue(D,ee)},Ne.useEffect=function(D,ee,se){var te=pe.H;if(typeof se=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return te.useEffect(D,ee)},Ne.useId=function(){return pe.H.useId()},Ne.useImperativeHandle=function(D,ee,se){return pe.H.useImperativeHandle(D,ee,se)},Ne.useInsertionEffect=function(D,ee){return pe.H.useInsertionEffect(D,ee)},Ne.useLayoutEffect=function(D,ee){return pe.H.useLayoutEffect(D,ee)},Ne.useMemo=function(D,ee){return pe.H.useMemo(D,ee)},Ne.useOptimistic=function(D,ee){return pe.H.useOptimistic(D,ee)},Ne.useReducer=function(D,ee,se){return pe.H.useReducer(D,ee,se)},Ne.useRef=function(D){return pe.H.useRef(D)},Ne.useState=function(D){return pe.H.useState(D)},Ne.useSyncExternalStore=function(D,ee,se){return pe.H.useSyncExternalStore(D,ee,se)},Ne.useTransition=function(){return pe.H.useTransition()},Ne.version="19.1.0",Ne}var Jv;function Pm(){return Jv||(Jv=1,Pf.exports=rA()),Pf.exports}var xe=Pm(),jf={exports:{}},Al={},Uf={exports:{}},Lf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e_;function sA(){return e_||(e_=1,function(r){function e(K,ie){var ne=K.length;K.push(ie);e:for(;0<ne;){var Le=ne-1>>>1,D=K[Le];if(0<o(D,ie))K[Le]=ie,K[ne]=D,ne=Le;else break e}}function n(K){return K.length===0?null:K[0]}function s(K){if(K.length===0)return null;var ie=K[0],ne=K.pop();if(ne!==ie){K[0]=ne;e:for(var Le=0,D=K.length,ee=D>>>1;Le<ee;){var se=2*(Le+1)-1,te=K[se],ue=se+1,Ie=K[ue];if(0>o(te,ne))ue<D&&0>o(Ie,te)?(K[Le]=Ie,K[ue]=ne,Le=ue):(K[Le]=te,K[se]=ne,Le=se);else if(ue<D&&0>o(Ie,ne))K[Le]=Ie,K[ue]=ne,Le=ue;else break e}}return ie}function o(K,ie){var ne=K.sortIndex-ie.sortIndex;return ne!==0?ne:K.id-ie.id}if(r.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;r.unstable_now=function(){return u.now()}}else{var d=Date,m=d.now();r.unstable_now=function(){return d.now()-m}}var g=[],y=[],E=1,w=null,x=3,k=!1,V=!1,Q=!1,G=!1,oe=typeof setTimeout=="function"?setTimeout:null,ae=typeof clearTimeout=="function"?clearTimeout:null,ce=typeof setImmediate<"u"?setImmediate:null;function _e(K){for(var ie=n(y);ie!==null;){if(ie.callback===null)s(y);else if(ie.startTime<=K)s(y),ie.sortIndex=ie.expirationTime,e(g,ie);else break;ie=n(y)}}function pe(K){if(Q=!1,_e(K),!V)if(n(g)!==null)V=!0,Y||(Y=!0,j());else{var ie=n(y);ie!==null&&Ye(pe,ie.startTime-K)}}var Y=!1,N=-1,S=5,R=-1;function M(){return G?!0:!(r.unstable_now()-R<S)}function P(){if(G=!1,Y){var K=r.unstable_now();R=K;var ie=!0;try{e:{V=!1,Q&&(Q=!1,ae(N),N=-1),k=!0;var ne=x;try{t:{for(_e(K),w=n(g);w!==null&&!(w.expirationTime>K&&M());){var Le=w.callback;if(typeof Le=="function"){w.callback=null,x=w.priorityLevel;var D=Le(w.expirationTime<=K);if(K=r.unstable_now(),typeof D=="function"){w.callback=D,_e(K),ie=!0;break t}w===n(g)&&s(g),_e(K)}else s(g);w=n(g)}if(w!==null)ie=!0;else{var ee=n(y);ee!==null&&Ye(pe,ee.startTime-K),ie=!1}}break e}finally{w=null,x=ne,k=!1}ie=void 0}}finally{ie?j():Y=!1}}}var j;if(typeof ce=="function")j=function(){ce(P)};else if(typeof MessageChannel<"u"){var C=new MessageChannel,ft=C.port2;C.port1.onmessage=P,j=function(){ft.postMessage(null)}}else j=function(){oe(P,0)};function Ye(K,ie){N=oe(function(){K(r.unstable_now())},ie)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(K){K.callback=null},r.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<K?Math.floor(1e3/K):5},r.unstable_getCurrentPriorityLevel=function(){return x},r.unstable_next=function(K){switch(x){case 1:case 2:case 3:var ie=3;break;default:ie=x}var ne=x;x=ie;try{return K()}finally{x=ne}},r.unstable_requestPaint=function(){G=!0},r.unstable_runWithPriority=function(K,ie){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var ne=x;x=K;try{return ie()}finally{x=ne}},r.unstable_scheduleCallback=function(K,ie,ne){var Le=r.unstable_now();switch(typeof ne=="object"&&ne!==null?(ne=ne.delay,ne=typeof ne=="number"&&0<ne?Le+ne:Le):ne=Le,K){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=ne+D,K={id:E++,callback:ie,priorityLevel:K,startTime:ne,expirationTime:D,sortIndex:-1},ne>Le?(K.sortIndex=ne,e(y,K),n(g)===null&&K===n(y)&&(Q?(ae(N),N=-1):Q=!0,Ye(pe,ne-Le))):(K.sortIndex=D,e(g,K),V||k||(V=!0,Y||(Y=!0,j()))),K},r.unstable_shouldYield=M,r.unstable_wrapCallback=function(K){var ie=x;return function(){var ne=x;x=ie;try{return K.apply(this,arguments)}finally{x=ne}}}}(Lf)),Lf}var t_;function aA(){return t_||(t_=1,Uf.exports=sA()),Uf.exports}var zf={exports:{}},Xt={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n_;function oA(){if(n_)return Xt;n_=1;var r=Pm();function e(g){var y="https://react.dev/errors/"+g;if(1<arguments.length){y+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)y+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+g+"; visit "+y+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(g,y,E){var w=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:w==null?null:""+w,children:g,containerInfo:y,implementation:E}}var d=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(g,y){if(g==="font")return"";if(typeof y=="string")return y==="use-credentials"?y:""}return Xt.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,Xt.createPortal=function(g,y){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!y||y.nodeType!==1&&y.nodeType!==9&&y.nodeType!==11)throw Error(e(299));return u(g,y,null,E)},Xt.flushSync=function(g){var y=d.T,E=s.p;try{if(d.T=null,s.p=2,g)return g()}finally{d.T=y,s.p=E,s.d.f()}},Xt.preconnect=function(g,y){typeof g=="string"&&(y?(y=y.crossOrigin,y=typeof y=="string"?y==="use-credentials"?y:"":void 0):y=null,s.d.C(g,y))},Xt.prefetchDNS=function(g){typeof g=="string"&&s.d.D(g)},Xt.preinit=function(g,y){if(typeof g=="string"&&y&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin),x=typeof y.integrity=="string"?y.integrity:void 0,k=typeof y.fetchPriority=="string"?y.fetchPriority:void 0;E==="style"?s.d.S(g,typeof y.precedence=="string"?y.precedence:void 0,{crossOrigin:w,integrity:x,fetchPriority:k}):E==="script"&&s.d.X(g,{crossOrigin:w,integrity:x,fetchPriority:k,nonce:typeof y.nonce=="string"?y.nonce:void 0})}},Xt.preinitModule=function(g,y){if(typeof g=="string")if(typeof y=="object"&&y!==null){if(y.as==null||y.as==="script"){var E=m(y.as,y.crossOrigin);s.d.M(g,{crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0})}}else y==null&&s.d.M(g)},Xt.preload=function(g,y){if(typeof g=="string"&&typeof y=="object"&&y!==null&&typeof y.as=="string"){var E=y.as,w=m(E,y.crossOrigin);s.d.L(g,E,{crossOrigin:w,integrity:typeof y.integrity=="string"?y.integrity:void 0,nonce:typeof y.nonce=="string"?y.nonce:void 0,type:typeof y.type=="string"?y.type:void 0,fetchPriority:typeof y.fetchPriority=="string"?y.fetchPriority:void 0,referrerPolicy:typeof y.referrerPolicy=="string"?y.referrerPolicy:void 0,imageSrcSet:typeof y.imageSrcSet=="string"?y.imageSrcSet:void 0,imageSizes:typeof y.imageSizes=="string"?y.imageSizes:void 0,media:typeof y.media=="string"?y.media:void 0})}},Xt.preloadModule=function(g,y){if(typeof g=="string")if(y){var E=m(y.as,y.crossOrigin);s.d.m(g,{as:typeof y.as=="string"&&y.as!=="script"?y.as:void 0,crossOrigin:E,integrity:typeof y.integrity=="string"?y.integrity:void 0})}else s.d.m(g)},Xt.requestFormReset=function(g){s.d.r(g)},Xt.unstable_batchedUpdates=function(g,y){return g(y)},Xt.useFormState=function(g,y,E){return d.H.useFormState(g,y,E)},Xt.useFormStatus=function(){return d.H.useHostTransitionStatus()},Xt.version="19.1.0",Xt}var i_;function lA(){if(i_)return zf.exports;i_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),zf.exports=oA(),zf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function uA(){if(r_)return Al;r_=1;var r=aA(),e=Pm(),n=lA();function s(t){var i="https://react.dev/errors/"+t;if(1<arguments.length){i+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)i+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+i+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var i=t,a=t;if(t.alternate)for(;i.return;)i=i.return;else{t=i;do i=t,(i.flags&4098)!==0&&(a=i.return),t=i.return;while(t)}return i.tag===3?a:null}function d(t){if(t.tag===13){var i=t.memoizedState;if(i===null&&(t=t.alternate,t!==null&&(i=t.memoizedState)),i!==null)return i.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function g(t){var i=t.alternate;if(!i){if(i=u(t),i===null)throw Error(s(188));return i!==t?null:t}for(var a=t,l=i;;){var h=a.return;if(h===null)break;var f=h.alternate;if(f===null){if(l=h.return,l!==null){a=l;continue}break}if(h.child===f.child){for(f=h.child;f;){if(f===a)return m(h),t;if(f===l)return m(h),i;f=f.sibling}throw Error(s(188))}if(a.return!==l.return)a=h,l=f;else{for(var b=!1,T=h.child;T;){if(T===a){b=!0,a=h,l=f;break}if(T===l){b=!0,l=h,a=f;break}T=T.sibling}if(!b){for(T=f.child;T;){if(T===a){b=!0,a=f,l=h;break}if(T===l){b=!0,l=f,a=h;break}T=T.sibling}if(!b)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:i}function y(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t;for(t=t.child;t!==null;){if(i=y(t),i!==null)return i;t=t.sibling}return null}var E=Object.assign,w=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),k=Symbol.for("react.portal"),V=Symbol.for("react.fragment"),Q=Symbol.for("react.strict_mode"),G=Symbol.for("react.profiler"),oe=Symbol.for("react.provider"),ae=Symbol.for("react.consumer"),ce=Symbol.for("react.context"),_e=Symbol.for("react.forward_ref"),pe=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),M=Symbol.for("react.memo_cache_sentinel"),P=Symbol.iterator;function j(t){return t===null||typeof t!="object"?null:(t=P&&t[P]||t["@@iterator"],typeof t=="function"?t:null)}var C=Symbol.for("react.client.reference");function ft(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===C?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case V:return"Fragment";case G:return"Profiler";case Q:return"StrictMode";case pe:return"Suspense";case Y:return"SuspenseList";case R:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case k:return"Portal";case ce:return(t.displayName||"Context")+".Provider";case ae:return(t._context.displayName||"Context")+".Consumer";case _e:var i=t.render;return t=t.displayName,t||(t=i.displayName||i.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case N:return i=t.displayName||null,i!==null?i:ft(t.type)||"Memo";case S:i=t._payload,t=t._init;try{return ft(t(i))}catch{}}return null}var Ye=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ie=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ne={pending:!1,data:null,method:null,action:null},Le=[],D=-1;function ee(t){return{current:t}}function se(t){0>D||(t.current=Le[D],Le[D]=null,D--)}function te(t,i){D++,Le[D]=t.current,t.current=i}var ue=ee(null),Ie=ee(null),Ee=ee(null),ke=ee(null);function Xe(t,i){switch(te(Ee,i),te(Ie,t),te(ue,null),i.nodeType){case 9:case 11:t=(t=i.documentElement)&&(t=t.namespaceURI)?wv(t):0;break;default:if(t=i.tagName,i=i.namespaceURI)i=wv(i),t=Sv(i,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}se(ue),te(ue,t)}function tn(){se(ue),se(Ie),se(Ee)}function fn(t){t.memoizedState!==null&&te(ke,t);var i=ue.current,a=Sv(i,t.type);i!==a&&(te(Ie,t),te(ue,a))}function mn(t){Ie.current===t&&(se(ue),se(Ie)),ke.current===t&&(se(ke),yl._currentValue=ne)}var Sn=Object.prototype.hasOwnProperty,Xr=r.unstable_scheduleCallback,$r=r.unstable_cancelCallback,mo=r.unstable_shouldYield,iu=r.unstable_requestPaint,xn=r.unstable_now,kh=r.unstable_getCurrentPriorityLevel,po=r.unstable_ImmediatePriority,Gs=r.unstable_UserBlockingPriority,Zr=r.unstable_NormalPriority,Vh=r.unstable_LowPriority,Fs=r.unstable_IdlePriority,go=r.log,ru=r.unstable_setDisableYieldValue,ct=null,$e=null;function pn(t){if(typeof go=="function"&&ru(t),$e&&typeof $e.setStrictMode=="function")try{$e.setStrictMode(ct,t)}catch{}}var Kt=Math.clz32?Math.clz32:Wr,su=Math.log,Ph=Math.LN2;function Wr(t){return t>>>=0,t===0?32:31-(su(t)/Ph|0)|0}var Jr=256,es=4194304;function Ln(t){var i=t&42;if(i!==0)return i;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function Qs(t,i,a){var l=t.pendingLanes;if(l===0)return 0;var h=0,f=t.suspendedLanes,b=t.pingedLanes;t=t.warmLanes;var T=l&134217727;return T!==0?(l=T&~f,l!==0?h=Ln(l):(b&=T,b!==0?h=Ln(b):a||(a=T&~t,a!==0&&(h=Ln(a))))):(T=l&~f,T!==0?h=Ln(T):b!==0?h=Ln(b):a||(a=l&~t,a!==0&&(h=Ln(a)))),h===0?0:i!==0&&i!==h&&(i&f)===0&&(f=h&-h,a=i&-i,f>=a||f===32&&(a&4194048)!==0)?i:h}function ts(t,i){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&i)===0}function yo(t,i){switch(t){case 1:case 2:case 4:case 8:case 64:return i+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vo(){var t=Jr;return Jr<<=1,(Jr&4194048)===0&&(Jr=256),t}function _o(){var t=es;return es<<=1,(es&62914560)===0&&(es=4194304),t}function vi(t){for(var i=[],a=0;31>a;a++)i.push(t);return i}function _i(t,i){t.pendingLanes|=i,i!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function bo(t,i,a,l,h,f){var b=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var T=t.entanglements,I=t.expirationTimes,B=t.hiddenUpdates;for(a=b&~a;0<a;){var X=31-Kt(a),Z=1<<X;T[X]=0,I[X]=-1;var q=B[X];if(q!==null)for(B[X]=null,X=0;X<q.length;X++){var H=q[X];H!==null&&(H.lane&=-536870913)}a&=~Z}l!==0&&Xn(t,l,0),f!==0&&h===0&&t.tag!==0&&(t.suspendedLanes|=f&~(b&~i))}function Xn(t,i,a){t.pendingLanes|=i,t.suspendedLanes&=~i;var l=31-Kt(i);t.entangledLanes|=i,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Eo(t,i){var a=t.entangledLanes|=i;for(t=t.entanglements;a;){var l=31-Kt(a),h=1<<l;h&i|t[l]&i&&(t[l]|=i),a&=~h}}function Wi(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function Ks(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function Ji(){var t=ie.p;return t!==0?t:(t=window.event,t===void 0?32:Gv(t.type))}function au(t,i){var a=ie.p;try{return ie.p=t,i()}finally{ie.p=a}}var at=Math.random().toString(36).slice(2),St="__reactFiber$"+at,vt="__reactProps$"+at,Rn="__reactContainer$"+at,To="__reactEvents$"+at,jh="__reactListeners$"+at,er="__reactHandles$"+at,ou="__reactResources$"+at,ns="__reactMarker$"+at;function tr(t){delete t[St],delete t[vt],delete t[To],delete t[jh],delete t[er]}function bi(t){var i=t[St];if(i)return i;for(var a=t.parentNode;a;){if(i=a[Rn]||a[St]){if(a=i.alternate,i.child!==null||a!==null&&a.child!==null)for(t=Nv(t);t!==null;){if(a=t[St])return a;t=Nv(t)}return i}t=a,a=t.parentNode}return null}function $n(t){if(t=t[St]||t[Rn]){var i=t.tag;if(i===5||i===6||i===13||i===26||i===27||i===3)return t}return null}function Zn(t){var i=t.tag;if(i===5||i===26||i===27||i===6)return t.stateNode;throw Error(s(33))}function nn(t){var i=t[ou];return i||(i=t[ou]={hoistableStyles:new Map,hoistableScripts:new Map}),i}function mt(t){t[ns]=!0}var Ao=new Set,Ys={};function zn(t,i){Ei(t,i),Ei(t+"Capture",i)}function Ei(t,i){for(Ys[t]=i,t=0;t<i.length;t++)Ao.add(i[t])}var lu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),uu={},is={};function cu(t){return Sn.call(is,t)?!0:Sn.call(uu,t)?!1:lu.test(t)?is[t]=!0:(uu[t]=!0,!1)}function nr(t,i,a){if(cu(i))if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(i);return;case"boolean":var l=i.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(i);return}}t.setAttribute(i,""+a)}}function Wn(t,i,a){if(a===null)t.removeAttribute(i);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(i);return}t.setAttribute(i,""+a)}}function Lt(t,i,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(i,a,""+l)}}var rs,hu;function Ti(t){if(rs===void 0)try{throw Error()}catch(a){var i=a.stack.trim().match(/\n( *(at )?)/);rs=i&&i[1]||"",hu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+rs+t+hu}var Xs=!1;function $s(t,i){if(!t||Xs)return"";Xs=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(i){var Z=function(){throw Error()};if(Object.defineProperty(Z.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Z,[])}catch(H){var q=H}Reflect.construct(t,[],Z)}else{try{Z.call()}catch(H){q=H}t.call(Z.prototype)}}else{try{throw Error()}catch(H){q=H}(Z=t())&&typeof Z.catch=="function"&&Z.catch(function(){})}}catch(H){if(H&&q&&typeof H.stack=="string")return[H.stack,q.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var h=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");h&&h.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=l.DetermineComponentFrameRoot(),b=f[0],T=f[1];if(b&&T){var I=b.split(`
`),B=T.split(`
`);for(h=l=0;l<I.length&&!I[l].includes("DetermineComponentFrameRoot");)l++;for(;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;if(l===I.length||h===B.length)for(l=I.length-1,h=B.length-1;1<=l&&0<=h&&I[l]!==B[h];)h--;for(;1<=l&&0<=h;l--,h--)if(I[l]!==B[h]){if(l!==1||h!==1)do if(l--,h--,0>h||I[l]!==B[h]){var X=`
`+I[l].replace(" at new "," at ");return t.displayName&&X.includes("<anonymous>")&&(X=X.replace("<anonymous>",t.displayName)),X}while(1<=l&&0<=h);break}}}finally{Xs=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Ti(a):""}function wo(t){switch(t.tag){case 26:case 27:case 5:return Ti(t.type);case 16:return Ti("Lazy");case 13:return Ti("Suspense");case 19:return Ti("SuspenseList");case 0:case 15:return $s(t.type,!1);case 11:return $s(t.type.render,!1);case 1:return $s(t.type,!0);case 31:return Ti("Activity");default:return""}}function Zs(t){try{var i="";do i+=wo(t),t=t.return;while(t);return i}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function rn(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function So(t){var i=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(i==="checkbox"||i==="radio")}function Uh(t){var i=So(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,i),l=""+t[i];if(!t.hasOwnProperty(i)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var h=a.get,f=a.set;return Object.defineProperty(t,i,{configurable:!0,get:function(){return h.call(this)},set:function(b){l=""+b,f.call(this,b)}}),Object.defineProperty(t,i,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(b){l=""+b},stopTracking:function(){t._valueTracker=null,delete t[i]}}}}function Ws(t){t._valueTracker||(t._valueTracker=Uh(t))}function xo(t){if(!t)return!1;var i=t._valueTracker;if(!i)return!0;var a=i.getValue(),l="";return t&&(l=So(t)?t.checked?"true":"false":t.value),t=l,t!==a?(i.setValue(t),!0):!1}function ss(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var Lh=/[\n"\\]/g;function _t(t){return t.replace(Lh,function(i){return"\\"+i.charCodeAt(0).toString(16)+" "})}function gn(t,i,a,l,h,f,b,T){t.name="",b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"?t.type=b:t.removeAttribute("type"),i!=null?b==="number"?(i===0&&t.value===""||t.value!=i)&&(t.value=""+rn(i)):t.value!==""+rn(i)&&(t.value=""+rn(i)):b!=="submit"&&b!=="reset"||t.removeAttribute("value"),i!=null?ir(t,b,rn(i)):a!=null?ir(t,b,rn(a)):l!=null&&t.removeAttribute("value"),h==null&&f!=null&&(t.defaultChecked=!!f),h!=null&&(t.checked=h&&typeof h!="function"&&typeof h!="symbol"),T!=null&&typeof T!="function"&&typeof T!="symbol"&&typeof T!="boolean"?t.name=""+rn(T):t.removeAttribute("name")}function as(t,i,a,l,h,f,b,T){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(t.type=f),i!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||i!=null))return;a=a!=null?""+rn(a):"",i=i!=null?""+rn(i):a,T||i===t.value||(t.value=i),t.defaultValue=i}l=l??h,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=T?t.checked:!!l,t.defaultChecked=!!l,b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(t.name=b)}function ir(t,i,a){i==="number"&&ss(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Ai(t,i,a,l){if(t=t.options,i){i={};for(var h=0;h<a.length;h++)i["$"+a[h]]=!0;for(a=0;a<t.length;a++)h=i.hasOwnProperty("$"+t[a].value),t[a].selected!==h&&(t[a].selected=h),h&&l&&(t[a].defaultSelected=!0)}else{for(a=""+rn(a),i=null,h=0;h<t.length;h++){if(t[h].value===a){t[h].selected=!0,l&&(t[h].defaultSelected=!0);return}i!==null||t[h].disabled||(i=t[h])}i!==null&&(i.selected=!0)}}function Je(t,i,a){if(i!=null&&(i=""+rn(i),i!==t.value&&(t.value=i),a==null)){t.defaultValue!==i&&(t.defaultValue=i);return}t.defaultValue=a!=null?""+rn(a):""}function os(t,i,a,l){if(i==null){if(l!=null){if(a!=null)throw Error(s(92));if(Ye(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),i=a}a=rn(i),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function In(t,i){if(i){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=i;return}}t.textContent=i}var ls=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function du(t,i,a){var l=i.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(i,""):i==="float"?t.cssFloat="":t[i]="":l?t.setProperty(i,a):typeof a!="number"||a===0||ls.has(i)?i==="float"?t.cssFloat=a:t[i]=(""+a).trim():t[i]=a+"px"}function Ro(t,i,a){if(i!=null&&typeof i!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||i!=null&&i.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var h in i)l=i[h],i.hasOwnProperty(h)&&a[h]!==l&&du(t,h,l)}else for(var f in i)i.hasOwnProperty(f)&&du(t,f,i[f])}function Io(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var zh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Js(t){return Bh.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var wi=null;function Nn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Si=null,xi=null;function No(t){var i=$n(t);if(i&&(t=i.stateNode)){var a=t[vt]||null;e:switch(t=i.stateNode,i.type){case"input":if(gn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),i=a.name,a.type==="radio"&&i!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+_t(""+i)+'"][type="radio"]'),i=0;i<a.length;i++){var l=a[i];if(l!==t&&l.form===t.form){var h=l[vt]||null;if(!h)throw Error(s(90));gn(l,h.value,h.defaultValue,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name)}}for(i=0;i<a.length;i++)l=a[i],l.form===t.form&&xo(l)}break e;case"textarea":Je(t,a.value,a.defaultValue);break e;case"select":i=a.value,i!=null&&Ai(t,!!a.multiple,i,!1)}}}var Jn=!1;function fu(t,i,a){if(Jn)return t(i,a);Jn=!0;try{var l=t(i);return l}finally{if(Jn=!1,(Si!==null||xi!==null)&&(ac(),Si&&(i=Si,t=xi,xi=Si=null,No(i),t)))for(i=0;i<t.length;i++)No(t[i])}}function us(t,i){var a=t.stateNode;if(a===null)return null;var l=a[vt]||null;if(l===null)return null;a=l[i];e:switch(i){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,i,typeof a));return a}var Bn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cn=!1;if(Bn)try{var cs={};Object.defineProperty(cs,"passive",{get:function(){Cn=!0}}),window.addEventListener("test",cs,cs),window.removeEventListener("test",cs,cs)}catch{Cn=!1}var ei=null,rr=null,Ri=null;function Co(){if(Ri)return Ri;var t,i=rr,a=i.length,l,h="value"in ei?ei.value:ei.textContent,f=h.length;for(t=0;t<a&&i[t]===h[t];t++);var b=a-t;for(l=1;l<=b&&i[a-l]===h[f-l];l++);return Ri=h.slice(t,1<l?1-l:void 0)}function ti(t){var i=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&i===13&&(t=13)):t=i,t===10&&(t=13),32<=t||t===13?t:0}function ni(){return!0}function Do(){return!1}function Mt(t){function i(a,l,h,f,b){this._reactName=a,this._targetInst=h,this.type=l,this.nativeEvent=f,this.target=b,this.currentTarget=null;for(var T in t)t.hasOwnProperty(T)&&(a=t[T],this[T]=a?a(f):f[T]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?ni:Do,this.isPropagationStopped=Do,this}return E(i.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ni)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ni)},persist:function(){},isPersistent:ni}),i}var Qe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=Mt(Qe),hs=E({},Qe,{view:0,detail:0}),mu=Mt(hs),ta,na,ii,ds=E({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ps,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==ii&&(ii&&t.type==="mousemove"?(ta=t.screenX-ii.screenX,na=t.screenY-ii.screenY):na=ta=0,ii=t),ta)},movementY:function(t){return"movementY"in t?t.movementY:na}}),Dn=Mt(ds),pu=E({},ds,{dataTransfer:0}),qh=Mt(pu),fs=E({},hs,{relatedTarget:0}),ia=Mt(fs),Oo=E({},Qe,{animationName:0,elapsedTime:0,pseudoElement:0}),ra=Mt(Oo),gu=E({},Qe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),sa=Mt(gu),Hh=E({},Qe,{data:0}),Mo=Mt(Hh),ms={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ko(t){var i=this.nativeEvent;return i.getModifierState?i.getModifierState(t):(t=vu[t])?!!i[t]:!1}function ps(){return ko}var _u=E({},hs,{key:function(t){if(t.key){var i=ms[t.key]||t.key;if(i!=="Unidentified")return i}return t.type==="keypress"?(t=ti(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?yu[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ps,charCode:function(t){return t.type==="keypress"?ti(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ti(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aa=Mt(_u),bu=E({},ds,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vo=Mt(bu),Ii=E({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ps}),Eu=Mt(Ii),Tu=E({},Qe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Au=Mt(Tu),wu=E({},ds,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),oa=Mt(wu),sn=E({},Qe,{newState:0,oldState:0}),Su=Mt(sn),xu=[9,13,27,32],ri=Bn&&"CompositionEvent"in window,c=null;Bn&&"documentMode"in document&&(c=document.documentMode);var p=Bn&&"TextEvent"in window&&!c,v=Bn&&(!ri||c&&8<c&&11>=c),A=" ",L=!1;function F(t,i){switch(t){case"keyup":return xu.indexOf(i.keyCode)!==-1;case"keydown":return i.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function re(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ze=!1;function xt(t,i){switch(t){case"compositionend":return re(i);case"keypress":return i.which!==32?null:(L=!0,A);case"textInput":return t=i.data,t===A&&L?null:t;default:return null}}function Be(t,i){if(ze)return t==="compositionend"||!ri&&F(t,i)?(t=Co(),Ri=rr=ei=null,ze=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(i.ctrlKey||i.altKey||i.metaKey)||i.ctrlKey&&i.altKey){if(i.char&&1<i.char.length)return i.char;if(i.which)return String.fromCharCode(i.which)}return null;case"compositionend":return v&&i.locale!=="ko"?null:i.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rt(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i==="input"?!!kt[t.type]:i==="textarea"}function Ni(t,i,a,l){Si?xi?xi.push(l):xi=[l]:Si=l,i=dc(i,"onChange"),0<i.length&&(a=new ea("onChange","change",null,a,l),t.push({event:a,listeners:i}))}var zt=null,si=null;function Po(t){_v(t,0)}function Ru(t){var i=Zn(t);if(xo(i))return t}function zp(t,i){if(t==="change")return i}var Bp=!1;if(Bn){var Gh;if(Bn){var Fh="oninput"in document;if(!Fh){var qp=document.createElement("div");qp.setAttribute("oninput","return;"),Fh=typeof qp.oninput=="function"}Gh=Fh}else Gh=!1;Bp=Gh&&(!document.documentMode||9<document.documentMode)}function Hp(){zt&&(zt.detachEvent("onpropertychange",Gp),si=zt=null)}function Gp(t){if(t.propertyName==="value"&&Ru(si)){var i=[];Ni(i,si,t,Nn(t)),fu(Po,i)}}function OT(t,i,a){t==="focusin"?(Hp(),zt=i,si=a,zt.attachEvent("onpropertychange",Gp)):t==="focusout"&&Hp()}function MT(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ru(si)}function kT(t,i){if(t==="click")return Ru(i)}function VT(t,i){if(t==="input"||t==="change")return Ru(i)}function PT(t,i){return t===i&&(t!==0||1/t===1/i)||t!==t&&i!==i}var yn=typeof Object.is=="function"?Object.is:PT;function jo(t,i){if(yn(t,i))return!0;if(typeof t!="object"||t===null||typeof i!="object"||i===null)return!1;var a=Object.keys(t),l=Object.keys(i);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var h=a[l];if(!Sn.call(i,h)||!yn(t[h],i[h]))return!1}return!0}function Fp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Qp(t,i){var a=Fp(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=i&&l>=i)return{node:a,offset:i-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Fp(a)}}function Kp(t,i){return t&&i?t===i?!0:t&&t.nodeType===3?!1:i&&i.nodeType===3?Kp(t,i.parentNode):"contains"in t?t.contains(i):t.compareDocumentPosition?!!(t.compareDocumentPosition(i)&16):!1:!1}function Yp(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var i=ss(t.document);i instanceof t.HTMLIFrameElement;){try{var a=typeof i.contentWindow.location.href=="string"}catch{a=!1}if(a)t=i.contentWindow;else break;i=ss(t.document)}return i}function Qh(t){var i=t&&t.nodeName&&t.nodeName.toLowerCase();return i&&(i==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||i==="textarea"||t.contentEditable==="true")}var jT=Bn&&"documentMode"in document&&11>=document.documentMode,la=null,Kh=null,Uo=null,Yh=!1;function Xp(t,i,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Yh||la==null||la!==ss(l)||(l=la,"selectionStart"in l&&Qh(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Uo&&jo(Uo,l)||(Uo=l,l=dc(Kh,"onSelect"),0<l.length&&(i=new ea("onSelect","select",null,i,a),t.push({event:i,listeners:l}),i.target=la)))}function gs(t,i){var a={};return a[t.toLowerCase()]=i.toLowerCase(),a["Webkit"+t]="webkit"+i,a["Moz"+t]="moz"+i,a}var ua={animationend:gs("Animation","AnimationEnd"),animationiteration:gs("Animation","AnimationIteration"),animationstart:gs("Animation","AnimationStart"),transitionrun:gs("Transition","TransitionRun"),transitionstart:gs("Transition","TransitionStart"),transitioncancel:gs("Transition","TransitionCancel"),transitionend:gs("Transition","TransitionEnd")},Xh={},$p={};Bn&&($p=document.createElement("div").style,"AnimationEvent"in window||(delete ua.animationend.animation,delete ua.animationiteration.animation,delete ua.animationstart.animation),"TransitionEvent"in window||delete ua.transitionend.transition);function ys(t){if(Xh[t])return Xh[t];if(!ua[t])return t;var i=ua[t],a;for(a in i)if(i.hasOwnProperty(a)&&a in $p)return Xh[t]=i[a];return t}var Zp=ys("animationend"),Wp=ys("animationiteration"),Jp=ys("animationstart"),UT=ys("transitionrun"),LT=ys("transitionstart"),zT=ys("transitioncancel"),eg=ys("transitionend"),tg=new Map,$h="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");$h.push("scrollEnd");function qn(t,i){tg.set(t,i),zn(i,[t])}var ng=new WeakMap;function On(t,i){if(typeof t=="object"&&t!==null){var a=ng.get(t);return a!==void 0?a:(i={value:t,source:i,stack:Zs(i)},ng.set(t,i),i)}return{value:t,source:i,stack:Zs(i)}}var Mn=[],ca=0,Zh=0;function Iu(){for(var t=ca,i=Zh=ca=0;i<t;){var a=Mn[i];Mn[i++]=null;var l=Mn[i];Mn[i++]=null;var h=Mn[i];Mn[i++]=null;var f=Mn[i];if(Mn[i++]=null,l!==null&&h!==null){var b=l.pending;b===null?h.next=h:(h.next=b.next,b.next=h),l.pending=h}f!==0&&ig(a,h,f)}}function Nu(t,i,a,l){Mn[ca++]=t,Mn[ca++]=i,Mn[ca++]=a,Mn[ca++]=l,Zh|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Wh(t,i,a,l){return Nu(t,i,a,l),Cu(t)}function ha(t,i){return Nu(t,null,null,i),Cu(t)}function ig(t,i,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var h=!1,f=t.return;f!==null;)f.childLanes|=a,l=f.alternate,l!==null&&(l.childLanes|=a),f.tag===22&&(t=f.stateNode,t===null||t._visibility&1||(h=!0)),t=f,f=f.return;return t.tag===3?(f=t.stateNode,h&&i!==null&&(h=31-Kt(a),t=f.hiddenUpdates,l=t[h],l===null?t[h]=[i]:l.push(i),i.lane=a|536870912),f):null}function Cu(t){if(50<ul)throw ul=0,sf=null,Error(s(185));for(var i=t.return;i!==null;)t=i,i=t.return;return t.tag===3?t.stateNode:null}var da={};function BT(t,i,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=i,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(t,i,a,l){return new BT(t,i,a,l)}function Jh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Ci(t,i){var a=t.alternate;return a===null?(a=vn(t.tag,i,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=i,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,i=t.dependencies,a.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function rg(t,i){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=i,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,i=a.dependencies,t.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),t}function Du(t,i,a,l,h,f){var b=0;if(l=t,typeof t=="function")Jh(t)&&(b=1);else if(typeof t=="string")b=H1(t,a,ue.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case R:return t=vn(31,a,i,h),t.elementType=R,t.lanes=f,t;case V:return vs(a.children,h,f,i);case Q:b=8,h|=24;break;case G:return t=vn(12,a,i,h|2),t.elementType=G,t.lanes=f,t;case pe:return t=vn(13,a,i,h),t.elementType=pe,t.lanes=f,t;case Y:return t=vn(19,a,i,h),t.elementType=Y,t.lanes=f,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case oe:case ce:b=10;break e;case ae:b=9;break e;case _e:b=11;break e;case N:b=14;break e;case S:b=16,l=null;break e}b=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return i=vn(b,a,i,h),i.elementType=t,i.type=l,i.lanes=f,i}function vs(t,i,a,l){return t=vn(7,t,l,i),t.lanes=a,t}function ed(t,i,a){return t=vn(6,t,null,i),t.lanes=a,t}function td(t,i,a){return i=vn(4,t.children!==null?t.children:[],t.key,i),i.lanes=a,i.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},i}var fa=[],ma=0,Ou=null,Mu=0,kn=[],Vn=0,_s=null,Di=1,Oi="";function bs(t,i){fa[ma++]=Mu,fa[ma++]=Ou,Ou=t,Mu=i}function sg(t,i,a){kn[Vn++]=Di,kn[Vn++]=Oi,kn[Vn++]=_s,_s=t;var l=Di;t=Oi;var h=32-Kt(l)-1;l&=~(1<<h),a+=1;var f=32-Kt(i)+h;if(30<f){var b=h-h%5;f=(l&(1<<b)-1).toString(32),l>>=b,h-=b,Di=1<<32-Kt(i)+h|a<<h|l,Oi=f+t}else Di=1<<f|a<<h|l,Oi=t}function nd(t){t.return!==null&&(bs(t,1),sg(t,1,0))}function id(t){for(;t===Ou;)Ou=fa[--ma],fa[ma]=null,Mu=fa[--ma],fa[ma]=null;for(;t===_s;)_s=kn[--Vn],kn[Vn]=null,Oi=kn[--Vn],kn[Vn]=null,Di=kn[--Vn],kn[Vn]=null}var an=null,ht=null,Fe=!1,Es=null,ai=!1,rd=Error(s(519));function Ts(t){var i=Error(s(418,""));throw Bo(On(i,t)),rd}function ag(t){var i=t.stateNode,a=t.type,l=t.memoizedProps;switch(i[St]=t,i[vt]=l,a){case"dialog":Pe("cancel",i),Pe("close",i);break;case"iframe":case"object":case"embed":Pe("load",i);break;case"video":case"audio":for(a=0;a<hl.length;a++)Pe(hl[a],i);break;case"source":Pe("error",i);break;case"img":case"image":case"link":Pe("error",i),Pe("load",i);break;case"details":Pe("toggle",i);break;case"input":Pe("invalid",i),as(i,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Ws(i);break;case"select":Pe("invalid",i);break;case"textarea":Pe("invalid",i),os(i,l.value,l.defaultValue,l.children),Ws(i)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||i.textContent===""+a||l.suppressHydrationWarning===!0||Av(i.textContent,a)?(l.popover!=null&&(Pe("beforetoggle",i),Pe("toggle",i)),l.onScroll!=null&&Pe("scroll",i),l.onScrollEnd!=null&&Pe("scrollend",i),l.onClick!=null&&(i.onclick=fc),i=!0):i=!1,i||Ts(t)}function og(t){for(an=t.return;an;)switch(an.tag){case 5:case 13:ai=!1;return;case 27:case 3:ai=!0;return;default:an=an.return}}function Lo(t){if(t!==an)return!1;if(!Fe)return og(t),Fe=!0,!1;var i=t.tag,a;if((a=i!==3&&i!==27)&&((a=i===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||Ef(t.type,t.memoizedProps)),a=!a),a&&ht&&Ts(t),og(t),i===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,i=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(i===0){ht=Gn(t.nextSibling);break e}i--}else a!=="$"&&a!=="$!"&&a!=="$?"||i++;t=t.nextSibling}ht=null}}else i===27?(i=ht,br(t.type)?(t=Sf,Sf=null,ht=t):ht=i):ht=an?Gn(t.stateNode.nextSibling):null;return!0}function zo(){ht=an=null,Fe=!1}function lg(){var t=Es;return t!==null&&(un===null?un=t:un.push.apply(un,t),Es=null),t}function Bo(t){Es===null?Es=[t]:Es.push(t)}var sd=ee(null),As=null,Mi=null;function sr(t,i,a){te(sd,i._currentValue),i._currentValue=a}function ki(t){t._currentValue=sd.current,se(sd)}function ad(t,i,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&i)!==i?(t.childLanes|=i,l!==null&&(l.childLanes|=i)):l!==null&&(l.childLanes&i)!==i&&(l.childLanes|=i),t===a)break;t=t.return}}function od(t,i,a,l){var h=t.child;for(h!==null&&(h.return=t);h!==null;){var f=h.dependencies;if(f!==null){var b=h.child;f=f.firstContext;e:for(;f!==null;){var T=f;f=h;for(var I=0;I<i.length;I++)if(T.context===i[I]){f.lanes|=a,T=f.alternate,T!==null&&(T.lanes|=a),ad(f.return,a,t),l||(b=null);break e}f=T.next}}else if(h.tag===18){if(b=h.return,b===null)throw Error(s(341));b.lanes|=a,f=b.alternate,f!==null&&(f.lanes|=a),ad(b,a,t),b=null}else b=h.child;if(b!==null)b.return=h;else for(b=h;b!==null;){if(b===t){b=null;break}if(h=b.sibling,h!==null){h.return=b.return,b=h;break}b=b.return}h=b}}function qo(t,i,a,l){t=null;for(var h=i,f=!1;h!==null;){if(!f){if((h.flags&524288)!==0)f=!0;else if((h.flags&262144)!==0)break}if(h.tag===10){var b=h.alternate;if(b===null)throw Error(s(387));if(b=b.memoizedProps,b!==null){var T=h.type;yn(h.pendingProps.value,b.value)||(t!==null?t.push(T):t=[T])}}else if(h===ke.current){if(b=h.alternate,b===null)throw Error(s(387));b.memoizedState.memoizedState!==h.memoizedState.memoizedState&&(t!==null?t.push(yl):t=[yl])}h=h.return}t!==null&&od(i,t,a,l),i.flags|=262144}function ku(t){for(t=t.firstContext;t!==null;){if(!yn(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function ws(t){As=t,Mi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Yt(t){return ug(As,t)}function Vu(t,i){return As===null&&ws(t),ug(t,i)}function ug(t,i){var a=i._currentValue;if(i={context:i,memoizedValue:a,next:null},Mi===null){if(t===null)throw Error(s(308));Mi=i,t.dependencies={lanes:0,firstContext:i},t.flags|=524288}else Mi=Mi.next=i;return a}var qT=typeof AbortController<"u"?AbortController:function(){var t=[],i=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){i.aborted=!0,t.forEach(function(a){return a()})}},HT=r.unstable_scheduleCallback,GT=r.unstable_NormalPriority,It={$$typeof:ce,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ld(){return{controller:new qT,data:new Map,refCount:0}}function Ho(t){t.refCount--,t.refCount===0&&HT(GT,function(){t.controller.abort()})}var Go=null,ud=0,pa=0,ga=null;function FT(t,i){if(Go===null){var a=Go=[];ud=0,pa=df(),ga={status:"pending",value:void 0,then:function(l){a.push(l)}}}return ud++,i.then(cg,cg),i}function cg(){if(--ud===0&&Go!==null){ga!==null&&(ga.status="fulfilled");var t=Go;Go=null,pa=0,ga=null;for(var i=0;i<t.length;i++)(0,t[i])()}}function QT(t,i){var a=[],l={status:"pending",value:null,reason:null,then:function(h){a.push(h)}};return t.then(function(){l.status="fulfilled",l.value=i;for(var h=0;h<a.length;h++)(0,a[h])(i)},function(h){for(l.status="rejected",l.reason=h,h=0;h<a.length;h++)(0,a[h])(void 0)}),l}var hg=K.S;K.S=function(t,i){typeof i=="object"&&i!==null&&typeof i.then=="function"&&FT(t,i),hg!==null&&hg(t,i)};var Ss=ee(null);function cd(){var t=Ss.current;return t!==null?t:rt.pooledCache}function Pu(t,i){i===null?te(Ss,Ss.current):te(Ss,i.pool)}function dg(){var t=cd();return t===null?null:{parent:It._currentValue,pool:t}}var Fo=Error(s(460)),fg=Error(s(474)),ju=Error(s(542)),hd={then:function(){}};function mg(t){return t=t.status,t==="fulfilled"||t==="rejected"}function Uu(){}function pg(t,i,a){switch(a=t[a],a===void 0?t.push(i):a!==i&&(i.then(Uu,Uu),i=a),i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,yg(t),t;default:if(typeof i.status=="string")i.then(Uu,Uu);else{if(t=rt,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=i,t.status="pending",t.then(function(l){if(i.status==="pending"){var h=i;h.status="fulfilled",h.value=l}},function(l){if(i.status==="pending"){var h=i;h.status="rejected",h.reason=l}})}switch(i.status){case"fulfilled":return i.value;case"rejected":throw t=i.reason,yg(t),t}throw Qo=i,Fo}}var Qo=null;function gg(){if(Qo===null)throw Error(s(459));var t=Qo;return Qo=null,t}function yg(t){if(t===Fo||t===ju)throw Error(s(483))}var ar=!1;function dd(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fd(t,i){t=t.updateQueue,i.updateQueue===t&&(i.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function or(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function lr(t,i,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Ze&2)!==0){var h=l.pending;return h===null?i.next=i:(i.next=h.next,h.next=i),l.pending=i,i=Cu(t),ig(t,null,a),i}return Nu(t,l,i,a),Cu(t)}function Ko(t,i,a){if(i=i.updateQueue,i!==null&&(i=i.shared,(a&4194048)!==0)){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Eo(t,a)}}function md(t,i){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var h=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var b={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?h=f=b:f=f.next=b,a=a.next}while(a!==null);f===null?h=f=i:f=f.next=i}else h=f=i;a={baseState:l.baseState,firstBaseUpdate:h,lastBaseUpdate:f,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=i:t.next=i,a.lastBaseUpdate=i}var pd=!1;function Yo(){if(pd){var t=ga;if(t!==null)throw t}}function Xo(t,i,a,l){pd=!1;var h=t.updateQueue;ar=!1;var f=h.firstBaseUpdate,b=h.lastBaseUpdate,T=h.shared.pending;if(T!==null){h.shared.pending=null;var I=T,B=I.next;I.next=null,b===null?f=B:b.next=B,b=I;var X=t.alternate;X!==null&&(X=X.updateQueue,T=X.lastBaseUpdate,T!==b&&(T===null?X.firstBaseUpdate=B:T.next=B,X.lastBaseUpdate=I))}if(f!==null){var Z=h.baseState;b=0,X=B=I=null,T=f;do{var q=T.lane&-536870913,H=q!==T.lane;if(H?(qe&q)===q:(l&q)===q){q!==0&&q===pa&&(pd=!0),X!==null&&(X=X.next={lane:0,tag:T.tag,payload:T.payload,callback:null,next:null});e:{var Ae=t,ve=T;q=i;var nt=a;switch(ve.tag){case 1:if(Ae=ve.payload,typeof Ae=="function"){Z=Ae.call(nt,Z,q);break e}Z=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=ve.payload,q=typeof Ae=="function"?Ae.call(nt,Z,q):Ae,q==null)break e;Z=E({},Z,q);break e;case 2:ar=!0}}q=T.callback,q!==null&&(t.flags|=64,H&&(t.flags|=8192),H=h.callbacks,H===null?h.callbacks=[q]:H.push(q))}else H={lane:q,tag:T.tag,payload:T.payload,callback:T.callback,next:null},X===null?(B=X=H,I=Z):X=X.next=H,b|=q;if(T=T.next,T===null){if(T=h.shared.pending,T===null)break;H=T,T=H.next,H.next=null,h.lastBaseUpdate=H,h.shared.pending=null}}while(!0);X===null&&(I=Z),h.baseState=I,h.firstBaseUpdate=B,h.lastBaseUpdate=X,f===null&&(h.shared.lanes=0),gr|=b,t.lanes=b,t.memoizedState=Z}}function vg(t,i){if(typeof t!="function")throw Error(s(191,t));t.call(i)}function _g(t,i){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)vg(a[t],i)}var ya=ee(null),Lu=ee(0);function bg(t,i){t=Bi,te(Lu,t),te(ya,i),Bi=t|i.baseLanes}function gd(){te(Lu,Bi),te(ya,ya.current)}function yd(){Bi=Lu.current,se(ya),se(Lu)}var ur=0,Ce=null,et=null,bt=null,zu=!1,va=!1,xs=!1,Bu=0,$o=0,_a=null,KT=0;function pt(){throw Error(s(321))}function vd(t,i){if(i===null)return!1;for(var a=0;a<i.length&&a<t.length;a++)if(!yn(t[a],i[a]))return!1;return!0}function _d(t,i,a,l,h,f){return ur=f,Ce=i,i.memoizedState=null,i.updateQueue=null,i.lanes=0,K.H=t===null||t.memoizedState===null?iy:ry,xs=!1,f=a(l,h),xs=!1,va&&(f=Tg(i,a,l,h)),Eg(t),f}function Eg(t){K.H=Ku;var i=et!==null&&et.next!==null;if(ur=0,bt=et=Ce=null,zu=!1,$o=0,_a=null,i)throw Error(s(300));t===null||Vt||(t=t.dependencies,t!==null&&ku(t)&&(Vt=!0))}function Tg(t,i,a,l){Ce=t;var h=0;do{if(va&&(_a=null),$o=0,va=!1,25<=h)throw Error(s(301));if(h+=1,bt=et=null,t.updateQueue!=null){var f=t.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}K.H=e1,f=i(a,l)}while(va);return f}function YT(){var t=K.H,i=t.useState()[0];return i=typeof i.then=="function"?Zo(i):i,t=t.useState()[0],(et!==null?et.memoizedState:null)!==t&&(Ce.flags|=1024),i}function bd(){var t=Bu!==0;return Bu=0,t}function Ed(t,i,a){i.updateQueue=t.updateQueue,i.flags&=-2053,t.lanes&=~a}function Td(t){if(zu){for(t=t.memoizedState;t!==null;){var i=t.queue;i!==null&&(i.pending=null),t=t.next}zu=!1}ur=0,bt=et=Ce=null,va=!1,$o=Bu=0,_a=null}function on(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return bt===null?Ce.memoizedState=bt=t:bt=bt.next=t,bt}function Et(){if(et===null){var t=Ce.alternate;t=t!==null?t.memoizedState:null}else t=et.next;var i=bt===null?Ce.memoizedState:bt.next;if(i!==null)bt=i,et=t;else{if(t===null)throw Ce.alternate===null?Error(s(467)):Error(s(310));et=t,t={memoizedState:et.memoizedState,baseState:et.baseState,baseQueue:et.baseQueue,queue:et.queue,next:null},bt===null?Ce.memoizedState=bt=t:bt=bt.next=t}return bt}function Ad(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zo(t){var i=$o;return $o+=1,_a===null&&(_a=[]),t=pg(_a,t,i),i=Ce,(bt===null?i.memoizedState:bt.next)===null&&(i=i.alternate,K.H=i===null||i.memoizedState===null?iy:ry),t}function qu(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return Zo(t);if(t.$$typeof===ce)return Yt(t)}throw Error(s(438,String(t)))}function wd(t){var i=null,a=Ce.updateQueue;if(a!==null&&(i=a.memoCache),i==null){var l=Ce.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(i={data:l.data.map(function(h){return h.slice()}),index:0})))}if(i==null&&(i={data:[],index:0}),a===null&&(a=Ad(),Ce.updateQueue=a),a.memoCache=i,a=i.data[i.index],a===void 0)for(a=i.data[i.index]=Array(t),l=0;l<t;l++)a[l]=M;return i.index++,a}function Vi(t,i){return typeof i=="function"?i(t):i}function Hu(t){var i=Et();return Sd(i,et,t)}function Sd(t,i,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var h=t.baseQueue,f=l.pending;if(f!==null){if(h!==null){var b=h.next;h.next=f.next,f.next=b}i.baseQueue=h=f,l.pending=null}if(f=t.baseState,h===null)t.memoizedState=f;else{i=h.next;var T=b=null,I=null,B=i,X=!1;do{var Z=B.lane&-536870913;if(Z!==B.lane?(qe&Z)===Z:(ur&Z)===Z){var q=B.revertLane;if(q===0)I!==null&&(I=I.next={lane:0,revertLane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),Z===pa&&(X=!0);else if((ur&q)===q){B=B.next,q===pa&&(X=!0);continue}else Z={lane:0,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=Z,b=f):I=I.next=Z,Ce.lanes|=q,gr|=q;Z=B.action,xs&&a(f,Z),f=B.hasEagerState?B.eagerState:a(f,Z)}else q={lane:Z,revertLane:B.revertLane,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},I===null?(T=I=q,b=f):I=I.next=q,Ce.lanes|=Z,gr|=Z;B=B.next}while(B!==null&&B!==i);if(I===null?b=f:I.next=T,!yn(f,t.memoizedState)&&(Vt=!0,X&&(a=ga,a!==null)))throw a;t.memoizedState=f,t.baseState=b,t.baseQueue=I,l.lastRenderedState=f}return h===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function xd(t){var i=Et(),a=i.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,h=a.pending,f=i.memoizedState;if(h!==null){a.pending=null;var b=h=h.next;do f=t(f,b.action),b=b.next;while(b!==h);yn(f,i.memoizedState)||(Vt=!0),i.memoizedState=f,i.baseQueue===null&&(i.baseState=f),a.lastRenderedState=f}return[f,l]}function Ag(t,i,a){var l=Ce,h=Et(),f=Fe;if(f){if(a===void 0)throw Error(s(407));a=a()}else a=i();var b=!yn((et||h).memoizedState,a);b&&(h.memoizedState=a,Vt=!0),h=h.queue;var T=xg.bind(null,l,h,t);if(Wo(2048,8,T,[t]),h.getSnapshot!==i||b||bt!==null&&bt.memoizedState.tag&1){if(l.flags|=2048,ba(9,Gu(),Sg.bind(null,l,h,a,i),null),rt===null)throw Error(s(349));f||(ur&124)!==0||wg(l,i,a)}return a}function wg(t,i,a){t.flags|=16384,t={getSnapshot:i,value:a},i=Ce.updateQueue,i===null?(i=Ad(),Ce.updateQueue=i,i.stores=[t]):(a=i.stores,a===null?i.stores=[t]:a.push(t))}function Sg(t,i,a,l){i.value=a,i.getSnapshot=l,Rg(i)&&Ig(t)}function xg(t,i,a){return a(function(){Rg(i)&&Ig(t)})}function Rg(t){var i=t.getSnapshot;t=t.value;try{var a=i();return!yn(t,a)}catch{return!0}}function Ig(t){var i=ha(t,2);i!==null&&An(i,t,2)}function Rd(t){var i=on();if(typeof t=="function"){var a=t;if(t=a(),xs){pn(!0);try{a()}finally{pn(!1)}}}return i.memoizedState=i.baseState=t,i.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:t},i}function Ng(t,i,a,l){return t.baseState=a,Sd(t,et,typeof l=="function"?l:Vi)}function XT(t,i,a,l,h){if(Qu(t))throw Error(s(485));if(t=i.action,t!==null){var f={payload:h,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(b){f.listeners.push(b)}};K.T!==null?a(!0):f.isTransition=!1,l(f),a=i.pending,a===null?(f.next=i.pending=f,Cg(i,f)):(f.next=a.next,i.pending=a.next=f)}}function Cg(t,i){var a=i.action,l=i.payload,h=t.state;if(i.isTransition){var f=K.T,b={};K.T=b;try{var T=a(h,l),I=K.S;I!==null&&I(b,T),Dg(t,i,T)}catch(B){Id(t,i,B)}finally{K.T=f}}else try{f=a(h,l),Dg(t,i,f)}catch(B){Id(t,i,B)}}function Dg(t,i,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Og(t,i,l)},function(l){return Id(t,i,l)}):Og(t,i,a)}function Og(t,i,a){i.status="fulfilled",i.value=a,Mg(i),t.state=a,i=t.pending,i!==null&&(a=i.next,a===i?t.pending=null:(a=a.next,i.next=a,Cg(t,a)))}function Id(t,i,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do i.status="rejected",i.reason=a,Mg(i),i=i.next;while(i!==l)}t.action=null}function Mg(t){t=t.listeners;for(var i=0;i<t.length;i++)(0,t[i])()}function kg(t,i){return i}function Vg(t,i){if(Fe){var a=rt.formState;if(a!==null){e:{var l=Ce;if(Fe){if(ht){t:{for(var h=ht,f=ai;h.nodeType!==8;){if(!f){h=null;break t}if(h=Gn(h.nextSibling),h===null){h=null;break t}}f=h.data,h=f==="F!"||f==="F"?h:null}if(h){ht=Gn(h.nextSibling),l=h.data==="F!";break e}}Ts(l)}l=!1}l&&(i=a[0])}}return a=on(),a.memoizedState=a.baseState=i,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:kg,lastRenderedState:i},a.queue=l,a=ey.bind(null,Ce,l),l.dispatch=a,l=Rd(!1),f=Md.bind(null,Ce,!1,l.queue),l=on(),h={state:i,dispatch:null,action:t,pending:null},l.queue=h,a=XT.bind(null,Ce,h,f,a),h.dispatch=a,l.memoizedState=t,[i,a,!1]}function Pg(t){var i=Et();return jg(i,et,t)}function jg(t,i,a){if(i=Sd(t,i,kg)[0],t=Hu(Vi)[0],typeof i=="object"&&i!==null&&typeof i.then=="function")try{var l=Zo(i)}catch(b){throw b===Fo?ju:b}else l=i;i=Et();var h=i.queue,f=h.dispatch;return a!==i.memoizedState&&(Ce.flags|=2048,ba(9,Gu(),$T.bind(null,h,a),null)),[l,f,t]}function $T(t,i){t.action=i}function Ug(t){var i=Et(),a=et;if(a!==null)return jg(i,a,t);Et(),i=i.memoizedState,a=Et();var l=a.queue.dispatch;return a.memoizedState=t,[i,l,!1]}function ba(t,i,a,l){return t={tag:t,create:a,deps:l,inst:i,next:null},i=Ce.updateQueue,i===null&&(i=Ad(),Ce.updateQueue=i),a=i.lastEffect,a===null?i.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,i.lastEffect=t),t}function Gu(){return{destroy:void 0,resource:void 0}}function Lg(){return Et().memoizedState}function Fu(t,i,a,l){var h=on();l=l===void 0?null:l,Ce.flags|=t,h.memoizedState=ba(1|i,Gu(),a,l)}function Wo(t,i,a,l){var h=Et();l=l===void 0?null:l;var f=h.memoizedState.inst;et!==null&&l!==null&&vd(l,et.memoizedState.deps)?h.memoizedState=ba(i,f,a,l):(Ce.flags|=t,h.memoizedState=ba(1|i,f,a,l))}function zg(t,i){Fu(8390656,8,t,i)}function Bg(t,i){Wo(2048,8,t,i)}function qg(t,i){return Wo(4,2,t,i)}function Hg(t,i){return Wo(4,4,t,i)}function Gg(t,i){if(typeof i=="function"){t=t();var a=i(t);return function(){typeof a=="function"?a():i(null)}}if(i!=null)return t=t(),i.current=t,function(){i.current=null}}function Fg(t,i,a){a=a!=null?a.concat([t]):null,Wo(4,4,Gg.bind(null,i,t),a)}function Nd(){}function Qg(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;return i!==null&&vd(i,l[1])?l[0]:(a.memoizedState=[t,i],t)}function Kg(t,i){var a=Et();i=i===void 0?null:i;var l=a.memoizedState;if(i!==null&&vd(i,l[1]))return l[0];if(l=t(),xs){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[l,i],l}function Cd(t,i,a){return a===void 0||(ur&1073741824)!==0?t.memoizedState=i:(t.memoizedState=a,t=$y(),Ce.lanes|=t,gr|=t,a)}function Yg(t,i,a,l){return yn(a,i)?a:ya.current!==null?(t=Cd(t,a,l),yn(t,i)||(Vt=!0),t):(ur&42)===0?(Vt=!0,t.memoizedState=a):(t=$y(),Ce.lanes|=t,gr|=t,i)}function Xg(t,i,a,l,h){var f=ie.p;ie.p=f!==0&&8>f?f:8;var b=K.T,T={};K.T=T,Md(t,!1,i,a);try{var I=h(),B=K.S;if(B!==null&&B(T,I),I!==null&&typeof I=="object"&&typeof I.then=="function"){var X=QT(I,l);Jo(t,i,X,Tn(t))}else Jo(t,i,l,Tn(t))}catch(Z){Jo(t,i,{then:function(){},status:"rejected",reason:Z},Tn())}finally{ie.p=f,K.T=b}}function ZT(){}function Dd(t,i,a,l){if(t.tag!==5)throw Error(s(476));var h=$g(t).queue;Xg(t,h,i,ne,a===null?ZT:function(){return Zg(t),a(l)})}function $g(t){var i=t.memoizedState;if(i!==null)return i;i={memoizedState:ne,baseState:ne,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:ne},next:null};var a={};return i.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:a},next:null},t.memoizedState=i,t=t.alternate,t!==null&&(t.memoizedState=i),i}function Zg(t){var i=$g(t).next.queue;Jo(t,i,{},Tn())}function Od(){return Yt(yl)}function Wg(){return Et().memoizedState}function Jg(){return Et().memoizedState}function WT(t){for(var i=t.return;i!==null;){switch(i.tag){case 24:case 3:var a=Tn();t=or(a);var l=lr(i,t,a);l!==null&&(An(l,i,a),Ko(l,i,a)),i={cache:ld()},t.payload=i;return}i=i.return}}function JT(t,i,a){var l=Tn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Qu(t)?ty(i,a):(a=Wh(t,i,a,l),a!==null&&(An(a,t,l),ny(a,i,l)))}function ey(t,i,a){var l=Tn();Jo(t,i,a,l)}function Jo(t,i,a,l){var h={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Qu(t))ty(i,h);else{var f=t.alternate;if(t.lanes===0&&(f===null||f.lanes===0)&&(f=i.lastRenderedReducer,f!==null))try{var b=i.lastRenderedState,T=f(b,a);if(h.hasEagerState=!0,h.eagerState=T,yn(T,b))return Nu(t,i,h,0),rt===null&&Iu(),!1}catch{}finally{}if(a=Wh(t,i,h,l),a!==null)return An(a,t,l),ny(a,i,l),!0}return!1}function Md(t,i,a,l){if(l={lane:2,revertLane:df(),action:l,hasEagerState:!1,eagerState:null,next:null},Qu(t)){if(i)throw Error(s(479))}else i=Wh(t,a,l,2),i!==null&&An(i,t,2)}function Qu(t){var i=t.alternate;return t===Ce||i!==null&&i===Ce}function ty(t,i){va=zu=!0;var a=t.pending;a===null?i.next=i:(i.next=a.next,a.next=i),t.pending=i}function ny(t,i,a){if((a&4194048)!==0){var l=i.lanes;l&=t.pendingLanes,a|=l,i.lanes=a,Eo(t,a)}}var Ku={readContext:Yt,use:qu,useCallback:pt,useContext:pt,useEffect:pt,useImperativeHandle:pt,useLayoutEffect:pt,useInsertionEffect:pt,useMemo:pt,useReducer:pt,useRef:pt,useState:pt,useDebugValue:pt,useDeferredValue:pt,useTransition:pt,useSyncExternalStore:pt,useId:pt,useHostTransitionStatus:pt,useFormState:pt,useActionState:pt,useOptimistic:pt,useMemoCache:pt,useCacheRefresh:pt},iy={readContext:Yt,use:qu,useCallback:function(t,i){return on().memoizedState=[t,i===void 0?null:i],t},useContext:Yt,useEffect:zg,useImperativeHandle:function(t,i,a){a=a!=null?a.concat([t]):null,Fu(4194308,4,Gg.bind(null,i,t),a)},useLayoutEffect:function(t,i){return Fu(4194308,4,t,i)},useInsertionEffect:function(t,i){Fu(4,2,t,i)},useMemo:function(t,i){var a=on();i=i===void 0?null:i;var l=t();if(xs){pn(!0);try{t()}finally{pn(!1)}}return a.memoizedState=[l,i],l},useReducer:function(t,i,a){var l=on();if(a!==void 0){var h=a(i);if(xs){pn(!0);try{a(i)}finally{pn(!1)}}}else h=i;return l.memoizedState=l.baseState=h,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:h},l.queue=t,t=t.dispatch=JT.bind(null,Ce,t),[l.memoizedState,t]},useRef:function(t){var i=on();return t={current:t},i.memoizedState=t},useState:function(t){t=Rd(t);var i=t.queue,a=ey.bind(null,Ce,i);return i.dispatch=a,[t.memoizedState,a]},useDebugValue:Nd,useDeferredValue:function(t,i){var a=on();return Cd(a,t,i)},useTransition:function(){var t=Rd(!1);return t=Xg.bind(null,Ce,t.queue,!0,!1),on().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,i,a){var l=Ce,h=on();if(Fe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=i(),rt===null)throw Error(s(349));(qe&124)!==0||wg(l,i,a)}h.memoizedState=a;var f={value:a,getSnapshot:i};return h.queue=f,zg(xg.bind(null,l,f,t),[t]),l.flags|=2048,ba(9,Gu(),Sg.bind(null,l,f,a,i),null),a},useId:function(){var t=on(),i=rt.identifierPrefix;if(Fe){var a=Oi,l=Di;a=(l&~(1<<32-Kt(l)-1)).toString(32)+a,i="«"+i+"R"+a,a=Bu++,0<a&&(i+="H"+a.toString(32)),i+="»"}else a=KT++,i="«"+i+"r"+a.toString(32)+"»";return t.memoizedState=i},useHostTransitionStatus:Od,useFormState:Vg,useActionState:Vg,useOptimistic:function(t){var i=on();i.memoizedState=i.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return i.queue=a,i=Md.bind(null,Ce,!0,a),a.dispatch=i,[t,i]},useMemoCache:wd,useCacheRefresh:function(){return on().memoizedState=WT.bind(null,Ce)}},ry={readContext:Yt,use:qu,useCallback:Qg,useContext:Yt,useEffect:Bg,useImperativeHandle:Fg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Kg,useReducer:Hu,useRef:Lg,useState:function(){return Hu(Vi)},useDebugValue:Nd,useDeferredValue:function(t,i){var a=Et();return Yg(a,et.memoizedState,t,i)},useTransition:function(){var t=Hu(Vi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:Zo(t),i]},useSyncExternalStore:Ag,useId:Wg,useHostTransitionStatus:Od,useFormState:Pg,useActionState:Pg,useOptimistic:function(t,i){var a=Et();return Ng(a,et,t,i)},useMemoCache:wd,useCacheRefresh:Jg},e1={readContext:Yt,use:qu,useCallback:Qg,useContext:Yt,useEffect:Bg,useImperativeHandle:Fg,useInsertionEffect:qg,useLayoutEffect:Hg,useMemo:Kg,useReducer:xd,useRef:Lg,useState:function(){return xd(Vi)},useDebugValue:Nd,useDeferredValue:function(t,i){var a=Et();return et===null?Cd(a,t,i):Yg(a,et.memoizedState,t,i)},useTransition:function(){var t=xd(Vi)[0],i=Et().memoizedState;return[typeof t=="boolean"?t:Zo(t),i]},useSyncExternalStore:Ag,useId:Wg,useHostTransitionStatus:Od,useFormState:Ug,useActionState:Ug,useOptimistic:function(t,i){var a=Et();return et!==null?Ng(a,et,t,i):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:wd,useCacheRefresh:Jg},Ea=null,el=0;function Yu(t){var i=el;return el+=1,Ea===null&&(Ea=[]),pg(Ea,t,i)}function tl(t,i){i=i.props.ref,t.ref=i!==void 0?i:null}function Xu(t,i){throw i.$$typeof===w?Error(s(525)):(t=Object.prototype.toString.call(i),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(i).join(", ")+"}":t)))}function sy(t){var i=t._init;return i(t._payload)}function ay(t){function i(U,O){if(t){var z=U.deletions;z===null?(U.deletions=[O],U.flags|=16):z.push(O)}}function a(U,O){if(!t)return null;for(;O!==null;)i(U,O),O=O.sibling;return null}function l(U){for(var O=new Map;U!==null;)U.key!==null?O.set(U.key,U):O.set(U.index,U),U=U.sibling;return O}function h(U,O){return U=Ci(U,O),U.index=0,U.sibling=null,U}function f(U,O,z){return U.index=z,t?(z=U.alternate,z!==null?(z=z.index,z<O?(U.flags|=67108866,O):z):(U.flags|=67108866,O)):(U.flags|=1048576,O)}function b(U){return t&&U.alternate===null&&(U.flags|=67108866),U}function T(U,O,z,$){return O===null||O.tag!==6?(O=ed(z,U.mode,$),O.return=U,O):(O=h(O,z),O.return=U,O)}function I(U,O,z,$){var de=z.type;return de===V?X(U,O,z.props.children,$,z.key):O!==null&&(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===S&&sy(de)===O.type)?(O=h(O,z.props),tl(O,z),O.return=U,O):(O=Du(z.type,z.key,z.props,null,U.mode,$),tl(O,z),O.return=U,O)}function B(U,O,z,$){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=td(z,U.mode,$),O.return=U,O):(O=h(O,z.children||[]),O.return=U,O)}function X(U,O,z,$,de){return O===null||O.tag!==7?(O=vs(z,U.mode,$,de),O.return=U,O):(O=h(O,z),O.return=U,O)}function Z(U,O,z){if(typeof O=="string"&&O!==""||typeof O=="number"||typeof O=="bigint")return O=ed(""+O,U.mode,z),O.return=U,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case x:return z=Du(O.type,O.key,O.props,null,U.mode,z),tl(z,O),z.return=U,z;case k:return O=td(O,U.mode,z),O.return=U,O;case S:var $=O._init;return O=$(O._payload),Z(U,O,z)}if(Ye(O)||j(O))return O=vs(O,U.mode,z,null),O.return=U,O;if(typeof O.then=="function")return Z(U,Yu(O),z);if(O.$$typeof===ce)return Z(U,Vu(U,O),z);Xu(U,O)}return null}function q(U,O,z,$){var de=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return de!==null?null:T(U,O,""+z,$);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case x:return z.key===de?I(U,O,z,$):null;case k:return z.key===de?B(U,O,z,$):null;case S:return de=z._init,z=de(z._payload),q(U,O,z,$)}if(Ye(z)||j(z))return de!==null?null:X(U,O,z,$,null);if(typeof z.then=="function")return q(U,O,Yu(z),$);if(z.$$typeof===ce)return q(U,O,Vu(U,z),$);Xu(U,z)}return null}function H(U,O,z,$,de){if(typeof $=="string"&&$!==""||typeof $=="number"||typeof $=="bigint")return U=U.get(z)||null,T(O,U,""+$,de);if(typeof $=="object"&&$!==null){switch($.$$typeof){case x:return U=U.get($.key===null?z:$.key)||null,I(O,U,$,de);case k:return U=U.get($.key===null?z:$.key)||null,B(O,U,$,de);case S:var Me=$._init;return $=Me($._payload),H(U,O,z,$,de)}if(Ye($)||j($))return U=U.get(z)||null,X(O,U,$,de,null);if(typeof $.then=="function")return H(U,O,z,Yu($),de);if($.$$typeof===ce)return H(U,O,z,Vu(O,$),de);Xu(O,$)}return null}function Ae(U,O,z,$){for(var de=null,Me=null,ge=O,be=O=0,jt=null;ge!==null&&be<z.length;be++){ge.index>be?(jt=ge,ge=null):jt=ge.sibling;var Ge=q(U,ge,z[be],$);if(Ge===null){ge===null&&(ge=jt);break}t&&ge&&Ge.alternate===null&&i(U,ge),O=f(Ge,O,be),Me===null?de=Ge:Me.sibling=Ge,Me=Ge,ge=jt}if(be===z.length)return a(U,ge),Fe&&bs(U,be),de;if(ge===null){for(;be<z.length;be++)ge=Z(U,z[be],$),ge!==null&&(O=f(ge,O,be),Me===null?de=ge:Me.sibling=ge,Me=ge);return Fe&&bs(U,be),de}for(ge=l(ge);be<z.length;be++)jt=H(ge,U,be,z[be],$),jt!==null&&(t&&jt.alternate!==null&&ge.delete(jt.key===null?be:jt.key),O=f(jt,O,be),Me===null?de=jt:Me.sibling=jt,Me=jt);return t&&ge.forEach(function(Sr){return i(U,Sr)}),Fe&&bs(U,be),de}function ve(U,O,z,$){if(z==null)throw Error(s(151));for(var de=null,Me=null,ge=O,be=O=0,jt=null,Ge=z.next();ge!==null&&!Ge.done;be++,Ge=z.next()){ge.index>be?(jt=ge,ge=null):jt=ge.sibling;var Sr=q(U,ge,Ge.value,$);if(Sr===null){ge===null&&(ge=jt);break}t&&ge&&Sr.alternate===null&&i(U,ge),O=f(Sr,O,be),Me===null?de=Sr:Me.sibling=Sr,Me=Sr,ge=jt}if(Ge.done)return a(U,ge),Fe&&bs(U,be),de;if(ge===null){for(;!Ge.done;be++,Ge=z.next())Ge=Z(U,Ge.value,$),Ge!==null&&(O=f(Ge,O,be),Me===null?de=Ge:Me.sibling=Ge,Me=Ge);return Fe&&bs(U,be),de}for(ge=l(ge);!Ge.done;be++,Ge=z.next())Ge=H(ge,U,be,Ge.value,$),Ge!==null&&(t&&Ge.alternate!==null&&ge.delete(Ge.key===null?be:Ge.key),O=f(Ge,O,be),Me===null?de=Ge:Me.sibling=Ge,Me=Ge);return t&&ge.forEach(function(tA){return i(U,tA)}),Fe&&bs(U,be),de}function nt(U,O,z,$){if(typeof z=="object"&&z!==null&&z.type===V&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case x:e:{for(var de=z.key;O!==null;){if(O.key===de){if(de=z.type,de===V){if(O.tag===7){a(U,O.sibling),$=h(O,z.props.children),$.return=U,U=$;break e}}else if(O.elementType===de||typeof de=="object"&&de!==null&&de.$$typeof===S&&sy(de)===O.type){a(U,O.sibling),$=h(O,z.props),tl($,z),$.return=U,U=$;break e}a(U,O);break}else i(U,O);O=O.sibling}z.type===V?($=vs(z.props.children,U.mode,$,z.key),$.return=U,U=$):($=Du(z.type,z.key,z.props,null,U.mode,$),tl($,z),$.return=U,U=$)}return b(U);case k:e:{for(de=z.key;O!==null;){if(O.key===de)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){a(U,O.sibling),$=h(O,z.children||[]),$.return=U,U=$;break e}else{a(U,O);break}else i(U,O);O=O.sibling}$=td(z,U.mode,$),$.return=U,U=$}return b(U);case S:return de=z._init,z=de(z._payload),nt(U,O,z,$)}if(Ye(z))return Ae(U,O,z,$);if(j(z)){if(de=j(z),typeof de!="function")throw Error(s(150));return z=de.call(z),ve(U,O,z,$)}if(typeof z.then=="function")return nt(U,O,Yu(z),$);if(z.$$typeof===ce)return nt(U,O,Vu(U,z),$);Xu(U,z)}return typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint"?(z=""+z,O!==null&&O.tag===6?(a(U,O.sibling),$=h(O,z),$.return=U,U=$):(a(U,O),$=ed(z,U.mode,$),$.return=U,U=$),b(U)):a(U,O)}return function(U,O,z,$){try{el=0;var de=nt(U,O,z,$);return Ea=null,de}catch(ge){if(ge===Fo||ge===ju)throw ge;var Me=vn(29,ge,null,U.mode);return Me.lanes=$,Me.return=U,Me}finally{}}}var Ta=ay(!0),oy=ay(!1),Pn=ee(null),oi=null;function cr(t){var i=t.alternate;te(Nt,Nt.current&1),te(Pn,t),oi===null&&(i===null||ya.current!==null||i.memoizedState!==null)&&(oi=t)}function ly(t){if(t.tag===22){if(te(Nt,Nt.current),te(Pn,t),oi===null){var i=t.alternate;i!==null&&i.memoizedState!==null&&(oi=t)}}else hr()}function hr(){te(Nt,Nt.current),te(Pn,Pn.current)}function Pi(t){se(Pn),oi===t&&(oi=null),se(Nt)}var Nt=ee(0);function $u(t){for(var i=t;i!==null;){if(i.tag===13){var a=i.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||wf(a)))return i}else if(i.tag===19&&i.memoizedProps.revealOrder!==void 0){if((i.flags&128)!==0)return i}else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return null;i=i.return}i.sibling.return=i.return,i=i.sibling}return null}function kd(t,i,a,l){i=t.memoizedState,a=a(l,i),a=a==null?i:E({},i,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var Vd={enqueueSetState:function(t,i,a){t=t._reactInternals;var l=Tn(),h=or(l);h.payload=i,a!=null&&(h.callback=a),i=lr(t,h,l),i!==null&&(An(i,t,l),Ko(i,t,l))},enqueueReplaceState:function(t,i,a){t=t._reactInternals;var l=Tn(),h=or(l);h.tag=1,h.payload=i,a!=null&&(h.callback=a),i=lr(t,h,l),i!==null&&(An(i,t,l),Ko(i,t,l))},enqueueForceUpdate:function(t,i){t=t._reactInternals;var a=Tn(),l=or(a);l.tag=2,i!=null&&(l.callback=i),i=lr(t,l,a),i!==null&&(An(i,t,a),Ko(i,t,a))}};function uy(t,i,a,l,h,f,b){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,f,b):i.prototype&&i.prototype.isPureReactComponent?!jo(a,l)||!jo(h,f):!0}function cy(t,i,a,l){t=i.state,typeof i.componentWillReceiveProps=="function"&&i.componentWillReceiveProps(a,l),typeof i.UNSAFE_componentWillReceiveProps=="function"&&i.UNSAFE_componentWillReceiveProps(a,l),i.state!==t&&Vd.enqueueReplaceState(i,i.state,null)}function Rs(t,i){var a=i;if("ref"in i){a={};for(var l in i)l!=="ref"&&(a[l]=i[l])}if(t=t.defaultProps){a===i&&(a=E({},a));for(var h in t)a[h]===void 0&&(a[h]=t[h])}return a}var Zu=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var i=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(i))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function hy(t){Zu(t)}function dy(t){console.error(t)}function fy(t){Zu(t)}function Wu(t,i){try{var a=t.onUncaughtError;a(i.value,{componentStack:i.stack})}catch(l){setTimeout(function(){throw l})}}function my(t,i,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:i.tag===1?i.stateNode:null})}catch(h){setTimeout(function(){throw h})}}function Pd(t,i,a){return a=or(a),a.tag=3,a.payload={element:null},a.callback=function(){Wu(t,i)},a}function py(t){return t=or(t),t.tag=3,t}function gy(t,i,a,l){var h=a.type.getDerivedStateFromError;if(typeof h=="function"){var f=l.value;t.payload=function(){return h(f)},t.callback=function(){my(i,a,l)}}var b=a.stateNode;b!==null&&typeof b.componentDidCatch=="function"&&(t.callback=function(){my(i,a,l),typeof h!="function"&&(yr===null?yr=new Set([this]):yr.add(this));var T=l.stack;this.componentDidCatch(l.value,{componentStack:T!==null?T:""})})}function t1(t,i,a,l,h){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(i=a.alternate,i!==null&&qo(i,a,h,!0),a=Pn.current,a!==null){switch(a.tag){case 13:return oi===null?of():a.alternate===null&&dt===0&&(dt=3),a.flags&=-257,a.flags|=65536,a.lanes=h,l===hd?a.flags|=16384:(i=a.updateQueue,i===null?a.updateQueue=new Set([l]):i.add(l),uf(t,l,h)),!1;case 22:return a.flags|=65536,l===hd?a.flags|=16384:(i=a.updateQueue,i===null?(i={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=i):(a=i.retryQueue,a===null?i.retryQueue=new Set([l]):a.add(l)),uf(t,l,h)),!1}throw Error(s(435,a.tag))}return uf(t,l,h),of(),!1}if(Fe)return i=Pn.current,i!==null?((i.flags&65536)===0&&(i.flags|=256),i.flags|=65536,i.lanes=h,l!==rd&&(t=Error(s(422),{cause:l}),Bo(On(t,a)))):(l!==rd&&(i=Error(s(423),{cause:l}),Bo(On(i,a))),t=t.current.alternate,t.flags|=65536,h&=-h,t.lanes|=h,l=On(l,a),h=Pd(t.stateNode,l,h),md(t,h),dt!==4&&(dt=2)),!1;var f=Error(s(520),{cause:l});if(f=On(f,a),ll===null?ll=[f]:ll.push(f),dt!==4&&(dt=2),i===null)return!0;l=On(l,a),a=i;do{switch(a.tag){case 3:return a.flags|=65536,t=h&-h,a.lanes|=t,t=Pd(a.stateNode,l,t),md(a,t),!1;case 1:if(i=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof i.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(yr===null||!yr.has(f))))return a.flags|=65536,h&=-h,a.lanes|=h,h=py(h),gy(h,t,a,l),md(a,h),!1}a=a.return}while(a!==null);return!1}var yy=Error(s(461)),Vt=!1;function Bt(t,i,a,l){i.child=t===null?oy(i,null,a,l):Ta(i,t.child,a,l)}function vy(t,i,a,l,h){a=a.render;var f=i.ref;if("ref"in l){var b={};for(var T in l)T!=="ref"&&(b[T]=l[T])}else b=l;return ws(i),l=_d(t,i,a,b,f,h),T=bd(),t!==null&&!Vt?(Ed(t,i,h),ji(t,i,h)):(Fe&&T&&nd(i),i.flags|=1,Bt(t,i,l,h),i.child)}function _y(t,i,a,l,h){if(t===null){var f=a.type;return typeof f=="function"&&!Jh(f)&&f.defaultProps===void 0&&a.compare===null?(i.tag=15,i.type=f,by(t,i,f,l,h)):(t=Du(a.type,null,l,i,i.mode,h),t.ref=i.ref,t.return=i,i.child=t)}if(f=t.child,!Gd(t,h)){var b=f.memoizedProps;if(a=a.compare,a=a!==null?a:jo,a(b,l)&&t.ref===i.ref)return ji(t,i,h)}return i.flags|=1,t=Ci(f,l),t.ref=i.ref,t.return=i,i.child=t}function by(t,i,a,l,h){if(t!==null){var f=t.memoizedProps;if(jo(f,l)&&t.ref===i.ref)if(Vt=!1,i.pendingProps=l=f,Gd(t,h))(t.flags&131072)!==0&&(Vt=!0);else return i.lanes=t.lanes,ji(t,i,h)}return jd(t,i,a,l,h)}function Ey(t,i,a){var l=i.pendingProps,h=l.children,f=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((i.flags&128)!==0){if(l=f!==null?f.baseLanes|a:a,t!==null){for(h=i.child=t.child,f=0;h!==null;)f=f|h.lanes|h.childLanes,h=h.sibling;i.childLanes=f&~l}else i.childLanes=0,i.child=null;return Ty(t,i,l,a)}if((a&536870912)!==0)i.memoizedState={baseLanes:0,cachePool:null},t!==null&&Pu(i,f!==null?f.cachePool:null),f!==null?bg(i,f):gd(),ly(i);else return i.lanes=i.childLanes=536870912,Ty(t,i,f!==null?f.baseLanes|a:a,a)}else f!==null?(Pu(i,f.cachePool),bg(i,f),hr(),i.memoizedState=null):(t!==null&&Pu(i,null),gd(),hr());return Bt(t,i,h,a),i.child}function Ty(t,i,a,l){var h=cd();return h=h===null?null:{parent:It._currentValue,pool:h},i.memoizedState={baseLanes:a,cachePool:h},t!==null&&Pu(i,null),gd(),ly(i),t!==null&&qo(t,i,l,!0),null}function Ju(t,i){var a=i.ref;if(a===null)t!==null&&t.ref!==null&&(i.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(i.flags|=4194816)}}function jd(t,i,a,l,h){return ws(i),a=_d(t,i,a,l,void 0,h),l=bd(),t!==null&&!Vt?(Ed(t,i,h),ji(t,i,h)):(Fe&&l&&nd(i),i.flags|=1,Bt(t,i,a,h),i.child)}function Ay(t,i,a,l,h,f){return ws(i),i.updateQueue=null,a=Tg(i,l,a,h),Eg(t),l=bd(),t!==null&&!Vt?(Ed(t,i,f),ji(t,i,f)):(Fe&&l&&nd(i),i.flags|=1,Bt(t,i,a,f),i.child)}function wy(t,i,a,l,h){if(ws(i),i.stateNode===null){var f=da,b=a.contextType;typeof b=="object"&&b!==null&&(f=Yt(b)),f=new a(l,f),i.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Vd,i.stateNode=f,f._reactInternals=i,f=i.stateNode,f.props=l,f.state=i.memoizedState,f.refs={},dd(i),b=a.contextType,f.context=typeof b=="object"&&b!==null?Yt(b):da,f.state=i.memoizedState,b=a.getDerivedStateFromProps,typeof b=="function"&&(kd(i,a,b,l),f.state=i.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(b=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),b!==f.state&&Vd.enqueueReplaceState(f,f.state,null),Xo(i,l,f,h),Yo(),f.state=i.memoizedState),typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!0}else if(t===null){f=i.stateNode;var T=i.memoizedProps,I=Rs(a,T);f.props=I;var B=f.context,X=a.contextType;b=da,typeof X=="object"&&X!==null&&(b=Yt(X));var Z=a.getDerivedStateFromProps;X=typeof Z=="function"||typeof f.getSnapshotBeforeUpdate=="function",T=i.pendingProps!==T,X||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(T||B!==b)&&cy(i,f,l,b),ar=!1;var q=i.memoizedState;f.state=q,Xo(i,l,f,h),Yo(),B=i.memoizedState,T||q!==B||ar?(typeof Z=="function"&&(kd(i,a,Z,l),B=i.memoizedState),(I=ar||uy(i,a,I,l,q,B,b))?(X||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(i.flags|=4194308)):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),i.memoizedProps=l,i.memoizedState=B),f.props=l,f.state=B,f.context=b,l=I):(typeof f.componentDidMount=="function"&&(i.flags|=4194308),l=!1)}else{f=i.stateNode,fd(t,i),b=i.memoizedProps,X=Rs(a,b),f.props=X,Z=i.pendingProps,q=f.context,B=a.contextType,I=da,typeof B=="object"&&B!==null&&(I=Yt(B)),T=a.getDerivedStateFromProps,(B=typeof T=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(b!==Z||q!==I)&&cy(i,f,l,I),ar=!1,q=i.memoizedState,f.state=q,Xo(i,l,f,h),Yo();var H=i.memoizedState;b!==Z||q!==H||ar||t!==null&&t.dependencies!==null&&ku(t.dependencies)?(typeof T=="function"&&(kd(i,a,T,l),H=i.memoizedState),(X=ar||uy(i,a,X,l,q,H,I)||t!==null&&t.dependencies!==null&&ku(t.dependencies))?(B||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(l,H,I),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(l,H,I)),typeof f.componentDidUpdate=="function"&&(i.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(i.flags|=1024)):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),i.memoizedProps=l,i.memoizedState=H),f.props=l,f.state=H,f.context=I,l=X):(typeof f.componentDidUpdate!="function"||b===t.memoizedProps&&q===t.memoizedState||(i.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||b===t.memoizedProps&&q===t.memoizedState||(i.flags|=1024),l=!1)}return f=l,Ju(t,i),l=(i.flags&128)!==0,f||l?(f=i.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:f.render(),i.flags|=1,t!==null&&l?(i.child=Ta(i,t.child,null,h),i.child=Ta(i,null,a,h)):Bt(t,i,a,h),i.memoizedState=f.state,t=i.child):t=ji(t,i,h),t}function Sy(t,i,a,l){return zo(),i.flags|=256,Bt(t,i,a,l),i.child}var Ud={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Ld(t){return{baseLanes:t,cachePool:dg()}}function zd(t,i,a){return t=t!==null?t.childLanes&~a:0,i&&(t|=jn),t}function xy(t,i,a){var l=i.pendingProps,h=!1,f=(i.flags&128)!==0,b;if((b=f)||(b=t!==null&&t.memoizedState===null?!1:(Nt.current&2)!==0),b&&(h=!0,i.flags&=-129),b=(i.flags&32)!==0,i.flags&=-33,t===null){if(Fe){if(h?cr(i):hr(),Fe){var T=ht,I;if(I=T){e:{for(I=T,T=ai;I.nodeType!==8;){if(!T){T=null;break e}if(I=Gn(I.nextSibling),I===null){T=null;break e}}T=I}T!==null?(i.memoizedState={dehydrated:T,treeContext:_s!==null?{id:Di,overflow:Oi}:null,retryLane:536870912,hydrationErrors:null},I=vn(18,null,null,0),I.stateNode=T,I.return=i,i.child=I,an=i,ht=null,I=!0):I=!1}I||Ts(i)}if(T=i.memoizedState,T!==null&&(T=T.dehydrated,T!==null))return wf(T)?i.lanes=32:i.lanes=536870912,null;Pi(i)}return T=l.children,l=l.fallback,h?(hr(),h=i.mode,T=ec({mode:"hidden",children:T},h),l=vs(l,h,a,null),T.return=i,l.return=i,T.sibling=l,i.child=T,h=i.child,h.memoizedState=Ld(a),h.childLanes=zd(t,b,a),i.memoizedState=Ud,l):(cr(i),Bd(i,T))}if(I=t.memoizedState,I!==null&&(T=I.dehydrated,T!==null)){if(f)i.flags&256?(cr(i),i.flags&=-257,i=qd(t,i,a)):i.memoizedState!==null?(hr(),i.child=t.child,i.flags|=128,i=null):(hr(),h=l.fallback,T=i.mode,l=ec({mode:"visible",children:l.children},T),h=vs(h,T,a,null),h.flags|=2,l.return=i,h.return=i,l.sibling=h,i.child=l,Ta(i,t.child,null,a),l=i.child,l.memoizedState=Ld(a),l.childLanes=zd(t,b,a),i.memoizedState=Ud,i=h);else if(cr(i),wf(T)){if(b=T.nextSibling&&T.nextSibling.dataset,b)var B=b.dgst;b=B,l=Error(s(419)),l.stack="",l.digest=b,Bo({value:l,source:null,stack:null}),i=qd(t,i,a)}else if(Vt||qo(t,i,a,!1),b=(a&t.childLanes)!==0,Vt||b){if(b=rt,b!==null&&(l=a&-a,l=(l&42)!==0?1:Wi(l),l=(l&(b.suspendedLanes|a))!==0?0:l,l!==0&&l!==I.retryLane))throw I.retryLane=l,ha(t,l),An(b,t,l),yy;T.data==="$?"||of(),i=qd(t,i,a)}else T.data==="$?"?(i.flags|=192,i.child=t.child,i=null):(t=I.treeContext,ht=Gn(T.nextSibling),an=i,Fe=!0,Es=null,ai=!1,t!==null&&(kn[Vn++]=Di,kn[Vn++]=Oi,kn[Vn++]=_s,Di=t.id,Oi=t.overflow,_s=i),i=Bd(i,l.children),i.flags|=4096);return i}return h?(hr(),h=l.fallback,T=i.mode,I=t.child,B=I.sibling,l=Ci(I,{mode:"hidden",children:l.children}),l.subtreeFlags=I.subtreeFlags&65011712,B!==null?h=Ci(B,h):(h=vs(h,T,a,null),h.flags|=2),h.return=i,l.return=i,l.sibling=h,i.child=l,l=h,h=i.child,T=t.child.memoizedState,T===null?T=Ld(a):(I=T.cachePool,I!==null?(B=It._currentValue,I=I.parent!==B?{parent:B,pool:B}:I):I=dg(),T={baseLanes:T.baseLanes|a,cachePool:I}),h.memoizedState=T,h.childLanes=zd(t,b,a),i.memoizedState=Ud,l):(cr(i),a=t.child,t=a.sibling,a=Ci(a,{mode:"visible",children:l.children}),a.return=i,a.sibling=null,t!==null&&(b=i.deletions,b===null?(i.deletions=[t],i.flags|=16):b.push(t)),i.child=a,i.memoizedState=null,a)}function Bd(t,i){return i=ec({mode:"visible",children:i},t.mode),i.return=t,t.child=i}function ec(t,i){return t=vn(22,t,null,i),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function qd(t,i,a){return Ta(i,t.child,null,a),t=Bd(i,i.pendingProps.children),t.flags|=2,i.memoizedState=null,t}function Ry(t,i,a){t.lanes|=i;var l=t.alternate;l!==null&&(l.lanes|=i),ad(t.return,i,a)}function Hd(t,i,a,l,h){var f=t.memoizedState;f===null?t.memoizedState={isBackwards:i,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:h}:(f.isBackwards=i,f.rendering=null,f.renderingStartTime=0,f.last=l,f.tail=a,f.tailMode=h)}function Iy(t,i,a){var l=i.pendingProps,h=l.revealOrder,f=l.tail;if(Bt(t,i,l.children,a),l=Nt.current,(l&2)!==0)l=l&1|2,i.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=i.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Ry(t,a,i);else if(t.tag===19)Ry(t,a,i);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===i)break e;for(;t.sibling===null;){if(t.return===null||t.return===i)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(te(Nt,l),h){case"forwards":for(a=i.child,h=null;a!==null;)t=a.alternate,t!==null&&$u(t)===null&&(h=a),a=a.sibling;a=h,a===null?(h=i.child,i.child=null):(h=a.sibling,a.sibling=null),Hd(i,!1,h,a,f);break;case"backwards":for(a=null,h=i.child,i.child=null;h!==null;){if(t=h.alternate,t!==null&&$u(t)===null){i.child=h;break}t=h.sibling,h.sibling=a,a=h,h=t}Hd(i,!0,a,null,f);break;case"together":Hd(i,!1,null,null,void 0);break;default:i.memoizedState=null}return i.child}function ji(t,i,a){if(t!==null&&(i.dependencies=t.dependencies),gr|=i.lanes,(a&i.childLanes)===0)if(t!==null){if(qo(t,i,a,!1),(a&i.childLanes)===0)return null}else return null;if(t!==null&&i.child!==t.child)throw Error(s(153));if(i.child!==null){for(t=i.child,a=Ci(t,t.pendingProps),i.child=a,a.return=i;t.sibling!==null;)t=t.sibling,a=a.sibling=Ci(t,t.pendingProps),a.return=i;a.sibling=null}return i.child}function Gd(t,i){return(t.lanes&i)!==0?!0:(t=t.dependencies,!!(t!==null&&ku(t)))}function n1(t,i,a){switch(i.tag){case 3:Xe(i,i.stateNode.containerInfo),sr(i,It,t.memoizedState.cache),zo();break;case 27:case 5:fn(i);break;case 4:Xe(i,i.stateNode.containerInfo);break;case 10:sr(i,i.type,i.memoizedProps.value);break;case 13:var l=i.memoizedState;if(l!==null)return l.dehydrated!==null?(cr(i),i.flags|=128,null):(a&i.child.childLanes)!==0?xy(t,i,a):(cr(i),t=ji(t,i,a),t!==null?t.sibling:null);cr(i);break;case 19:var h=(t.flags&128)!==0;if(l=(a&i.childLanes)!==0,l||(qo(t,i,a,!1),l=(a&i.childLanes)!==0),h){if(l)return Iy(t,i,a);i.flags|=128}if(h=i.memoizedState,h!==null&&(h.rendering=null,h.tail=null,h.lastEffect=null),te(Nt,Nt.current),l)break;return null;case 22:case 23:return i.lanes=0,Ey(t,i,a);case 24:sr(i,It,t.memoizedState.cache)}return ji(t,i,a)}function Ny(t,i,a){if(t!==null)if(t.memoizedProps!==i.pendingProps)Vt=!0;else{if(!Gd(t,a)&&(i.flags&128)===0)return Vt=!1,n1(t,i,a);Vt=(t.flags&131072)!==0}else Vt=!1,Fe&&(i.flags&1048576)!==0&&sg(i,Mu,i.index);switch(i.lanes=0,i.tag){case 16:e:{t=i.pendingProps;var l=i.elementType,h=l._init;if(l=h(l._payload),i.type=l,typeof l=="function")Jh(l)?(t=Rs(l,t),i.tag=1,i=wy(null,i,l,t,a)):(i.tag=0,i=jd(null,i,l,t,a));else{if(l!=null){if(h=l.$$typeof,h===_e){i.tag=11,i=vy(null,i,l,t,a);break e}else if(h===N){i.tag=14,i=_y(null,i,l,t,a);break e}}throw i=ft(l)||l,Error(s(306,i,""))}}return i;case 0:return jd(t,i,i.type,i.pendingProps,a);case 1:return l=i.type,h=Rs(l,i.pendingProps),wy(t,i,l,h,a);case 3:e:{if(Xe(i,i.stateNode.containerInfo),t===null)throw Error(s(387));l=i.pendingProps;var f=i.memoizedState;h=f.element,fd(t,i),Xo(i,l,null,a);var b=i.memoizedState;if(l=b.cache,sr(i,It,l),l!==f.cache&&od(i,[It],a,!0),Yo(),l=b.element,f.isDehydrated)if(f={element:l,isDehydrated:!1,cache:b.cache},i.updateQueue.baseState=f,i.memoizedState=f,i.flags&256){i=Sy(t,i,l,a);break e}else if(l!==h){h=On(Error(s(424)),i),Bo(h),i=Sy(t,i,l,a);break e}else{switch(t=i.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(ht=Gn(t.firstChild),an=i,Fe=!0,Es=null,ai=!0,a=oy(i,null,l,a),i.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(zo(),l===h){i=ji(t,i,a);break e}Bt(t,i,l,a)}i=i.child}return i;case 26:return Ju(t,i),t===null?(a=Mv(i.type,null,i.pendingProps,null))?i.memoizedState=a:Fe||(a=i.type,t=i.pendingProps,l=mc(Ee.current).createElement(a),l[St]=i,l[vt]=t,Ht(l,a,t),mt(l),i.stateNode=l):i.memoizedState=Mv(i.type,t.memoizedProps,i.pendingProps,t.memoizedState),null;case 27:return fn(i),t===null&&Fe&&(l=i.stateNode=Cv(i.type,i.pendingProps,Ee.current),an=i,ai=!0,h=ht,br(i.type)?(Sf=h,ht=Gn(l.firstChild)):ht=h),Bt(t,i,i.pendingProps.children,a),Ju(t,i),t===null&&(i.flags|=4194304),i.child;case 5:return t===null&&Fe&&((h=l=ht)&&(l=C1(l,i.type,i.pendingProps,ai),l!==null?(i.stateNode=l,an=i,ht=Gn(l.firstChild),ai=!1,h=!0):h=!1),h||Ts(i)),fn(i),h=i.type,f=i.pendingProps,b=t!==null?t.memoizedProps:null,l=f.children,Ef(h,f)?l=null:b!==null&&Ef(h,b)&&(i.flags|=32),i.memoizedState!==null&&(h=_d(t,i,YT,null,null,a),yl._currentValue=h),Ju(t,i),Bt(t,i,l,a),i.child;case 6:return t===null&&Fe&&((t=a=ht)&&(a=D1(a,i.pendingProps,ai),a!==null?(i.stateNode=a,an=i,ht=null,t=!0):t=!1),t||Ts(i)),null;case 13:return xy(t,i,a);case 4:return Xe(i,i.stateNode.containerInfo),l=i.pendingProps,t===null?i.child=Ta(i,null,l,a):Bt(t,i,l,a),i.child;case 11:return vy(t,i,i.type,i.pendingProps,a);case 7:return Bt(t,i,i.pendingProps,a),i.child;case 8:return Bt(t,i,i.pendingProps.children,a),i.child;case 12:return Bt(t,i,i.pendingProps.children,a),i.child;case 10:return l=i.pendingProps,sr(i,i.type,l.value),Bt(t,i,l.children,a),i.child;case 9:return h=i.type._context,l=i.pendingProps.children,ws(i),h=Yt(h),l=l(h),i.flags|=1,Bt(t,i,l,a),i.child;case 14:return _y(t,i,i.type,i.pendingProps,a);case 15:return by(t,i,i.type,i.pendingProps,a);case 19:return Iy(t,i,a);case 31:return l=i.pendingProps,a=i.mode,l={mode:l.mode,children:l.children},t===null?(a=ec(l,a),a.ref=i.ref,i.child=a,a.return=i,i=a):(a=Ci(t.child,l),a.ref=i.ref,i.child=a,a.return=i,i=a),i;case 22:return Ey(t,i,a);case 24:return ws(i),l=Yt(It),t===null?(h=cd(),h===null&&(h=rt,f=ld(),h.pooledCache=f,f.refCount++,f!==null&&(h.pooledCacheLanes|=a),h=f),i.memoizedState={parent:l,cache:h},dd(i),sr(i,It,h)):((t.lanes&a)!==0&&(fd(t,i),Xo(i,null,null,a),Yo()),h=t.memoizedState,f=i.memoizedState,h.parent!==l?(h={parent:l,cache:l},i.memoizedState=h,i.lanes===0&&(i.memoizedState=i.updateQueue.baseState=h),sr(i,It,l)):(l=f.cache,sr(i,It,l),l!==h.cache&&od(i,[It],a,!0))),Bt(t,i,i.pendingProps.children,a),i.child;case 29:throw i.pendingProps}throw Error(s(156,i.tag))}function Ui(t){t.flags|=4}function Cy(t,i){if(i.type!=="stylesheet"||(i.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!Uv(i)){if(i=Pn.current,i!==null&&((qe&4194048)===qe?oi!==null:(qe&62914560)!==qe&&(qe&536870912)===0||i!==oi))throw Qo=hd,fg;t.flags|=8192}}function tc(t,i){i!==null&&(t.flags|=4),t.flags&16384&&(i=t.tag!==22?_o():536870912,t.lanes|=i,xa|=i)}function nl(t,i){if(!Fe)switch(t.tailMode){case"hidden":i=t.tail;for(var a=null;i!==null;)i.alternate!==null&&(a=i),i=i.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?i||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function lt(t){var i=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(i)for(var h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags&65011712,l|=h.flags&65011712,h.return=t,h=h.sibling;else for(h=t.child;h!==null;)a|=h.lanes|h.childLanes,l|=h.subtreeFlags,l|=h.flags,h.return=t,h=h.sibling;return t.subtreeFlags|=l,t.childLanes=a,i}function i1(t,i,a){var l=i.pendingProps;switch(id(i),i.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return lt(i),null;case 1:return lt(i),null;case 3:return a=i.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),i.memoizedState.cache!==l&&(i.flags|=2048),ki(It),tn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(Lo(i)?Ui(i):t===null||t.memoizedState.isDehydrated&&(i.flags&256)===0||(i.flags|=1024,lg())),lt(i),null;case 26:return a=i.memoizedState,t===null?(Ui(i),a!==null?(lt(i),Cy(i,a)):(lt(i),i.flags&=-16777217)):a?a!==t.memoizedState?(Ui(i),lt(i),Cy(i,a)):(lt(i),i.flags&=-16777217):(t.memoizedProps!==l&&Ui(i),lt(i),i.flags&=-16777217),null;case 27:mn(i),a=Ee.current;var h=i.type;if(t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}t=ue.current,Lo(i)?ag(i):(t=Cv(h,l,a),i.stateNode=t,Ui(i))}return lt(i),null;case 5:if(mn(i),a=i.type,t!==null&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(!l){if(i.stateNode===null)throw Error(s(166));return lt(i),null}if(t=ue.current,Lo(i))ag(i);else{switch(h=mc(Ee.current),t){case 1:t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=h.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=h.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=h.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?h.createElement("select",{is:l.is}):h.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?h.createElement(a,{is:l.is}):h.createElement(a)}}t[St]=i,t[vt]=l;e:for(h=i.child;h!==null;){if(h.tag===5||h.tag===6)t.appendChild(h.stateNode);else if(h.tag!==4&&h.tag!==27&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===i)break e;for(;h.sibling===null;){if(h.return===null||h.return===i)break e;h=h.return}h.sibling.return=h.return,h=h.sibling}i.stateNode=t;e:switch(Ht(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Ui(i)}}return lt(i),i.flags&=-16777217,null;case 6:if(t&&i.stateNode!=null)t.memoizedProps!==l&&Ui(i);else{if(typeof l!="string"&&i.stateNode===null)throw Error(s(166));if(t=Ee.current,Lo(i)){if(t=i.stateNode,a=i.memoizedProps,l=null,h=an,h!==null)switch(h.tag){case 27:case 5:l=h.memoizedProps}t[St]=i,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||Av(t.nodeValue,a)),t||Ts(i)}else t=mc(t).createTextNode(l),t[St]=i,i.stateNode=t}return lt(i),null;case 13:if(l=i.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(h=Lo(i),l!==null&&l.dehydrated!==null){if(t===null){if(!h)throw Error(s(318));if(h=i.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(s(317));h[St]=i}else zo(),(i.flags&128)===0&&(i.memoizedState=null),i.flags|=4;lt(i),h=!1}else h=lg(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=h),h=!0;if(!h)return i.flags&256?(Pi(i),i):(Pi(i),null)}if(Pi(i),(i.flags&128)!==0)return i.lanes=a,i;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=i.child,h=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(h=l.alternate.memoizedState.cachePool.pool);var f=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(f=l.memoizedState.cachePool.pool),f!==h&&(l.flags|=2048)}return a!==t&&a&&(i.child.flags|=8192),tc(i,i.updateQueue),lt(i),null;case 4:return tn(),t===null&&gf(i.stateNode.containerInfo),lt(i),null;case 10:return ki(i.type),lt(i),null;case 19:if(se(Nt),h=i.memoizedState,h===null)return lt(i),null;if(l=(i.flags&128)!==0,f=h.rendering,f===null)if(l)nl(h,!1);else{if(dt!==0||t!==null&&(t.flags&128)!==0)for(t=i.child;t!==null;){if(f=$u(t),f!==null){for(i.flags|=128,nl(h,!1),t=f.updateQueue,i.updateQueue=t,tc(i,t),i.subtreeFlags=0,t=a,a=i.child;a!==null;)rg(a,t),a=a.sibling;return te(Nt,Nt.current&1|2),i.child}t=t.sibling}h.tail!==null&&xn()>rc&&(i.flags|=128,l=!0,nl(h,!1),i.lanes=4194304)}else{if(!l)if(t=$u(f),t!==null){if(i.flags|=128,l=!0,t=t.updateQueue,i.updateQueue=t,tc(i,t),nl(h,!0),h.tail===null&&h.tailMode==="hidden"&&!f.alternate&&!Fe)return lt(i),null}else 2*xn()-h.renderingStartTime>rc&&a!==536870912&&(i.flags|=128,l=!0,nl(h,!1),i.lanes=4194304);h.isBackwards?(f.sibling=i.child,i.child=f):(t=h.last,t!==null?t.sibling=f:i.child=f,h.last=f)}return h.tail!==null?(i=h.tail,h.rendering=i,h.tail=i.sibling,h.renderingStartTime=xn(),i.sibling=null,t=Nt.current,te(Nt,l?t&1|2:t&1),i):(lt(i),null);case 22:case 23:return Pi(i),yd(),l=i.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(i.flags|=8192):l&&(i.flags|=8192),l?(a&536870912)!==0&&(i.flags&128)===0&&(lt(i),i.subtreeFlags&6&&(i.flags|=8192)):lt(i),a=i.updateQueue,a!==null&&tc(i,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(l=i.memoizedState.cachePool.pool),l!==a&&(i.flags|=2048),t!==null&&se(Ss),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),i.memoizedState.cache!==a&&(i.flags|=2048),ki(It),lt(i),null;case 25:return null;case 30:return null}throw Error(s(156,i.tag))}function r1(t,i){switch(id(i),i.tag){case 1:return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 3:return ki(It),tn(),t=i.flags,(t&65536)!==0&&(t&128)===0?(i.flags=t&-65537|128,i):null;case 26:case 27:case 5:return mn(i),null;case 13:if(Pi(i),t=i.memoizedState,t!==null&&t.dehydrated!==null){if(i.alternate===null)throw Error(s(340));zo()}return t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 19:return se(Nt),null;case 4:return tn(),null;case 10:return ki(i.type),null;case 22:case 23:return Pi(i),yd(),t!==null&&se(Ss),t=i.flags,t&65536?(i.flags=t&-65537|128,i):null;case 24:return ki(It),null;case 25:return null;default:return null}}function Dy(t,i){switch(id(i),i.tag){case 3:ki(It),tn();break;case 26:case 27:case 5:mn(i);break;case 4:tn();break;case 13:Pi(i);break;case 19:se(Nt);break;case 10:ki(i.type);break;case 22:case 23:Pi(i),yd(),t!==null&&se(Ss);break;case 24:ki(It)}}function il(t,i){try{var a=i.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var h=l.next;a=h;do{if((a.tag&t)===t){l=void 0;var f=a.create,b=a.inst;l=f(),b.destroy=l}a=a.next}while(a!==h)}}catch(T){it(i,i.return,T)}}function dr(t,i,a){try{var l=i.updateQueue,h=l!==null?l.lastEffect:null;if(h!==null){var f=h.next;l=f;do{if((l.tag&t)===t){var b=l.inst,T=b.destroy;if(T!==void 0){b.destroy=void 0,h=i;var I=a,B=T;try{B()}catch(X){it(h,I,X)}}}l=l.next}while(l!==f)}}catch(X){it(i,i.return,X)}}function Oy(t){var i=t.updateQueue;if(i!==null){var a=t.stateNode;try{_g(i,a)}catch(l){it(t,t.return,l)}}}function My(t,i,a){a.props=Rs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){it(t,i,l)}}function rl(t,i){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(h){it(t,i,h)}}function li(t,i){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(h){it(t,i,h)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(h){it(t,i,h)}else a.current=null}function ky(t){var i=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(i){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(h){it(t,t.return,h)}}function Fd(t,i,a){try{var l=t.stateNode;S1(l,t.type,a,i),l[vt]=i}catch(h){it(t,t.return,h)}}function Vy(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&br(t.type)||t.tag===4}function Qd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Vy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&br(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Kd(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,i):(i=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,i.appendChild(t),a=a._reactRootContainer,a!=null||i.onclick!==null||(i.onclick=fc));else if(l!==4&&(l===27&&br(t.type)&&(a=t.stateNode,i=null),t=t.child,t!==null))for(Kd(t,i,a),t=t.sibling;t!==null;)Kd(t,i,a),t=t.sibling}function nc(t,i,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,i?a.insertBefore(t,i):a.appendChild(t);else if(l!==4&&(l===27&&br(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(nc(t,i,a),t=t.sibling;t!==null;)nc(t,i,a),t=t.sibling}function Py(t){var i=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,h=i.attributes;h.length;)i.removeAttributeNode(h[0]);Ht(i,l,a),i[St]=t,i[vt]=a}catch(f){it(t,t.return,f)}}var Li=!1,gt=!1,Yd=!1,jy=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function s1(t,i){if(t=t.containerInfo,_f=bc,t=Yp(t),Qh(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var h=l.anchorOffset,f=l.focusNode;l=l.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var b=0,T=-1,I=-1,B=0,X=0,Z=t,q=null;t:for(;;){for(var H;Z!==a||h!==0&&Z.nodeType!==3||(T=b+h),Z!==f||l!==0&&Z.nodeType!==3||(I=b+l),Z.nodeType===3&&(b+=Z.nodeValue.length),(H=Z.firstChild)!==null;)q=Z,Z=H;for(;;){if(Z===t)break t;if(q===a&&++B===h&&(T=b),q===f&&++X===l&&(I=b),(H=Z.nextSibling)!==null)break;Z=q,q=Z.parentNode}Z=H}a=T===-1||I===-1?null:{start:T,end:I}}else a=null}a=a||{start:0,end:0}}else a=null;for(bf={focusedElem:t,selectionRange:a},bc=!1,Pt=i;Pt!==null;)if(i=Pt,t=i.child,(i.subtreeFlags&1024)!==0&&t!==null)t.return=i,Pt=t;else for(;Pt!==null;){switch(i=Pt,f=i.alternate,t=i.flags,i.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&f!==null){t=void 0,a=i,h=f.memoizedProps,f=f.memoizedState,l=a.stateNode;try{var Ae=Rs(a.type,h,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ae,f),l.__reactInternalSnapshotBeforeUpdate=t}catch(ve){it(a,a.return,ve)}}break;case 3:if((t&1024)!==0){if(t=i.stateNode.containerInfo,a=t.nodeType,a===9)Af(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":Af(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=i.sibling,t!==null){t.return=i.return,Pt=t;break}Pt=i.return}}function Uy(t,i,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:fr(t,a),l&4&&il(5,a);break;case 1:if(fr(t,a),l&4)if(t=a.stateNode,i===null)try{t.componentDidMount()}catch(b){it(a,a.return,b)}else{var h=Rs(a.type,i.memoizedProps);i=i.memoizedState;try{t.componentDidUpdate(h,i,t.__reactInternalSnapshotBeforeUpdate)}catch(b){it(a,a.return,b)}}l&64&&Oy(a),l&512&&rl(a,a.return);break;case 3:if(fr(t,a),l&64&&(t=a.updateQueue,t!==null)){if(i=null,a.child!==null)switch(a.child.tag){case 27:case 5:i=a.child.stateNode;break;case 1:i=a.child.stateNode}try{_g(t,i)}catch(b){it(a,a.return,b)}}break;case 27:i===null&&l&4&&Py(a);case 26:case 5:fr(t,a),i===null&&l&4&&ky(a),l&512&&rl(a,a.return);break;case 12:fr(t,a);break;case 13:fr(t,a),l&4&&By(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=m1.bind(null,a),O1(t,a))));break;case 22:if(l=a.memoizedState!==null||Li,!l){i=i!==null&&i.memoizedState!==null||gt,h=Li;var f=gt;Li=l,(gt=i)&&!f?mr(t,a,(a.subtreeFlags&8772)!==0):fr(t,a),Li=h,gt=f}break;case 30:break;default:fr(t,a)}}function Ly(t){var i=t.alternate;i!==null&&(t.alternate=null,Ly(i)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(i=t.stateNode,i!==null&&tr(i)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,ln=!1;function zi(t,i,a){for(a=a.child;a!==null;)zy(t,i,a),a=a.sibling}function zy(t,i,a){if($e&&typeof $e.onCommitFiberUnmount=="function")try{$e.onCommitFiberUnmount(ct,a)}catch{}switch(a.tag){case 26:gt||li(a,i),zi(t,i,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:gt||li(a,i);var l=ot,h=ln;br(a.type)&&(ot=a.stateNode,ln=!1),zi(t,i,a),fl(a.stateNode),ot=l,ln=h;break;case 5:gt||li(a,i);case 6:if(l=ot,h=ln,ot=null,zi(t,i,a),ot=l,ln=h,ot!==null)if(ln)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(f){it(a,i,f)}else try{ot.removeChild(a.stateNode)}catch(f){it(a,i,f)}break;case 18:ot!==null&&(ln?(t=ot,Iv(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),El(t)):Iv(ot,a.stateNode));break;case 4:l=ot,h=ln,ot=a.stateNode.containerInfo,ln=!0,zi(t,i,a),ot=l,ln=h;break;case 0:case 11:case 14:case 15:gt||dr(2,a,i),gt||dr(4,a,i),zi(t,i,a);break;case 1:gt||(li(a,i),l=a.stateNode,typeof l.componentWillUnmount=="function"&&My(a,i,l)),zi(t,i,a);break;case 21:zi(t,i,a);break;case 22:gt=(l=gt)||a.memoizedState!==null,zi(t,i,a),gt=l;break;default:zi(t,i,a)}}function By(t,i){if(i.memoizedState===null&&(t=i.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{El(t)}catch(a){it(i,i.return,a)}}function a1(t){switch(t.tag){case 13:case 19:var i=t.stateNode;return i===null&&(i=t.stateNode=new jy),i;case 22:return t=t.stateNode,i=t._retryCache,i===null&&(i=t._retryCache=new jy),i;default:throw Error(s(435,t.tag))}}function Xd(t,i){var a=a1(t);i.forEach(function(l){var h=p1.bind(null,t,l);a.has(l)||(a.add(l),l.then(h,h))})}function _n(t,i){var a=i.deletions;if(a!==null)for(var l=0;l<a.length;l++){var h=a[l],f=t,b=i,T=b;e:for(;T!==null;){switch(T.tag){case 27:if(br(T.type)){ot=T.stateNode,ln=!1;break e}break;case 5:ot=T.stateNode,ln=!1;break e;case 3:case 4:ot=T.stateNode.containerInfo,ln=!0;break e}T=T.return}if(ot===null)throw Error(s(160));zy(f,b,h),ot=null,ln=!1,f=h.alternate,f!==null&&(f.return=null),h.return=null}if(i.subtreeFlags&13878)for(i=i.child;i!==null;)qy(i,t),i=i.sibling}var Hn=null;function qy(t,i){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:_n(i,t),bn(t),l&4&&(dr(3,t,t.return),il(3,t),dr(5,t,t.return));break;case 1:_n(i,t),bn(t),l&512&&(gt||a===null||li(a,a.return)),l&64&&Li&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var h=Hn;if(_n(i,t),bn(t),l&512&&(gt||a===null||li(a,a.return)),l&4){var f=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,h=h.ownerDocument||h;t:switch(l){case"title":f=h.getElementsByTagName("title")[0],(!f||f[ns]||f[St]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=h.createElement(l),h.head.insertBefore(f,h.querySelector("head > title"))),Ht(f,l,a),f[St]=t,mt(f),l=f;break e;case"link":var b=Pv("link","href",h).get(l+(a.href||""));if(b){for(var T=0;T<b.length;T++)if(f=b[T],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){b.splice(T,1);break t}}f=h.createElement(l),Ht(f,l,a),h.head.appendChild(f);break;case"meta":if(b=Pv("meta","content",h).get(l+(a.content||""))){for(T=0;T<b.length;T++)if(f=b[T],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){b.splice(T,1);break t}}f=h.createElement(l),Ht(f,l,a),h.head.appendChild(f);break;default:throw Error(s(468,l))}f[St]=t,mt(f),l=f}t.stateNode=l}else jv(h,t.type,t.stateNode);else t.stateNode=Vv(h,l,t.memoizedProps);else f!==l?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,l===null?jv(h,t.type,t.stateNode):Vv(h,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Fd(t,t.memoizedProps,a.memoizedProps)}break;case 27:_n(i,t),bn(t),l&512&&(gt||a===null||li(a,a.return)),a!==null&&l&4&&Fd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(_n(i,t),bn(t),l&512&&(gt||a===null||li(a,a.return)),t.flags&32){h=t.stateNode;try{In(h,"")}catch(H){it(t,t.return,H)}}l&4&&t.stateNode!=null&&(h=t.memoizedProps,Fd(t,h,a!==null?a.memoizedProps:h)),l&1024&&(Yd=!0);break;case 6:if(_n(i,t),bn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(H){it(t,t.return,H)}}break;case 3:if(yc=null,h=Hn,Hn=pc(i.containerInfo),_n(i,t),Hn=h,bn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{El(i.containerInfo)}catch(H){it(t,t.return,H)}Yd&&(Yd=!1,Hy(t));break;case 4:l=Hn,Hn=pc(t.stateNode.containerInfo),_n(i,t),bn(t),Hn=l;break;case 12:_n(i,t),bn(t);break;case 13:_n(i,t),bn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(tf=xn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xd(t,l)));break;case 22:h=t.memoizedState!==null;var I=a!==null&&a.memoizedState!==null,B=Li,X=gt;if(Li=B||h,gt=X||I,_n(i,t),gt=X,Li=B,bn(t),l&8192)e:for(i=t.stateNode,i._visibility=h?i._visibility&-2:i._visibility|1,h&&(a===null||I||Li||gt||Is(t)),a=null,i=t;;){if(i.tag===5||i.tag===26){if(a===null){I=a=i;try{if(f=I.stateNode,h)b=f.style,typeof b.setProperty=="function"?b.setProperty("display","none","important"):b.display="none";else{T=I.stateNode;var Z=I.memoizedProps.style,q=Z!=null&&Z.hasOwnProperty("display")?Z.display:null;T.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(H){it(I,I.return,H)}}}else if(i.tag===6){if(a===null){I=i;try{I.stateNode.nodeValue=h?"":I.memoizedProps}catch(H){it(I,I.return,H)}}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===t)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===t)break e;for(;i.sibling===null;){if(i.return===null||i.return===t)break e;a===i&&(a=null),i=i.return}a===i&&(a=null),i.sibling.return=i.return,i=i.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Xd(t,a))));break;case 19:_n(i,t),bn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Xd(t,l)));break;case 30:break;case 21:break;default:_n(i,t),bn(t)}}function bn(t){var i=t.flags;if(i&2){try{for(var a,l=t.return;l!==null;){if(Vy(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var h=a.stateNode,f=Qd(t);nc(t,f,h);break;case 5:var b=a.stateNode;a.flags&32&&(In(b,""),a.flags&=-33);var T=Qd(t);nc(t,T,b);break;case 3:case 4:var I=a.stateNode.containerInfo,B=Qd(t);Kd(t,B,I);break;default:throw Error(s(161))}}catch(X){it(t,t.return,X)}t.flags&=-3}i&4096&&(t.flags&=-4097)}function Hy(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var i=t;Hy(i),i.tag===5&&i.flags&1024&&i.stateNode.reset(),t=t.sibling}}function fr(t,i){if(i.subtreeFlags&8772)for(i=i.child;i!==null;)Uy(t,i.alternate,i),i=i.sibling}function Is(t){for(t=t.child;t!==null;){var i=t;switch(i.tag){case 0:case 11:case 14:case 15:dr(4,i,i.return),Is(i);break;case 1:li(i,i.return);var a=i.stateNode;typeof a.componentWillUnmount=="function"&&My(i,i.return,a),Is(i);break;case 27:fl(i.stateNode);case 26:case 5:li(i,i.return),Is(i);break;case 22:i.memoizedState===null&&Is(i);break;case 30:Is(i);break;default:Is(i)}t=t.sibling}}function mr(t,i,a){for(a=a&&(i.subtreeFlags&8772)!==0,i=i.child;i!==null;){var l=i.alternate,h=t,f=i,b=f.flags;switch(f.tag){case 0:case 11:case 15:mr(h,f,a),il(4,f);break;case 1:if(mr(h,f,a),l=f,h=l.stateNode,typeof h.componentDidMount=="function")try{h.componentDidMount()}catch(B){it(l,l.return,B)}if(l=f,h=l.updateQueue,h!==null){var T=l.stateNode;try{var I=h.shared.hiddenCallbacks;if(I!==null)for(h.shared.hiddenCallbacks=null,h=0;h<I.length;h++)vg(I[h],T)}catch(B){it(l,l.return,B)}}a&&b&64&&Oy(f),rl(f,f.return);break;case 27:Py(f);case 26:case 5:mr(h,f,a),a&&l===null&&b&4&&ky(f),rl(f,f.return);break;case 12:mr(h,f,a);break;case 13:mr(h,f,a),a&&b&4&&By(h,f);break;case 22:f.memoizedState===null&&mr(h,f,a),rl(f,f.return);break;case 30:break;default:mr(h,f,a)}i=i.sibling}}function $d(t,i){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(t=i.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&Ho(a))}function Zd(t,i){t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ho(t))}function ui(t,i,a,l){if(i.subtreeFlags&10256)for(i=i.child;i!==null;)Gy(t,i,a,l),i=i.sibling}function Gy(t,i,a,l){var h=i.flags;switch(i.tag){case 0:case 11:case 15:ui(t,i,a,l),h&2048&&il(9,i);break;case 1:ui(t,i,a,l);break;case 3:ui(t,i,a,l),h&2048&&(t=null,i.alternate!==null&&(t=i.alternate.memoizedState.cache),i=i.memoizedState.cache,i!==t&&(i.refCount++,t!=null&&Ho(t)));break;case 12:if(h&2048){ui(t,i,a,l),t=i.stateNode;try{var f=i.memoizedProps,b=f.id,T=f.onPostCommit;typeof T=="function"&&T(b,i.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(I){it(i,i.return,I)}}else ui(t,i,a,l);break;case 13:ui(t,i,a,l);break;case 23:break;case 22:f=i.stateNode,b=i.alternate,i.memoizedState!==null?f._visibility&2?ui(t,i,a,l):sl(t,i):f._visibility&2?ui(t,i,a,l):(f._visibility|=2,Aa(t,i,a,l,(i.subtreeFlags&10256)!==0)),h&2048&&$d(b,i);break;case 24:ui(t,i,a,l),h&2048&&Zd(i.alternate,i);break;default:ui(t,i,a,l)}}function Aa(t,i,a,l,h){for(h=h&&(i.subtreeFlags&10256)!==0,i=i.child;i!==null;){var f=t,b=i,T=a,I=l,B=b.flags;switch(b.tag){case 0:case 11:case 15:Aa(f,b,T,I,h),il(8,b);break;case 23:break;case 22:var X=b.stateNode;b.memoizedState!==null?X._visibility&2?Aa(f,b,T,I,h):sl(f,b):(X._visibility|=2,Aa(f,b,T,I,h)),h&&B&2048&&$d(b.alternate,b);break;case 24:Aa(f,b,T,I,h),h&&B&2048&&Zd(b.alternate,b);break;default:Aa(f,b,T,I,h)}i=i.sibling}}function sl(t,i){if(i.subtreeFlags&10256)for(i=i.child;i!==null;){var a=t,l=i,h=l.flags;switch(l.tag){case 22:sl(a,l),h&2048&&$d(l.alternate,l);break;case 24:sl(a,l),h&2048&&Zd(l.alternate,l);break;default:sl(a,l)}i=i.sibling}}var al=8192;function wa(t){if(t.subtreeFlags&al)for(t=t.child;t!==null;)Fy(t),t=t.sibling}function Fy(t){switch(t.tag){case 26:wa(t),t.flags&al&&t.memoizedState!==null&&F1(Hn,t.memoizedState,t.memoizedProps);break;case 5:wa(t);break;case 3:case 4:var i=Hn;Hn=pc(t.stateNode.containerInfo),wa(t),Hn=i;break;case 22:t.memoizedState===null&&(i=t.alternate,i!==null&&i.memoizedState!==null?(i=al,al=16777216,wa(t),al=i):wa(t));break;default:wa(t)}}function Qy(t){var i=t.alternate;if(i!==null&&(t=i.child,t!==null)){i.child=null;do i=t.sibling,t.sibling=null,t=i;while(t!==null)}}function ol(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,Yy(l,t)}Qy(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ky(t),t=t.sibling}function Ky(t){switch(t.tag){case 0:case 11:case 15:ol(t),t.flags&2048&&dr(9,t,t.return);break;case 3:ol(t);break;case 12:ol(t);break;case 22:var i=t.stateNode;t.memoizedState!==null&&i._visibility&2&&(t.return===null||t.return.tag!==13)?(i._visibility&=-3,ic(t)):ol(t);break;default:ol(t)}}function ic(t){var i=t.deletions;if((t.flags&16)!==0){if(i!==null)for(var a=0;a<i.length;a++){var l=i[a];Pt=l,Yy(l,t)}Qy(t)}for(t=t.child;t!==null;){switch(i=t,i.tag){case 0:case 11:case 15:dr(8,i,i.return),ic(i);break;case 22:a=i.stateNode,a._visibility&2&&(a._visibility&=-3,ic(i));break;default:ic(i)}t=t.sibling}}function Yy(t,i){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:dr(8,a,i);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ho(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Pt=l;else e:for(a=t;Pt!==null;){l=Pt;var h=l.sibling,f=l.return;if(Ly(l),l===a){Pt=null;break e}if(h!==null){h.return=f,Pt=h;break e}Pt=f}}}var o1={getCacheForType:function(t){var i=Yt(It),a=i.data.get(t);return a===void 0&&(a=t(),i.data.set(t,a)),a}},l1=typeof WeakMap=="function"?WeakMap:Map,Ze=0,rt=null,Ve=null,qe=0,We=0,En=null,pr=!1,Sa=!1,Wd=!1,Bi=0,dt=0,gr=0,Ns=0,Jd=0,jn=0,xa=0,ll=null,un=null,ef=!1,tf=0,rc=1/0,sc=null,yr=null,qt=0,vr=null,Ra=null,Ia=0,nf=0,rf=null,Xy=null,ul=0,sf=null;function Tn(){if((Ze&2)!==0&&qe!==0)return qe&-qe;if(K.T!==null){var t=pa;return t!==0?t:df()}return Ji()}function $y(){jn===0&&(jn=(qe&536870912)===0||Fe?vo():536870912);var t=Pn.current;return t!==null&&(t.flags|=32),jn}function An(t,i,a){(t===rt&&(We===2||We===9)||t.cancelPendingCommit!==null)&&(Na(t,0),_r(t,qe,jn,!1)),_i(t,a),((Ze&2)===0||t!==rt)&&(t===rt&&((Ze&2)===0&&(Ns|=a),dt===4&&_r(t,qe,jn,!1)),ci(t))}function Zy(t,i,a){if((Ze&6)!==0)throw Error(s(327));var l=!a&&(i&124)===0&&(i&t.expiredLanes)===0||ts(t,i),h=l?h1(t,i):lf(t,i,!0),f=l;do{if(h===0){Sa&&!l&&_r(t,i,0,!1);break}else{if(a=t.current.alternate,f&&!u1(a)){h=lf(t,i,!1),f=!1;continue}if(h===2){if(f=i,t.errorRecoveryDisabledLanes&f)var b=0;else b=t.pendingLanes&-536870913,b=b!==0?b:b&536870912?536870912:0;if(b!==0){i=b;e:{var T=t;h=ll;var I=T.current.memoizedState.isDehydrated;if(I&&(Na(T,b).flags|=256),b=lf(T,b,!1),b!==2){if(Wd&&!I){T.errorRecoveryDisabledLanes|=f,Ns|=f,h=4;break e}f=un,un=h,f!==null&&(un===null?un=f:un.push.apply(un,f))}h=b}if(f=!1,h!==2)continue}}if(h===1){Na(t,0),_r(t,i,0,!0);break}e:{switch(l=t,f=h,f){case 0:case 1:throw Error(s(345));case 4:if((i&4194048)!==i)break;case 6:_r(l,i,jn,!pr);break e;case 2:un=null;break;case 3:case 5:break;default:throw Error(s(329))}if((i&62914560)===i&&(h=tf+300-xn(),10<h)){if(_r(l,i,jn,!pr),Qs(l,0,!0)!==0)break e;l.timeoutHandle=xv(Wy.bind(null,l,a,un,sc,ef,i,jn,Ns,xa,pr,f,2,-0,0),h);break e}Wy(l,a,un,sc,ef,i,jn,Ns,xa,pr,f,0,-0,0)}}break}while(!0);ci(t)}function Wy(t,i,a,l,h,f,b,T,I,B,X,Z,q,H){if(t.timeoutHandle=-1,Z=i.subtreeFlags,(Z&8192||(Z&16785408)===16785408)&&(gl={stylesheets:null,count:0,unsuspend:G1},Fy(i),Z=Q1(),Z!==null)){t.cancelPendingCommit=Z(sv.bind(null,t,i,f,a,l,h,b,T,I,X,1,q,H)),_r(t,f,b,!B);return}sv(t,i,f,a,l,h,b,T,I)}function u1(t){for(var i=t;;){var a=i.tag;if((a===0||a===11||a===15)&&i.flags&16384&&(a=i.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var h=a[l],f=h.getSnapshot;h=h.value;try{if(!yn(f(),h))return!1}catch{return!1}}if(a=i.child,i.subtreeFlags&16384&&a!==null)a.return=i,i=a;else{if(i===t)break;for(;i.sibling===null;){if(i.return===null||i.return===t)return!0;i=i.return}i.sibling.return=i.return,i=i.sibling}}return!0}function _r(t,i,a,l){i&=~Jd,i&=~Ns,t.suspendedLanes|=i,t.pingedLanes&=~i,l&&(t.warmLanes|=i),l=t.expirationTimes;for(var h=i;0<h;){var f=31-Kt(h),b=1<<f;l[f]=-1,h&=~b}a!==0&&Xn(t,a,i)}function ac(){return(Ze&6)===0?(cl(0),!1):!0}function af(){if(Ve!==null){if(We===0)var t=Ve.return;else t=Ve,Mi=As=null,Td(t),Ea=null,el=0,t=Ve;for(;t!==null;)Dy(t.alternate,t),t=t.return;Ve=null}}function Na(t,i){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,R1(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),af(),rt=t,Ve=a=Ci(t.current,null),qe=i,We=0,En=null,pr=!1,Sa=ts(t,i),Wd=!1,xa=jn=Jd=Ns=gr=dt=0,un=ll=null,ef=!1,(i&8)!==0&&(i|=i&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=i;0<l;){var h=31-Kt(l),f=1<<h;i|=t[h],l&=~f}return Bi=i,Iu(),a}function Jy(t,i){Ce=null,K.H=Ku,i===Fo||i===ju?(i=gg(),We=3):i===fg?(i=gg(),We=4):We=i===yy?8:i!==null&&typeof i=="object"&&typeof i.then=="function"?6:1,En=i,Ve===null&&(dt=1,Wu(t,On(i,t.current)))}function ev(){var t=K.H;return K.H=Ku,t===null?Ku:t}function tv(){var t=K.A;return K.A=o1,t}function of(){dt=4,pr||(qe&4194048)!==qe&&Pn.current!==null||(Sa=!0),(gr&134217727)===0&&(Ns&134217727)===0||rt===null||_r(rt,qe,jn,!1)}function lf(t,i,a){var l=Ze;Ze|=2;var h=ev(),f=tv();(rt!==t||qe!==i)&&(sc=null,Na(t,i)),i=!1;var b=dt;e:do try{if(We!==0&&Ve!==null){var T=Ve,I=En;switch(We){case 8:af(),b=6;break e;case 3:case 2:case 9:case 6:Pn.current===null&&(i=!0);var B=We;if(We=0,En=null,Ca(t,T,I,B),a&&Sa){b=0;break e}break;default:B=We,We=0,En=null,Ca(t,T,I,B)}}c1(),b=dt;break}catch(X){Jy(t,X)}while(!0);return i&&t.shellSuspendCounter++,Mi=As=null,Ze=l,K.H=h,K.A=f,Ve===null&&(rt=null,qe=0,Iu()),b}function c1(){for(;Ve!==null;)nv(Ve)}function h1(t,i){var a=Ze;Ze|=2;var l=ev(),h=tv();rt!==t||qe!==i?(sc=null,rc=xn()+500,Na(t,i)):Sa=ts(t,i);e:do try{if(We!==0&&Ve!==null){i=Ve;var f=En;t:switch(We){case 1:We=0,En=null,Ca(t,i,f,1);break;case 2:case 9:if(mg(f)){We=0,En=null,iv(i);break}i=function(){We!==2&&We!==9||rt!==t||(We=7),ci(t)},f.then(i,i);break e;case 3:We=7;break e;case 4:We=5;break e;case 7:mg(f)?(We=0,En=null,iv(i)):(We=0,En=null,Ca(t,i,f,7));break;case 5:var b=null;switch(Ve.tag){case 26:b=Ve.memoizedState;case 5:case 27:var T=Ve;if(!b||Uv(b)){We=0,En=null;var I=T.sibling;if(I!==null)Ve=I;else{var B=T.return;B!==null?(Ve=B,oc(B)):Ve=null}break t}}We=0,En=null,Ca(t,i,f,5);break;case 6:We=0,En=null,Ca(t,i,f,6);break;case 8:af(),dt=6;break e;default:throw Error(s(462))}}d1();break}catch(X){Jy(t,X)}while(!0);return Mi=As=null,K.H=l,K.A=h,Ze=a,Ve!==null?0:(rt=null,qe=0,Iu(),dt)}function d1(){for(;Ve!==null&&!mo();)nv(Ve)}function nv(t){var i=Ny(t.alternate,t,Bi);t.memoizedProps=t.pendingProps,i===null?oc(t):Ve=i}function iv(t){var i=t,a=i.alternate;switch(i.tag){case 15:case 0:i=Ay(a,i,i.pendingProps,i.type,void 0,qe);break;case 11:i=Ay(a,i,i.pendingProps,i.type.render,i.ref,qe);break;case 5:Td(i);default:Dy(a,i),i=Ve=rg(i,Bi),i=Ny(a,i,Bi)}t.memoizedProps=t.pendingProps,i===null?oc(t):Ve=i}function Ca(t,i,a,l){Mi=As=null,Td(i),Ea=null,el=0;var h=i.return;try{if(t1(t,h,i,a,qe)){dt=1,Wu(t,On(a,t.current)),Ve=null;return}}catch(f){if(h!==null)throw Ve=h,f;dt=1,Wu(t,On(a,t.current)),Ve=null;return}i.flags&32768?(Fe||l===1?t=!0:Sa||(qe&536870912)!==0?t=!1:(pr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Pn.current,l!==null&&l.tag===13&&(l.flags|=16384))),rv(i,t)):oc(i)}function oc(t){var i=t;do{if((i.flags&32768)!==0){rv(i,pr);return}t=i.return;var a=i1(i.alternate,i,Bi);if(a!==null){Ve=a;return}if(i=i.sibling,i!==null){Ve=i;return}Ve=i=t}while(i!==null);dt===0&&(dt=5)}function rv(t,i){do{var a=r1(t.alternate,t);if(a!==null){a.flags&=32767,Ve=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!i&&(t=t.sibling,t!==null)){Ve=t;return}Ve=t=a}while(t!==null);dt=6,Ve=null}function sv(t,i,a,l,h,f,b,T,I){t.cancelPendingCommit=null;do lc();while(qt!==0);if((Ze&6)!==0)throw Error(s(327));if(i!==null){if(i===t.current)throw Error(s(177));if(f=i.lanes|i.childLanes,f|=Zh,bo(t,a,f,b,T,I),t===rt&&(Ve=rt=null,qe=0),Ra=i,vr=t,Ia=a,nf=f,rf=h,Xy=l,(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,g1(Zr,function(){return cv(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(i.flags&13878)!==0,(i.subtreeFlags&13878)!==0||l){l=K.T,K.T=null,h=ie.p,ie.p=2,b=Ze,Ze|=4;try{s1(t,i,a)}finally{Ze=b,ie.p=h,K.T=l}}qt=1,av(),ov(),lv()}}function av(){if(qt===1){qt=0;var t=vr,i=Ra,a=(i.flags&13878)!==0;if((i.subtreeFlags&13878)!==0||a){a=K.T,K.T=null;var l=ie.p;ie.p=2;var h=Ze;Ze|=4;try{qy(i,t);var f=bf,b=Yp(t.containerInfo),T=f.focusedElem,I=f.selectionRange;if(b!==T&&T&&T.ownerDocument&&Kp(T.ownerDocument.documentElement,T)){if(I!==null&&Qh(T)){var B=I.start,X=I.end;if(X===void 0&&(X=B),"selectionStart"in T)T.selectionStart=B,T.selectionEnd=Math.min(X,T.value.length);else{var Z=T.ownerDocument||document,q=Z&&Z.defaultView||window;if(q.getSelection){var H=q.getSelection(),Ae=T.textContent.length,ve=Math.min(I.start,Ae),nt=I.end===void 0?ve:Math.min(I.end,Ae);!H.extend&&ve>nt&&(b=nt,nt=ve,ve=b);var U=Qp(T,ve),O=Qp(T,nt);if(U&&O&&(H.rangeCount!==1||H.anchorNode!==U.node||H.anchorOffset!==U.offset||H.focusNode!==O.node||H.focusOffset!==O.offset)){var z=Z.createRange();z.setStart(U.node,U.offset),H.removeAllRanges(),ve>nt?(H.addRange(z),H.extend(O.node,O.offset)):(z.setEnd(O.node,O.offset),H.addRange(z))}}}}for(Z=[],H=T;H=H.parentNode;)H.nodeType===1&&Z.push({element:H,left:H.scrollLeft,top:H.scrollTop});for(typeof T.focus=="function"&&T.focus(),T=0;T<Z.length;T++){var $=Z[T];$.element.scrollLeft=$.left,$.element.scrollTop=$.top}}bc=!!_f,bf=_f=null}finally{Ze=h,ie.p=l,K.T=a}}t.current=i,qt=2}}function ov(){if(qt===2){qt=0;var t=vr,i=Ra,a=(i.flags&8772)!==0;if((i.subtreeFlags&8772)!==0||a){a=K.T,K.T=null;var l=ie.p;ie.p=2;var h=Ze;Ze|=4;try{Uy(t,i.alternate,i)}finally{Ze=h,ie.p=l,K.T=a}}qt=3}}function lv(){if(qt===4||qt===3){qt=0,iu();var t=vr,i=Ra,a=Ia,l=Xy;(i.subtreeFlags&10256)!==0||(i.flags&10256)!==0?qt=5:(qt=0,Ra=vr=null,uv(t,t.pendingLanes));var h=t.pendingLanes;if(h===0&&(yr=null),Ks(a),i=i.stateNode,$e&&typeof $e.onCommitFiberRoot=="function")try{$e.onCommitFiberRoot(ct,i,void 0,(i.current.flags&128)===128)}catch{}if(l!==null){i=K.T,h=ie.p,ie.p=2,K.T=null;try{for(var f=t.onRecoverableError,b=0;b<l.length;b++){var T=l[b];f(T.value,{componentStack:T.stack})}}finally{K.T=i,ie.p=h}}(Ia&3)!==0&&lc(),ci(t),h=t.pendingLanes,(a&4194090)!==0&&(h&42)!==0?t===sf?ul++:(ul=0,sf=t):ul=0,cl(0)}}function uv(t,i){(t.pooledCacheLanes&=i)===0&&(i=t.pooledCache,i!=null&&(t.pooledCache=null,Ho(i)))}function lc(t){return av(),ov(),lv(),cv()}function cv(){if(qt!==5)return!1;var t=vr,i=nf;nf=0;var a=Ks(Ia),l=K.T,h=ie.p;try{ie.p=32>a?32:a,K.T=null,a=rf,rf=null;var f=vr,b=Ia;if(qt=0,Ra=vr=null,Ia=0,(Ze&6)!==0)throw Error(s(331));var T=Ze;if(Ze|=4,Ky(f.current),Gy(f,f.current,b,a),Ze=T,cl(0,!1),$e&&typeof $e.onPostCommitFiberRoot=="function")try{$e.onPostCommitFiberRoot(ct,f)}catch{}return!0}finally{ie.p=h,K.T=l,uv(t,i)}}function hv(t,i,a){i=On(a,i),i=Pd(t.stateNode,i,2),t=lr(t,i,2),t!==null&&(_i(t,2),ci(t))}function it(t,i,a){if(t.tag===3)hv(t,t,a);else for(;i!==null;){if(i.tag===3){hv(i,t,a);break}else if(i.tag===1){var l=i.stateNode;if(typeof i.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(yr===null||!yr.has(l))){t=On(a,t),a=py(2),l=lr(i,a,2),l!==null&&(gy(a,l,i,t),_i(l,2),ci(l));break}}i=i.return}}function uf(t,i,a){var l=t.pingCache;if(l===null){l=t.pingCache=new l1;var h=new Set;l.set(i,h)}else h=l.get(i),h===void 0&&(h=new Set,l.set(i,h));h.has(a)||(Wd=!0,h.add(a),t=f1.bind(null,t,i,a),i.then(t,t))}function f1(t,i,a){var l=t.pingCache;l!==null&&l.delete(i),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,rt===t&&(qe&a)===a&&(dt===4||dt===3&&(qe&62914560)===qe&&300>xn()-tf?(Ze&2)===0&&Na(t,0):Jd|=a,xa===qe&&(xa=0)),ci(t)}function dv(t,i){i===0&&(i=_o()),t=ha(t,i),t!==null&&(_i(t,i),ci(t))}function m1(t){var i=t.memoizedState,a=0;i!==null&&(a=i.retryLane),dv(t,a)}function p1(t,i){var a=0;switch(t.tag){case 13:var l=t.stateNode,h=t.memoizedState;h!==null&&(a=h.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(i),dv(t,a)}function g1(t,i){return Xr(t,i)}var uc=null,Da=null,cf=!1,cc=!1,hf=!1,Cs=0;function ci(t){t!==Da&&t.next===null&&(Da===null?uc=Da=t:Da=Da.next=t),cc=!0,cf||(cf=!0,v1())}function cl(t,i){if(!hf&&cc){hf=!0;do for(var a=!1,l=uc;l!==null;){if(t!==0){var h=l.pendingLanes;if(h===0)var f=0;else{var b=l.suspendedLanes,T=l.pingedLanes;f=(1<<31-Kt(42|t)+1)-1,f&=h&~(b&~T),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,gv(l,f))}else f=qe,f=Qs(l,l===rt?f:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(f&3)===0||ts(l,f)||(a=!0,gv(l,f));l=l.next}while(a);hf=!1}}function y1(){fv()}function fv(){cc=cf=!1;var t=0;Cs!==0&&(x1()&&(t=Cs),Cs=0);for(var i=xn(),a=null,l=uc;l!==null;){var h=l.next,f=mv(l,i);f===0?(l.next=null,a===null?uc=h:a.next=h,h===null&&(Da=a)):(a=l,(t!==0||(f&3)!==0)&&(cc=!0)),l=h}cl(t)}function mv(t,i){for(var a=t.suspendedLanes,l=t.pingedLanes,h=t.expirationTimes,f=t.pendingLanes&-62914561;0<f;){var b=31-Kt(f),T=1<<b,I=h[b];I===-1?((T&a)===0||(T&l)!==0)&&(h[b]=yo(T,i)):I<=i&&(t.expiredLanes|=T),f&=~T}if(i=rt,a=qe,a=Qs(t,t===i?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===i&&(We===2||We===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&$r(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||ts(t,a)){if(i=a&-a,i===t.callbackPriority)return i;switch(l!==null&&$r(l),Ks(a)){case 2:case 8:a=Gs;break;case 32:a=Zr;break;case 268435456:a=Fs;break;default:a=Zr}return l=pv.bind(null,t),a=Xr(a,l),t.callbackPriority=i,t.callbackNode=a,i}return l!==null&&l!==null&&$r(l),t.callbackPriority=2,t.callbackNode=null,2}function pv(t,i){if(qt!==0&&qt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(lc()&&t.callbackNode!==a)return null;var l=qe;return l=Qs(t,t===rt?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:(Zy(t,l,i),mv(t,xn()),t.callbackNode!=null&&t.callbackNode===a?pv.bind(null,t):null)}function gv(t,i){if(lc())return null;Zy(t,i,!0)}function v1(){I1(function(){(Ze&6)!==0?Xr(po,y1):fv()})}function df(){return Cs===0&&(Cs=vo()),Cs}function yv(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Js(""+t)}function vv(t,i){var a=i.ownerDocument.createElement("input");return a.name=i.name,a.value=i.value,t.id&&a.setAttribute("form",t.id),i.parentNode.insertBefore(a,i),t=new FormData(t),a.parentNode.removeChild(a),t}function _1(t,i,a,l,h){if(i==="submit"&&a&&a.stateNode===h){var f=yv((h[vt]||null).action),b=l.submitter;b&&(i=(i=b[vt]||null)?yv(i.formAction):b.getAttribute("formAction"),i!==null&&(f=i,b=null));var T=new ea("action","action",null,l,h);t.push({event:T,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Cs!==0){var I=b?vv(h,b):new FormData(h);Dd(a,{pending:!0,data:I,method:h.method,action:f},null,I)}}else typeof f=="function"&&(T.preventDefault(),I=b?vv(h,b):new FormData(h),Dd(a,{pending:!0,data:I,method:h.method,action:f},f,I))},currentTarget:h}]})}}for(var ff=0;ff<$h.length;ff++){var mf=$h[ff],b1=mf.toLowerCase(),E1=mf[0].toUpperCase()+mf.slice(1);qn(b1,"on"+E1)}qn(Zp,"onAnimationEnd"),qn(Wp,"onAnimationIteration"),qn(Jp,"onAnimationStart"),qn("dblclick","onDoubleClick"),qn("focusin","onFocus"),qn("focusout","onBlur"),qn(UT,"onTransitionRun"),qn(LT,"onTransitionStart"),qn(zT,"onTransitionCancel"),qn(eg,"onTransitionEnd"),Ei("onMouseEnter",["mouseout","mouseover"]),Ei("onMouseLeave",["mouseout","mouseover"]),Ei("onPointerEnter",["pointerout","pointerover"]),Ei("onPointerLeave",["pointerout","pointerover"]),zn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),zn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),zn("onBeforeInput",["compositionend","keypress","textInput","paste"]),zn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),zn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),T1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hl));function _v(t,i){i=(i&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],h=l.event;l=l.listeners;e:{var f=void 0;if(i)for(var b=l.length-1;0<=b;b--){var T=l[b],I=T.instance,B=T.currentTarget;if(T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=B;try{f(h)}catch(X){Zu(X)}h.currentTarget=null,f=I}else for(b=0;b<l.length;b++){if(T=l[b],I=T.instance,B=T.currentTarget,T=T.listener,I!==f&&h.isPropagationStopped())break e;f=T,h.currentTarget=B;try{f(h)}catch(X){Zu(X)}h.currentTarget=null,f=I}}}}function Pe(t,i){var a=i[To];a===void 0&&(a=i[To]=new Set);var l=t+"__bubble";a.has(l)||(bv(i,t,2,!1),a.add(l))}function pf(t,i,a){var l=0;i&&(l|=4),bv(a,t,l,i)}var hc="_reactListening"+Math.random().toString(36).slice(2);function gf(t){if(!t[hc]){t[hc]=!0,Ao.forEach(function(a){a!=="selectionchange"&&(T1.has(a)||pf(a,!1,t),pf(a,!0,t))});var i=t.nodeType===9?t:t.ownerDocument;i===null||i[hc]||(i[hc]=!0,pf("selectionchange",!1,i))}}function bv(t,i,a,l){switch(Gv(i)){case 2:var h=X1;break;case 8:h=$1;break;default:h=Cf}a=h.bind(null,i,a,t),h=void 0,!Cn||i!=="touchstart"&&i!=="touchmove"&&i!=="wheel"||(h=!0),l?h!==void 0?t.addEventListener(i,a,{capture:!0,passive:h}):t.addEventListener(i,a,!0):h!==void 0?t.addEventListener(i,a,{passive:h}):t.addEventListener(i,a,!1)}function yf(t,i,a,l,h){var f=l;if((i&1)===0&&(i&2)===0&&l!==null)e:for(;;){if(l===null)return;var b=l.tag;if(b===3||b===4){var T=l.stateNode.containerInfo;if(T===h)break;if(b===4)for(b=l.return;b!==null;){var I=b.tag;if((I===3||I===4)&&b.stateNode.containerInfo===h)return;b=b.return}for(;T!==null;){if(b=bi(T),b===null)return;if(I=b.tag,I===5||I===6||I===26||I===27){l=f=b;continue e}T=T.parentNode}}l=l.return}fu(function(){var B=f,X=Nn(a),Z=[];e:{var q=tg.get(t);if(q!==void 0){var H=ea,Ae=t;switch(t){case"keypress":if(ti(a)===0)break e;case"keydown":case"keyup":H=aa;break;case"focusin":Ae="focus",H=ia;break;case"focusout":Ae="blur",H=ia;break;case"beforeblur":case"afterblur":H=ia;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":H=Dn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":H=qh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":H=Eu;break;case Zp:case Wp:case Jp:H=ra;break;case eg:H=Au;break;case"scroll":case"scrollend":H=mu;break;case"wheel":H=oa;break;case"copy":case"cut":case"paste":H=sa;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":H=Vo;break;case"toggle":case"beforetoggle":H=Su}var ve=(i&4)!==0,nt=!ve&&(t==="scroll"||t==="scrollend"),U=ve?q!==null?q+"Capture":null:q;ve=[];for(var O=B,z;O!==null;){var $=O;if(z=$.stateNode,$=$.tag,$!==5&&$!==26&&$!==27||z===null||U===null||($=us(O,U),$!=null&&ve.push(dl(O,$,z))),nt)break;O=O.return}0<ve.length&&(q=new H(q,Ae,null,a,X),Z.push({event:q,listeners:ve}))}}if((i&7)===0){e:{if(q=t==="mouseover"||t==="pointerover",H=t==="mouseout"||t==="pointerout",q&&a!==wi&&(Ae=a.relatedTarget||a.fromElement)&&(bi(Ae)||Ae[Rn]))break e;if((H||q)&&(q=X.window===X?X:(q=X.ownerDocument)?q.defaultView||q.parentWindow:window,H?(Ae=a.relatedTarget||a.toElement,H=B,Ae=Ae?bi(Ae):null,Ae!==null&&(nt=u(Ae),ve=Ae.tag,Ae!==nt||ve!==5&&ve!==27&&ve!==6)&&(Ae=null)):(H=null,Ae=B),H!==Ae)){if(ve=Dn,$="onMouseLeave",U="onMouseEnter",O="mouse",(t==="pointerout"||t==="pointerover")&&(ve=Vo,$="onPointerLeave",U="onPointerEnter",O="pointer"),nt=H==null?q:Zn(H),z=Ae==null?q:Zn(Ae),q=new ve($,O+"leave",H,a,X),q.target=nt,q.relatedTarget=z,$=null,bi(X)===B&&(ve=new ve(U,O+"enter",Ae,a,X),ve.target=z,ve.relatedTarget=nt,$=ve),nt=$,H&&Ae)t:{for(ve=H,U=Ae,O=0,z=ve;z;z=Oa(z))O++;for(z=0,$=U;$;$=Oa($))z++;for(;0<O-z;)ve=Oa(ve),O--;for(;0<z-O;)U=Oa(U),z--;for(;O--;){if(ve===U||U!==null&&ve===U.alternate)break t;ve=Oa(ve),U=Oa(U)}ve=null}else ve=null;H!==null&&Ev(Z,q,H,ve,!1),Ae!==null&&nt!==null&&Ev(Z,nt,Ae,ve,!0)}}e:{if(q=B?Zn(B):window,H=q.nodeName&&q.nodeName.toLowerCase(),H==="select"||H==="input"&&q.type==="file")var de=zp;else if(Rt(q))if(Bp)de=VT;else{de=MT;var Me=OT}else H=q.nodeName,!H||H.toLowerCase()!=="input"||q.type!=="checkbox"&&q.type!=="radio"?B&&Io(B.elementType)&&(de=zp):de=kT;if(de&&(de=de(t,B))){Ni(Z,de,a,X);break e}Me&&Me(t,q,B),t==="focusout"&&B&&q.type==="number"&&B.memoizedProps.value!=null&&ir(q,"number",q.value)}switch(Me=B?Zn(B):window,t){case"focusin":(Rt(Me)||Me.contentEditable==="true")&&(la=Me,Kh=B,Uo=null);break;case"focusout":Uo=Kh=la=null;break;case"mousedown":Yh=!0;break;case"contextmenu":case"mouseup":case"dragend":Yh=!1,Xp(Z,a,X);break;case"selectionchange":if(jT)break;case"keydown":case"keyup":Xp(Z,a,X)}var ge;if(ri)e:{switch(t){case"compositionstart":var be="onCompositionStart";break e;case"compositionend":be="onCompositionEnd";break e;case"compositionupdate":be="onCompositionUpdate";break e}be=void 0}else ze?F(t,a)&&(be="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(be="onCompositionStart");be&&(v&&a.locale!=="ko"&&(ze||be!=="onCompositionStart"?be==="onCompositionEnd"&&ze&&(ge=Co()):(ei=X,rr="value"in ei?ei.value:ei.textContent,ze=!0)),Me=dc(B,be),0<Me.length&&(be=new Mo(be,t,null,a,X),Z.push({event:be,listeners:Me}),ge?be.data=ge:(ge=re(a),ge!==null&&(be.data=ge)))),(ge=p?xt(t,a):Be(t,a))&&(be=dc(B,"onBeforeInput"),0<be.length&&(Me=new Mo("onBeforeInput","beforeinput",null,a,X),Z.push({event:Me,listeners:be}),Me.data=ge)),_1(Z,t,B,a,X)}_v(Z,i)})}function dl(t,i,a){return{instance:t,listener:i,currentTarget:a}}function dc(t,i){for(var a=i+"Capture",l=[];t!==null;){var h=t,f=h.stateNode;if(h=h.tag,h!==5&&h!==26&&h!==27||f===null||(h=us(t,a),h!=null&&l.unshift(dl(t,h,f)),h=us(t,i),h!=null&&l.push(dl(t,h,f))),t.tag===3)return l;t=t.return}return[]}function Oa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function Ev(t,i,a,l,h){for(var f=i._reactName,b=[];a!==null&&a!==l;){var T=a,I=T.alternate,B=T.stateNode;if(T=T.tag,I!==null&&I===l)break;T!==5&&T!==26&&T!==27||B===null||(I=B,h?(B=us(a,f),B!=null&&b.unshift(dl(a,B,I))):h||(B=us(a,f),B!=null&&b.push(dl(a,B,I)))),a=a.return}b.length!==0&&t.push({event:i,listeners:b})}var A1=/\r\n?/g,w1=/\u0000|\uFFFD/g;function Tv(t){return(typeof t=="string"?t:""+t).replace(A1,`
`).replace(w1,"")}function Av(t,i){return i=Tv(i),Tv(t)===i}function fc(){}function tt(t,i,a,l,h,f){switch(a){case"children":typeof l=="string"?i==="body"||i==="textarea"&&l===""||In(t,l):(typeof l=="number"||typeof l=="bigint")&&i!=="body"&&In(t,""+l);break;case"className":Wn(t,"class",l);break;case"tabIndex":Wn(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Wn(t,a,l);break;case"style":Ro(t,l,f);break;case"data":if(i!=="object"){Wn(t,"data",l);break}case"src":case"href":if(l===""&&(i!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Js(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(i!=="input"&&tt(t,i,"name",h.name,h,null),tt(t,i,"formEncType",h.formEncType,h,null),tt(t,i,"formMethod",h.formMethod,h,null),tt(t,i,"formTarget",h.formTarget,h,null)):(tt(t,i,"encType",h.encType,h,null),tt(t,i,"method",h.method,h,null),tt(t,i,"target",h.target,h,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Js(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=fc);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Js(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Pe("beforetoggle",t),Pe("toggle",t),nr(t,"popover",l);break;case"xlinkActuate":Lt(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Lt(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Lt(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Lt(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Lt(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Lt(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Lt(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":nr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=zh.get(a)||a,nr(t,a,l))}}function vf(t,i,a,l,h,f){switch(a){case"style":Ro(t,l,f);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(h.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?In(t,l):(typeof l=="number"||typeof l=="bigint")&&In(t,""+l);break;case"onScroll":l!=null&&Pe("scroll",t);break;case"onScrollEnd":l!=null&&Pe("scrollend",t);break;case"onClick":l!=null&&(t.onclick=fc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ys.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(h=a.endsWith("Capture"),i=a.slice(2,h?a.length-7:void 0),f=t[vt]||null,f=f!=null?f[a]:null,typeof f=="function"&&t.removeEventListener(i,f,h),typeof l=="function")){typeof f!="function"&&f!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(i,l,h);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):nr(t,a,l)}}}function Ht(t,i,a){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pe("error",t),Pe("load",t);var l=!1,h=!1,f;for(f in a)if(a.hasOwnProperty(f)){var b=a[f];if(b!=null)switch(f){case"src":l=!0;break;case"srcSet":h=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,f,b,a,null)}}h&&tt(t,i,"srcSet",a.srcSet,a,null),l&&tt(t,i,"src",a.src,a,null);return;case"input":Pe("invalid",t);var T=f=b=h=null,I=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var X=a[l];if(X!=null)switch(l){case"name":h=X;break;case"type":b=X;break;case"checked":I=X;break;case"defaultChecked":B=X;break;case"value":f=X;break;case"defaultValue":T=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(s(137,i));break;default:tt(t,i,l,X,a,null)}}as(t,f,T,I,B,b,h,!1),Ws(t);return;case"select":Pe("invalid",t),l=b=f=null;for(h in a)if(a.hasOwnProperty(h)&&(T=a[h],T!=null))switch(h){case"value":f=T;break;case"defaultValue":b=T;break;case"multiple":l=T;default:tt(t,i,h,T,a,null)}i=f,a=b,t.multiple=!!l,i!=null?Ai(t,!!l,i,!1):a!=null&&Ai(t,!!l,a,!0);return;case"textarea":Pe("invalid",t),f=h=l=null;for(b in a)if(a.hasOwnProperty(b)&&(T=a[b],T!=null))switch(b){case"value":l=T;break;case"defaultValue":h=T;break;case"children":f=T;break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(s(91));break;default:tt(t,i,b,T,a,null)}os(t,l,h,f),Ws(t);return;case"option":for(I in a)if(a.hasOwnProperty(I)&&(l=a[I],l!=null))switch(I){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:tt(t,i,I,l,a,null)}return;case"dialog":Pe("beforetoggle",t),Pe("toggle",t),Pe("cancel",t),Pe("close",t);break;case"iframe":case"object":Pe("load",t);break;case"video":case"audio":for(l=0;l<hl.length;l++)Pe(hl[l],t);break;case"image":Pe("error",t),Pe("load",t);break;case"details":Pe("toggle",t);break;case"embed":case"source":case"link":Pe("error",t),Pe("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,i));default:tt(t,i,B,l,a,null)}return;default:if(Io(i)){for(X in a)a.hasOwnProperty(X)&&(l=a[X],l!==void 0&&vf(t,i,X,l,a,void 0));return}}for(T in a)a.hasOwnProperty(T)&&(l=a[T],l!=null&&tt(t,i,T,l,a,null))}function S1(t,i,a,l){switch(i){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var h=null,f=null,b=null,T=null,I=null,B=null,X=null;for(H in a){var Z=a[H];if(a.hasOwnProperty(H)&&Z!=null)switch(H){case"checked":break;case"value":break;case"defaultValue":I=Z;default:l.hasOwnProperty(H)||tt(t,i,H,null,l,Z)}}for(var q in l){var H=l[q];if(Z=a[q],l.hasOwnProperty(q)&&(H!=null||Z!=null))switch(q){case"type":f=H;break;case"name":h=H;break;case"checked":B=H;break;case"defaultChecked":X=H;break;case"value":b=H;break;case"defaultValue":T=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,i));break;default:H!==Z&&tt(t,i,q,H,l,Z)}}gn(t,b,T,I,B,X,f,h);return;case"select":H=b=T=q=null;for(f in a)if(I=a[f],a.hasOwnProperty(f)&&I!=null)switch(f){case"value":break;case"multiple":H=I;default:l.hasOwnProperty(f)||tt(t,i,f,null,l,I)}for(h in l)if(f=l[h],I=a[h],l.hasOwnProperty(h)&&(f!=null||I!=null))switch(h){case"value":q=f;break;case"defaultValue":T=f;break;case"multiple":b=f;default:f!==I&&tt(t,i,h,f,l,I)}i=T,a=b,l=H,q!=null?Ai(t,!!a,q,!1):!!l!=!!a&&(i!=null?Ai(t,!!a,i,!0):Ai(t,!!a,a?[]:"",!1));return;case"textarea":H=q=null;for(T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!l.hasOwnProperty(T))switch(T){case"value":break;case"children":break;default:tt(t,i,T,null,l,h)}for(b in l)if(h=l[b],f=a[b],l.hasOwnProperty(b)&&(h!=null||f!=null))switch(b){case"value":q=h;break;case"defaultValue":H=h;break;case"children":break;case"dangerouslySetInnerHTML":if(h!=null)throw Error(s(91));break;default:h!==f&&tt(t,i,b,h,l,f)}Je(t,q,H);return;case"option":for(var Ae in a)if(q=a[Ae],a.hasOwnProperty(Ae)&&q!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":t.selected=!1;break;default:tt(t,i,Ae,null,l,q)}for(I in l)if(q=l[I],H=a[I],l.hasOwnProperty(I)&&q!==H&&(q!=null||H!=null))switch(I){case"selected":t.selected=q&&typeof q!="function"&&typeof q!="symbol";break;default:tt(t,i,I,q,l,H)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var ve in a)q=a[ve],a.hasOwnProperty(ve)&&q!=null&&!l.hasOwnProperty(ve)&&tt(t,i,ve,null,l,q);for(B in l)if(q=l[B],H=a[B],l.hasOwnProperty(B)&&q!==H&&(q!=null||H!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,i));break;default:tt(t,i,B,q,l,H)}return;default:if(Io(i)){for(var nt in a)q=a[nt],a.hasOwnProperty(nt)&&q!==void 0&&!l.hasOwnProperty(nt)&&vf(t,i,nt,void 0,l,q);for(X in l)q=l[X],H=a[X],!l.hasOwnProperty(X)||q===H||q===void 0&&H===void 0||vf(t,i,X,q,l,H);return}}for(var U in a)q=a[U],a.hasOwnProperty(U)&&q!=null&&!l.hasOwnProperty(U)&&tt(t,i,U,null,l,q);for(Z in l)q=l[Z],H=a[Z],!l.hasOwnProperty(Z)||q===H||q==null&&H==null||tt(t,i,Z,q,l,H)}var _f=null,bf=null;function mc(t){return t.nodeType===9?t:t.ownerDocument}function wv(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sv(t,i){if(t===0)switch(i){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&i==="foreignObject"?0:t}function Ef(t,i){return t==="textarea"||t==="noscript"||typeof i.children=="string"||typeof i.children=="number"||typeof i.children=="bigint"||typeof i.dangerouslySetInnerHTML=="object"&&i.dangerouslySetInnerHTML!==null&&i.dangerouslySetInnerHTML.__html!=null}var Tf=null;function x1(){var t=window.event;return t&&t.type==="popstate"?t===Tf?!1:(Tf=t,!0):(Tf=null,!1)}var xv=typeof setTimeout=="function"?setTimeout:void 0,R1=typeof clearTimeout=="function"?clearTimeout:void 0,Rv=typeof Promise=="function"?Promise:void 0,I1=typeof queueMicrotask=="function"?queueMicrotask:typeof Rv<"u"?function(t){return Rv.resolve(null).then(t).catch(N1)}:xv;function N1(t){setTimeout(function(){throw t})}function br(t){return t==="head"}function Iv(t,i){var a=i,l=0,h=0;do{var f=a.nextSibling;if(t.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<l&&8>l){a=l;var b=t.ownerDocument;if(a&1&&fl(b.documentElement),a&2&&fl(b.body),a&4)for(a=b.head,fl(a),b=a.firstChild;b;){var T=b.nextSibling,I=b.nodeName;b[ns]||I==="SCRIPT"||I==="STYLE"||I==="LINK"&&b.rel.toLowerCase()==="stylesheet"||a.removeChild(b),b=T}}if(h===0){t.removeChild(f),El(i);return}h--}else a==="$"||a==="$?"||a==="$!"?h++:l=a.charCodeAt(0)-48;else l=0;a=f}while(a);El(i)}function Af(t){var i=t.firstChild;for(i&&i.nodeType===10&&(i=i.nextSibling);i;){var a=i;switch(i=i.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Af(a),tr(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function C1(t,i,a,l){for(;t.nodeType===1;){var h=a;if(t.nodeName.toLowerCase()!==i.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ns])switch(i){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(f=t.getAttribute("rel"),f==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(f!==h.rel||t.getAttribute("href")!==(h.href==null||h.href===""?null:h.href)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin)||t.getAttribute("title")!==(h.title==null?null:h.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(f=t.getAttribute("src"),(f!==(h.src==null?null:h.src)||t.getAttribute("type")!==(h.type==null?null:h.type)||t.getAttribute("crossorigin")!==(h.crossOrigin==null?null:h.crossOrigin))&&f&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(i==="input"&&t.type==="hidden"){var f=h.name==null?null:""+h.name;if(h.type==="hidden"&&t.getAttribute("name")===f)return t}else return t;if(t=Gn(t.nextSibling),t===null)break}return null}function D1(t,i,a){if(i==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Gn(t.nextSibling),t===null))return null;return t}function wf(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function O1(t,i){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")i();else{var l=function(){i(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Gn(t){for(;t!=null;t=t.nextSibling){var i=t.nodeType;if(i===1||i===3)break;if(i===8){if(i=t.data,i==="$"||i==="$!"||i==="$?"||i==="F!"||i==="F")break;if(i==="/$")return null}}return t}var Sf=null;function Nv(t){t=t.previousSibling;for(var i=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(i===0)return t;i--}else a==="/$"&&i++}t=t.previousSibling}return null}function Cv(t,i,a){switch(i=mc(a),t){case"html":if(t=i.documentElement,!t)throw Error(s(452));return t;case"head":if(t=i.head,!t)throw Error(s(453));return t;case"body":if(t=i.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function fl(t){for(var i=t.attributes;i.length;)t.removeAttributeNode(i[0]);tr(t)}var Un=new Map,Dv=new Set;function pc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var qi=ie.d;ie.d={f:M1,r:k1,D:V1,C:P1,L:j1,m:U1,X:z1,S:L1,M:B1};function M1(){var t=qi.f(),i=ac();return t||i}function k1(t){var i=$n(t);i!==null&&i.tag===5&&i.type==="form"?Zg(i):qi.r(t)}var Ma=typeof document>"u"?null:document;function Ov(t,i,a){var l=Ma;if(l&&typeof i=="string"&&i){var h=_t(i);h='link[rel="'+t+'"][href="'+h+'"]',typeof a=="string"&&(h+='[crossorigin="'+a+'"]'),Dv.has(h)||(Dv.add(h),t={rel:t,crossOrigin:a,href:i},l.querySelector(h)===null&&(i=l.createElement("link"),Ht(i,"link",t),mt(i),l.head.appendChild(i)))}}function V1(t){qi.D(t),Ov("dns-prefetch",t,null)}function P1(t,i){qi.C(t,i),Ov("preconnect",t,i)}function j1(t,i,a){qi.L(t,i,a);var l=Ma;if(l&&t&&i){var h='link[rel="preload"][as="'+_t(i)+'"]';i==="image"&&a&&a.imageSrcSet?(h+='[imagesrcset="'+_t(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(h+='[imagesizes="'+_t(a.imageSizes)+'"]')):h+='[href="'+_t(t)+'"]';var f=h;switch(i){case"style":f=ka(t);break;case"script":f=Va(t)}Un.has(f)||(t=E({rel:"preload",href:i==="image"&&a&&a.imageSrcSet?void 0:t,as:i},a),Un.set(f,t),l.querySelector(h)!==null||i==="style"&&l.querySelector(ml(f))||i==="script"&&l.querySelector(pl(f))||(i=l.createElement("link"),Ht(i,"link",t),mt(i),l.head.appendChild(i)))}}function U1(t,i){qi.m(t,i);var a=Ma;if(a&&t){var l=i&&typeof i.as=="string"?i.as:"script",h='link[rel="modulepreload"][as="'+_t(l)+'"][href="'+_t(t)+'"]',f=h;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=Va(t)}if(!Un.has(f)&&(t=E({rel:"modulepreload",href:t},i),Un.set(f,t),a.querySelector(h)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(pl(f)))return}l=a.createElement("link"),Ht(l,"link",t),mt(l),a.head.appendChild(l)}}}function L1(t,i,a){qi.S(t,i,a);var l=Ma;if(l&&t){var h=nn(l).hoistableStyles,f=ka(t);i=i||"default";var b=h.get(f);if(!b){var T={loading:0,preload:null};if(b=l.querySelector(ml(f)))T.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":i},a),(a=Un.get(f))&&xf(t,a);var I=b=l.createElement("link");mt(I),Ht(I,"link",t),I._p=new Promise(function(B,X){I.onload=B,I.onerror=X}),I.addEventListener("load",function(){T.loading|=1}),I.addEventListener("error",function(){T.loading|=2}),T.loading|=4,gc(b,i,l)}b={type:"stylesheet",instance:b,count:1,state:T},h.set(f,b)}}}function z1(t,i){qi.X(t,i);var a=Ma;if(a&&t){var l=nn(a).hoistableScripts,h=Va(t),f=l.get(h);f||(f=a.querySelector(pl(h)),f||(t=E({src:t,async:!0},i),(i=Un.get(h))&&Rf(t,i),f=a.createElement("script"),mt(f),Ht(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function B1(t,i){qi.M(t,i);var a=Ma;if(a&&t){var l=nn(a).hoistableScripts,h=Va(t),f=l.get(h);f||(f=a.querySelector(pl(h)),f||(t=E({src:t,async:!0,type:"module"},i),(i=Un.get(h))&&Rf(t,i),f=a.createElement("script"),mt(f),Ht(f,"link",t),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},l.set(h,f))}}function Mv(t,i,a,l){var h=(h=Ee.current)?pc(h):null;if(!h)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(i=ka(a.href),a=nn(h).hoistableStyles,l=a.get(i),l||(l={type:"style",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ka(a.href);var f=nn(h).hoistableStyles,b=f.get(t);if(b||(h=h.ownerDocument||h,b={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(t,b),(f=h.querySelector(ml(t)))&&!f._p&&(b.instance=f,b.state.loading=5),Un.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Un.set(t,a),f||q1(h,t,a,b.state))),i&&l===null)throw Error(s(528,""));return b}if(i&&l!==null)throw Error(s(529,""));return null;case"script":return i=a.async,a=a.src,typeof a=="string"&&i&&typeof i!="function"&&typeof i!="symbol"?(i=Va(a),a=nn(h).hoistableScripts,l=a.get(i),l||(l={type:"script",instance:null,count:0,state:null},a.set(i,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ka(t){return'href="'+_t(t)+'"'}function ml(t){return'link[rel="stylesheet"]['+t+"]"}function kv(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function q1(t,i,a,l){t.querySelector('link[rel="preload"][as="style"]['+i+"]")?l.loading=1:(i=t.createElement("link"),l.preload=i,i.addEventListener("load",function(){return l.loading|=1}),i.addEventListener("error",function(){return l.loading|=2}),Ht(i,"link",a),mt(i),t.head.appendChild(i))}function Va(t){return'[src="'+_t(t)+'"]'}function pl(t){return"script[async]"+t}function Vv(t,i,a){if(i.count++,i.instance===null)switch(i.type){case"style":var l=t.querySelector('style[data-href~="'+_t(a.href)+'"]');if(l)return i.instance=l,mt(l),l;var h=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),mt(l),Ht(l,"style",h),gc(l,a.precedence,t),i.instance=l;case"stylesheet":h=ka(a.href);var f=t.querySelector(ml(h));if(f)return i.state.loading|=4,i.instance=f,mt(f),f;l=kv(a),(h=Un.get(h))&&xf(l,h),f=(t.ownerDocument||t).createElement("link"),mt(f);var b=f;return b._p=new Promise(function(T,I){b.onload=T,b.onerror=I}),Ht(f,"link",l),i.state.loading|=4,gc(f,a.precedence,t),i.instance=f;case"script":return f=Va(a.src),(h=t.querySelector(pl(f)))?(i.instance=h,mt(h),h):(l=a,(h=Un.get(f))&&(l=E({},a),Rf(l,h)),t=t.ownerDocument||t,h=t.createElement("script"),mt(h),Ht(h,"link",l),t.head.appendChild(h),i.instance=h);case"void":return null;default:throw Error(s(443,i.type))}else i.type==="stylesheet"&&(i.state.loading&4)===0&&(l=i.instance,i.state.loading|=4,gc(l,a.precedence,t));return i.instance}function gc(t,i,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),h=l.length?l[l.length-1]:null,f=h,b=0;b<l.length;b++){var T=l[b];if(T.dataset.precedence===i)f=T;else if(f!==h)break}f?f.parentNode.insertBefore(t,f.nextSibling):(i=a.nodeType===9?a.head:a,i.insertBefore(t,i.firstChild))}function xf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.title==null&&(t.title=i.title)}function Rf(t,i){t.crossOrigin==null&&(t.crossOrigin=i.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=i.referrerPolicy),t.integrity==null&&(t.integrity=i.integrity)}var yc=null;function Pv(t,i,a){if(yc===null){var l=new Map,h=yc=new Map;h.set(a,l)}else h=yc,l=h.get(a),l||(l=new Map,h.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),h=0;h<a.length;h++){var f=a[h];if(!(f[ns]||f[St]||t==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var b=f.getAttribute(i)||"";b=t+b;var T=l.get(b);T?T.push(f):l.set(b,[f])}}return l}function jv(t,i,a){t=t.ownerDocument||t,t.head.insertBefore(a,i==="title"?t.querySelector("head > title"):null)}function H1(t,i,a){if(a===1||i.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof i.precedence!="string"||typeof i.href!="string"||i.href==="")break;return!0;case"link":if(typeof i.rel!="string"||typeof i.href!="string"||i.href===""||i.onLoad||i.onError)break;switch(i.rel){case"stylesheet":return t=i.disabled,typeof i.precedence=="string"&&t==null;default:return!0}case"script":if(i.async&&typeof i.async!="function"&&typeof i.async!="symbol"&&!i.onLoad&&!i.onError&&i.src&&typeof i.src=="string")return!0}return!1}function Uv(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var gl=null;function G1(){}function F1(t,i,a){if(gl===null)throw Error(s(475));var l=gl;if(i.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(i.state.loading&4)===0){if(i.instance===null){var h=ka(a.href),f=t.querySelector(ml(h));if(f){t=f._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=vc.bind(l),t.then(l,l)),i.state.loading|=4,i.instance=f,mt(f);return}f=t.ownerDocument||t,a=kv(a),(h=Un.get(h))&&xf(a,h),f=f.createElement("link"),mt(f);var b=f;b._p=new Promise(function(T,I){b.onload=T,b.onerror=I}),Ht(f,"link",a),i.instance=f}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(i,t),(t=i.state.preload)&&(i.state.loading&3)===0&&(l.count++,i=vc.bind(l),t.addEventListener("load",i),t.addEventListener("error",i))}}function Q1(){if(gl===null)throw Error(s(475));var t=gl;return t.stylesheets&&t.count===0&&If(t,t.stylesheets),0<t.count?function(i){var a=setTimeout(function(){if(t.stylesheets&&If(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=i,function(){t.unsuspend=null,clearTimeout(a)}}:null}function vc(){if(this.count--,this.count===0){if(this.stylesheets)If(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var _c=null;function If(t,i){t.stylesheets=null,t.unsuspend!==null&&(t.count++,_c=new Map,i.forEach(K1,t),_c=null,vc.call(t))}function K1(t,i){if(!(i.state.loading&4)){var a=_c.get(t);if(a)var l=a.get(null);else{a=new Map,_c.set(t,a);for(var h=t.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<h.length;f++){var b=h[f];(b.nodeName==="LINK"||b.getAttribute("media")!=="not all")&&(a.set(b.dataset.precedence,b),l=b)}l&&a.set(null,l)}h=i.instance,b=h.getAttribute("data-precedence"),f=a.get(b)||l,f===l&&a.set(null,h),a.set(b,h),this.count++,l=vc.bind(this),h.addEventListener("load",l),h.addEventListener("error",l),f?f.parentNode.insertBefore(h,f.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(h,t.firstChild)),i.state.loading|=4}}var yl={$$typeof:ce,Provider:null,Consumer:null,_currentValue:ne,_currentValue2:ne,_threadCount:0};function Y1(t,i,a,l,h,f,b,T){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=vi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vi(0),this.hiddenUpdates=vi(null),this.identifierPrefix=l,this.onUncaughtError=h,this.onCaughtError=f,this.onRecoverableError=b,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=T,this.incompleteTransitions=new Map}function Lv(t,i,a,l,h,f,b,T,I,B,X,Z){return t=new Y1(t,i,a,b,T,I,B,Z),i=1,f===!0&&(i|=24),f=vn(3,null,null,i),t.current=f,f.stateNode=t,i=ld(),i.refCount++,t.pooledCache=i,i.refCount++,f.memoizedState={element:l,isDehydrated:a,cache:i},dd(f),t}function zv(t){return t?(t=da,t):da}function Bv(t,i,a,l,h,f){h=zv(h),l.context===null?l.context=h:l.pendingContext=h,l=or(i),l.payload={element:a},f=f===void 0?null:f,f!==null&&(l.callback=f),a=lr(t,l,i),a!==null&&(An(a,t,i),Ko(a,t,i))}function qv(t,i){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<i?a:i}}function Nf(t,i){qv(t,i),(t=t.alternate)&&qv(t,i)}function Hv(t){if(t.tag===13){var i=ha(t,67108864);i!==null&&An(i,t,67108864),Nf(t,67108864)}}var bc=!0;function X1(t,i,a,l){var h=K.T;K.T=null;var f=ie.p;try{ie.p=2,Cf(t,i,a,l)}finally{ie.p=f,K.T=h}}function $1(t,i,a,l){var h=K.T;K.T=null;var f=ie.p;try{ie.p=8,Cf(t,i,a,l)}finally{ie.p=f,K.T=h}}function Cf(t,i,a,l){if(bc){var h=Df(l);if(h===null)yf(t,i,l,Ec,a),Fv(t,l);else if(W1(h,t,i,a,l))l.stopPropagation();else if(Fv(t,l),i&4&&-1<Z1.indexOf(t)){for(;h!==null;){var f=$n(h);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var b=Ln(f.pendingLanes);if(b!==0){var T=f;for(T.pendingLanes|=2,T.entangledLanes|=2;b;){var I=1<<31-Kt(b);T.entanglements[1]|=I,b&=~I}ci(f),(Ze&6)===0&&(rc=xn()+500,cl(0))}}break;case 13:T=ha(f,2),T!==null&&An(T,f,2),ac(),Nf(f,2)}if(f=Df(l),f===null&&yf(t,i,l,Ec,a),f===h)break;h=f}h!==null&&l.stopPropagation()}else yf(t,i,l,null,a)}}function Df(t){return t=Nn(t),Of(t)}var Ec=null;function Of(t){if(Ec=null,t=bi(t),t!==null){var i=u(t);if(i===null)t=null;else{var a=i.tag;if(a===13){if(t=d(i),t!==null)return t;t=null}else if(a===3){if(i.stateNode.current.memoizedState.isDehydrated)return i.tag===3?i.stateNode.containerInfo:null;t=null}else i!==t&&(t=null)}}return Ec=t,null}function Gv(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(kh()){case po:return 2;case Gs:return 8;case Zr:case Vh:return 32;case Fs:return 268435456;default:return 32}default:return 32}}var Mf=!1,Er=null,Tr=null,Ar=null,vl=new Map,_l=new Map,wr=[],Z1="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Fv(t,i){switch(t){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":vl.delete(i.pointerId);break;case"gotpointercapture":case"lostpointercapture":_l.delete(i.pointerId)}}function bl(t,i,a,l,h,f){return t===null||t.nativeEvent!==f?(t={blockedOn:i,domEventName:a,eventSystemFlags:l,nativeEvent:f,targetContainers:[h]},i!==null&&(i=$n(i),i!==null&&Hv(i)),t):(t.eventSystemFlags|=l,i=t.targetContainers,h!==null&&i.indexOf(h)===-1&&i.push(h),t)}function W1(t,i,a,l,h){switch(i){case"focusin":return Er=bl(Er,t,i,a,l,h),!0;case"dragenter":return Tr=bl(Tr,t,i,a,l,h),!0;case"mouseover":return Ar=bl(Ar,t,i,a,l,h),!0;case"pointerover":var f=h.pointerId;return vl.set(f,bl(vl.get(f)||null,t,i,a,l,h)),!0;case"gotpointercapture":return f=h.pointerId,_l.set(f,bl(_l.get(f)||null,t,i,a,l,h)),!0}return!1}function Qv(t){var i=bi(t.target);if(i!==null){var a=u(i);if(a!==null){if(i=a.tag,i===13){if(i=d(a),i!==null){t.blockedOn=i,au(t.priority,function(){if(a.tag===13){var l=Tn();l=Wi(l);var h=ha(a,l);h!==null&&An(h,a,l),Nf(a,l)}});return}}else if(i===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tc(t){if(t.blockedOn!==null)return!1;for(var i=t.targetContainers;0<i.length;){var a=Df(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);wi=l,a.target.dispatchEvent(l),wi=null}else return i=$n(a),i!==null&&Hv(i),t.blockedOn=a,!1;i.shift()}return!0}function Kv(t,i,a){Tc(t)&&a.delete(i)}function J1(){Mf=!1,Er!==null&&Tc(Er)&&(Er=null),Tr!==null&&Tc(Tr)&&(Tr=null),Ar!==null&&Tc(Ar)&&(Ar=null),vl.forEach(Kv),_l.forEach(Kv)}function Ac(t,i){t.blockedOn===i&&(t.blockedOn=null,Mf||(Mf=!0,r.unstable_scheduleCallback(r.unstable_NormalPriority,J1)))}var wc=null;function Yv(t){wc!==t&&(wc=t,r.unstable_scheduleCallback(r.unstable_NormalPriority,function(){wc===t&&(wc=null);for(var i=0;i<t.length;i+=3){var a=t[i],l=t[i+1],h=t[i+2];if(typeof l!="function"){if(Of(l||a)===null)continue;break}var f=$n(a);f!==null&&(t.splice(i,3),i-=3,Dd(f,{pending:!0,data:h,method:a.method,action:l},l,h))}}))}function El(t){function i(I){return Ac(I,t)}Er!==null&&Ac(Er,t),Tr!==null&&Ac(Tr,t),Ar!==null&&Ac(Ar,t),vl.forEach(i),_l.forEach(i);for(var a=0;a<wr.length;a++){var l=wr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<wr.length&&(a=wr[0],a.blockedOn===null);)Qv(a),a.blockedOn===null&&wr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var h=a[l],f=a[l+1],b=h[vt]||null;if(typeof f=="function")b||Yv(a);else if(b){var T=null;if(f&&f.hasAttribute("formAction")){if(h=f,b=f[vt]||null)T=b.formAction;else if(Of(h)!==null)continue}else T=b.action;typeof T=="function"?a[l+1]=T:(a.splice(l,3),l-=3),Yv(a)}}}function kf(t){this._internalRoot=t}Sc.prototype.render=kf.prototype.render=function(t){var i=this._internalRoot;if(i===null)throw Error(s(409));var a=i.current,l=Tn();Bv(a,l,t,i,null,null)},Sc.prototype.unmount=kf.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var i=t.containerInfo;Bv(t.current,2,null,t,null,null),ac(),i[Rn]=null}};function Sc(t){this._internalRoot=t}Sc.prototype.unstable_scheduleHydration=function(t){if(t){var i=Ji();t={blockedOn:null,target:t,priority:i};for(var a=0;a<wr.length&&i!==0&&i<wr[a].priority;a++);wr.splice(a,0,t),a===0&&Qv(t)}};var Xv=e.version;if(Xv!=="19.1.0")throw Error(s(527,Xv,"19.1.0"));ie.findDOMNode=function(t){var i=t._reactInternals;if(i===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=g(i),t=t!==null?y(t):null,t=t===null?null:t.stateNode,t};var eA={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xc.isDisabled&&xc.supportsFiber)try{ct=xc.inject(eA),$e=xc}catch{}}return Al.createRoot=function(t,i){if(!o(t))throw Error(s(299));var a=!1,l="",h=hy,f=dy,b=fy,T=null;return i!=null&&(i.unstable_strictMode===!0&&(a=!0),i.identifierPrefix!==void 0&&(l=i.identifierPrefix),i.onUncaughtError!==void 0&&(h=i.onUncaughtError),i.onCaughtError!==void 0&&(f=i.onCaughtError),i.onRecoverableError!==void 0&&(b=i.onRecoverableError),i.unstable_transitionCallbacks!==void 0&&(T=i.unstable_transitionCallbacks)),i=Lv(t,1,!1,null,null,a,l,h,f,b,T,null),t[Rn]=i.current,gf(t),new kf(i)},Al.hydrateRoot=function(t,i,a){if(!o(t))throw Error(s(299));var l=!1,h="",f=hy,b=dy,T=fy,I=null,B=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(T=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(I=a.unstable_transitionCallbacks),a.formState!==void 0&&(B=a.formState)),i=Lv(t,1,!0,i,a??null,l,h,f,b,T,I,B),i.context=zv(null),a=i.current,l=Tn(),l=Wi(l),h=or(l),h.callback=null,lr(a,h,l),a=l,i.current.lanes=a,_i(i,a),ci(i),t[Rn]=i.current,gf(t),new Sc(i)},Al.version="19.1.0",Al}var s_;function cA(){if(s_)return jf.exports;s_=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(e){console.error(e)}}return r(),jf.exports=uA(),jf.exports}var hA=cA();/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dA=r=>r.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fA=r=>r.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,s)=>s?s.toUpperCase():n.toLowerCase()),a_=r=>{const e=fA(r);return e.charAt(0).toUpperCase()+e.slice(1)},Y0=(...r)=>r.filter((e,n,s)=>!!e&&e.trim()!==""&&s.indexOf(e)===n).join(" ").trim(),mA=r=>{for(const e in r)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var pA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gA=xe.forwardRef(({color:r="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:s,className:o="",children:u,iconNode:d,...m},g)=>xe.createElement("svg",{ref:g,...pA,width:e,height:e,stroke:r,strokeWidth:s?Number(n)*24/Number(e):n,className:Y0("lucide",o),...!u&&!mA(m)&&{"aria-hidden":"true"},...m},[...d.map(([y,E])=>xe.createElement(y,E)),...Array.isArray(u)?u:[u]]));/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wt=(r,e)=>{const n=xe.forwardRef(({className:s,...o},u)=>xe.createElement(gA,{ref:u,iconNode:e,className:Y0(`lucide-${dA(a_(r))}`,`lucide-${r}`,s),...o}));return n.displayName=a_(r),n};/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yA=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Cl=wt("bell",yA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vA=[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h.01",key:"1bh4kh"}],["path",{d:"M12 4h.01",key:"1ujb9j"}],["path",{d:"M17 4h.01",key:"1upcoc"}]],X0=wt("cake",vA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Mr=wt("calendar",_A);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Rc=wt("circle-alert",bA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EA=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Sl=wt("circle-check-big",EA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],$0=wt("clock",TA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],wA=wt("download",AA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SA=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],im=wt("file-text",SA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Qc=wt("heart",xA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],IA=wt("map-pin",RA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"m10.5 20.5 10-10a4.95 4.95 0 1 0-7-7l-10 10a4.95 4.95 0 1 0 7 7Z",key:"wa1lgi"}],["path",{d:"m8.5 8.5 7 7",key:"rvfmvr"}]],rm=wt("pill",NA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],jl=wt("plus",CA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],OA=wt("save",DA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],kA=wt("smartphone",MA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"M11 2v2",key:"1539x4"}],["path",{d:"M5 2v2",key:"1yf1q8"}],["path",{d:"M5 3H4a2 2 0 0 0-2 2v4a6 6 0 0 0 12 0V5a2 2 0 0 0-2-2h-1",key:"rb5t3r"}],["path",{d:"M8 15a6 6 0 0 0 12 0v-3",key:"x18d4x"}],["circle",{cx:"20",cy:"10",r:"2",key:"ts1r5v"}]],o_=wt("stethoscope",VA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=[["path",{d:"m18 2 4 4",key:"22kx64"}],["path",{d:"m17 7 3-3",key:"1w1zoj"}],["path",{d:"M19 9 8.7 19.3c-1 1-2.5 1-3.4 0l-.6-.6c-1-1-1-2.5 0-3.4L15 5",key:"1exhtz"}],["path",{d:"m9 11 4 4",key:"rovt3i"}],["path",{d:"m5 19-3 3",key:"59f2uf"}],["path",{d:"m14 4 6 6",key:"yqp9t2"}]],Bf=wt("syringe",PA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Z0=wt("trash-2",jA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Kc=wt("user",UA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}],["path",{d:"M6.5 8a2 2 0 0 0-1.905 1.46L2.1 18.5A2 2 0 0 0 4 21h16a2 2 0 0 0 1.925-2.54L19.4 9.5A2 2 0 0 0 17.48 8Z",key:"56o5sh"}]],W0=wt("weight",LA);/**
 * @license lucide-react v0.510.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],fh=wt("x",zA);function BA({activeTab:r,setActiveTab:e}){const n=[{id:"agenda",label:"Agenda",icon:Mr},{id:"lembretes",label:"Lembretes",icon:Cl},{id:"prontuario",label:"Prontuário",icon:im}];return _.jsxs("nav",{className:"neuro-header",children:[_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx("div",{className:"neuro-icon",children:_.jsx(Qc,{className:"h-6 w-6 text-blue-600"})}),_.jsx("h1",{className:"text-2xl font-bold text-gray-800 gradient-text",children:"PetHealth"})]}),_.jsx("div",{className:"neuro-nav",children:n.map(s=>{const o=s.icon;return _.jsxs("button",{onClick:()=>e(s.id),className:`neuro-nav-item ${r===s.id?"active":""}`,children:[_.jsx(o,{className:"h-4 w-4"}),_.jsx("span",{className:"hidden sm:inline",children:s.label})]},s.id)})})]})}function l_(r,e){if(typeof r=="function")return r(e);r!=null&&(r.current=e)}function qA(...r){return e=>{let n=!1;const s=r.map(o=>{const u=l_(o,e);return!n&&typeof u=="function"&&(n=!0),u});if(n)return()=>{for(let o=0;o<s.length;o++){const u=s[o];typeof u=="function"?u():l_(r[o],null)}}}}function HA(...r){return xe.useCallback(qA(...r),r)}function GA(r){const e=QA(r),n=xe.forwardRef((s,o)=>{const{children:u,...d}=s,m=xe.Children.toArray(u),g=m.find(YA);if(g){const y=g.props.children,E=m.map(w=>w===g?xe.Children.count(y)>1?xe.Children.only(null):xe.isValidElement(y)?y.props.children:null:w);return _.jsx(e,{...d,ref:o,children:xe.isValidElement(y)?xe.cloneElement(y,void 0,E):null})}return _.jsx(e,{...d,ref:o,children:u})});return n.displayName=`${r}.Slot`,n}var FA=GA("Slot");function QA(r){const e=xe.forwardRef((n,s)=>{const{children:o,...u}=n,d=xe.isValidElement(o)?$A(o):void 0,m=HA(d,s);if(xe.isValidElement(o)){const g=XA(u,o.props);return o.type!==xe.Fragment&&(g.ref=m),xe.cloneElement(o,g)}return xe.Children.count(o)>1?xe.Children.only(null):null});return e.displayName=`${r}.SlotClone`,e}var KA=Symbol("radix.slottable");function YA(r){return xe.isValidElement(r)&&typeof r.type=="function"&&"__radixId"in r.type&&r.type.__radixId===KA}function XA(r,e){const n={...e};for(const s in e){const o=r[s],u=e[s];/^on[A-Z]/.test(s)?o&&u?n[s]=(...m)=>{const g=u(...m);return o(...m),g}:o&&(n[s]=o):s==="style"?n[s]={...o,...u}:s==="className"&&(n[s]=[o,u].filter(Boolean).join(" "))}return{...r,...n}}function $A(r){var s,o;let e=(s=Object.getOwnPropertyDescriptor(r.props,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?r.ref:(e=(o=Object.getOwnPropertyDescriptor(r,"ref"))==null?void 0:o.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?r.props.ref:r.props.ref||r.ref)}function J0(r){var e,n,s="";if(typeof r=="string"||typeof r=="number")s+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(e=0;e<o;e++)r[e]&&(n=J0(r[e]))&&(s&&(s+=" "),s+=n)}else for(n in r)r[n]&&(s&&(s+=" "),s+=n);return s}function eb(){for(var r,e,n=0,s="",o=arguments.length;n<o;n++)(r=arguments[n])&&(e=J0(r))&&(s&&(s+=" "),s+=e);return s}const u_=r=>typeof r=="boolean"?`${r}`:r===0?"0":r,c_=eb,ZA=(r,e)=>n=>{var s;if((e==null?void 0:e.variants)==null)return c_(r,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:u}=e,d=Object.keys(o).map(y=>{const E=n==null?void 0:n[y],w=u==null?void 0:u[y];if(E===null)return null;const x=u_(E)||u_(w);return o[y][x]}),m=n&&Object.entries(n).reduce((y,E)=>{let[w,x]=E;return x===void 0||(y[w]=x),y},{}),g=e==null||(s=e.compoundVariants)===null||s===void 0?void 0:s.reduce((y,E)=>{let{class:w,className:x,...k}=E;return Object.entries(k).every(V=>{let[Q,G]=V;return Array.isArray(G)?G.includes({...u,...m}[Q]):{...u,...m}[Q]===G})?[...y,w,x]:y},[]);return c_(r,d,g,n==null?void 0:n.class,n==null?void 0:n.className)},jm="-",WA=r=>{const e=ew(r),{conflictingClassGroups:n,conflictingClassGroupModifiers:s}=r;return{getClassGroupId:d=>{const m=d.split(jm);return m[0]===""&&m.length!==1&&m.shift(),tb(m,e)||JA(d)},getConflictingClassGroupIds:(d,m)=>{const g=n[d]||[];return m&&s[d]?[...g,...s[d]]:g}}},tb=(r,e)=>{var d;if(r.length===0)return e.classGroupId;const n=r[0],s=e.nextPart.get(n),o=s?tb(r.slice(1),s):void 0;if(o)return o;if(e.validators.length===0)return;const u=r.join(jm);return(d=e.validators.find(({validator:m})=>m(u)))==null?void 0:d.classGroupId},h_=/^\[(.+)\]$/,JA=r=>{if(h_.test(r)){const e=h_.exec(r)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},ew=r=>{const{theme:e,classGroups:n}=r,s={nextPart:new Map,validators:[]};for(const o in n)sm(n[o],s,o,e);return s},sm=(r,e,n,s)=>{r.forEach(o=>{if(typeof o=="string"){const u=o===""?e:d_(e,o);u.classGroupId=n;return}if(typeof o=="function"){if(tw(o)){sm(o(s),e,n,s);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([u,d])=>{sm(d,d_(e,u),n,s)})})},d_=(r,e)=>{let n=r;return e.split(jm).forEach(s=>{n.nextPart.has(s)||n.nextPart.set(s,{nextPart:new Map,validators:[]}),n=n.nextPart.get(s)}),n},tw=r=>r.isThemeGetter,nw=r=>{if(r<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,s=new Map;const o=(u,d)=>{n.set(u,d),e++,e>r&&(e=0,s=n,n=new Map)};return{get(u){let d=n.get(u);if(d!==void 0)return d;if((d=s.get(u))!==void 0)return o(u,d),d},set(u,d){n.has(u)?n.set(u,d):o(u,d)}}},am="!",om=":",iw=om.length,rw=r=>{const{prefix:e,experimentalParseClassName:n}=r;let s=o=>{const u=[];let d=0,m=0,g=0,y;for(let V=0;V<o.length;V++){let Q=o[V];if(d===0&&m===0){if(Q===om){u.push(o.slice(g,V)),g=V+iw;continue}if(Q==="/"){y=V;continue}}Q==="["?d++:Q==="]"?d--:Q==="("?m++:Q===")"&&m--}const E=u.length===0?o:o.substring(g),w=sw(E),x=w!==E,k=y&&y>g?y-g:void 0;return{modifiers:u,hasImportantModifier:x,baseClassName:w,maybePostfixModifierPosition:k}};if(e){const o=e+om,u=s;s=d=>d.startsWith(o)?u(d.substring(o.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:d,maybePostfixModifierPosition:void 0}}if(n){const o=s;s=u=>n({className:u,parseClassName:o})}return s},sw=r=>r.endsWith(am)?r.substring(0,r.length-1):r.startsWith(am)?r.substring(1):r,aw=r=>{const e=Object.fromEntries(r.orderSensitiveModifiers.map(s=>[s,!0]));return s=>{if(s.length<=1)return s;const o=[];let u=[];return s.forEach(d=>{d[0]==="["||e[d]?(o.push(...u.sort(),d),u=[]):u.push(d)}),o.push(...u.sort()),o}},ow=r=>({cache:nw(r.cacheSize),parseClassName:rw(r),sortModifiers:aw(r),...WA(r)}),lw=/\s+/,uw=(r,e)=>{const{parseClassName:n,getClassGroupId:s,getConflictingClassGroupIds:o,sortModifiers:u}=e,d=[],m=r.trim().split(lw);let g="";for(let y=m.length-1;y>=0;y-=1){const E=m[y],{isExternal:w,modifiers:x,hasImportantModifier:k,baseClassName:V,maybePostfixModifierPosition:Q}=n(E);if(w){g=E+(g.length>0?" "+g:g);continue}let G=!!Q,oe=s(G?V.substring(0,Q):V);if(!oe){if(!G){g=E+(g.length>0?" "+g:g);continue}if(oe=s(V),!oe){g=E+(g.length>0?" "+g:g);continue}G=!1}const ae=u(x).join(":"),ce=k?ae+am:ae,_e=ce+oe;if(d.includes(_e))continue;d.push(_e);const pe=o(oe,G);for(let Y=0;Y<pe.length;++Y){const N=pe[Y];d.push(ce+N)}g=E+(g.length>0?" "+g:g)}return g};function cw(){let r=0,e,n,s="";for(;r<arguments.length;)(e=arguments[r++])&&(n=nb(e))&&(s&&(s+=" "),s+=n);return s}const nb=r=>{if(typeof r=="string")return r;let e,n="";for(let s=0;s<r.length;s++)r[s]&&(e=nb(r[s]))&&(n&&(n+=" "),n+=e);return n};function hw(r,...e){let n,s,o,u=d;function d(g){const y=e.reduce((E,w)=>w(E),r());return n=ow(y),s=n.cache.get,o=n.cache.set,u=m,m(g)}function m(g){const y=s(g);if(y)return y;const E=uw(g,n);return o(g,E),E}return function(){return u(cw.apply(null,arguments))}}const Ct=r=>{const e=n=>n[r]||[];return e.isThemeGetter=!0,e},ib=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,rb=/^\((?:(\w[\w-]*):)?(.+)\)$/i,dw=/^\d+\/\d+$/,fw=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,mw=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,pw=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gw=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yw=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Pa=r=>dw.test(r),De=r=>!!r&&!Number.isNaN(Number(r)),xr=r=>!!r&&Number.isInteger(Number(r)),qf=r=>r.endsWith("%")&&De(r.slice(0,-1)),Hi=r=>fw.test(r),vw=()=>!0,_w=r=>mw.test(r)&&!pw.test(r),sb=()=>!1,bw=r=>gw.test(r),Ew=r=>yw.test(r),Tw=r=>!fe(r)&&!me(r),Aw=r=>no(r,lb,sb),fe=r=>ib.test(r),Ds=r=>no(r,ub,_w),Hf=r=>no(r,Iw,De),f_=r=>no(r,ab,sb),ww=r=>no(r,ob,Ew),Ic=r=>no(r,cb,bw),me=r=>rb.test(r),wl=r=>io(r,ub),Sw=r=>io(r,Nw),m_=r=>io(r,ab),xw=r=>io(r,lb),Rw=r=>io(r,ob),Nc=r=>io(r,cb,!0),no=(r,e,n)=>{const s=ib.exec(r);return s?s[1]?e(s[1]):n(s[2]):!1},io=(r,e,n=!1)=>{const s=rb.exec(r);return s?s[1]?e(s[1]):n:!1},ab=r=>r==="position"||r==="percentage",ob=r=>r==="image"||r==="url",lb=r=>r==="length"||r==="size"||r==="bg-size",ub=r=>r==="length",Iw=r=>r==="number",Nw=r=>r==="family-name",cb=r=>r==="shadow",Cw=()=>{const r=Ct("color"),e=Ct("font"),n=Ct("text"),s=Ct("font-weight"),o=Ct("tracking"),u=Ct("leading"),d=Ct("breakpoint"),m=Ct("container"),g=Ct("spacing"),y=Ct("radius"),E=Ct("shadow"),w=Ct("inset-shadow"),x=Ct("text-shadow"),k=Ct("drop-shadow"),V=Ct("blur"),Q=Ct("perspective"),G=Ct("aspect"),oe=Ct("ease"),ae=Ct("animate"),ce=()=>["auto","avoid","all","avoid-page","page","left","right","column"],_e=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],pe=()=>[..._e(),me,fe],Y=()=>["auto","hidden","clip","visible","scroll"],N=()=>["auto","contain","none"],S=()=>[me,fe,g],R=()=>[Pa,"full","auto",...S()],M=()=>[xr,"none","subgrid",me,fe],P=()=>["auto",{span:["full",xr,me,fe]},xr,me,fe],j=()=>[xr,"auto",me,fe],C=()=>["auto","min","max","fr",me,fe],ft=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Ye=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...S()],ie=()=>[Pa,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...S()],ne=()=>[r,me,fe],Le=()=>[..._e(),m_,f_,{position:[me,fe]}],D=()=>["no-repeat",{repeat:["","x","y","space","round"]}],ee=()=>["auto","cover","contain",xw,Aw,{size:[me,fe]}],se=()=>[qf,wl,Ds],te=()=>["","none","full",y,me,fe],ue=()=>["",De,wl,Ds],Ie=()=>["solid","dashed","dotted","double"],Ee=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ke=()=>[De,qf,m_,f_],Xe=()=>["","none",V,me,fe],tn=()=>["none",De,me,fe],fn=()=>["none",De,me,fe],mn=()=>[De,me,fe],Sn=()=>[Pa,"full",...S()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Hi],breakpoint:[Hi],color:[vw],container:[Hi],"drop-shadow":[Hi],ease:["in","out","in-out"],font:[Tw],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Hi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Hi],shadow:[Hi],spacing:["px",De],text:[Hi],"text-shadow":[Hi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Pa,fe,me,G]}],container:["container"],columns:[{columns:[De,fe,me,m]}],"break-after":[{"break-after":ce()}],"break-before":[{"break-before":ce()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:pe()}],overflow:[{overflow:Y()}],"overflow-x":[{"overflow-x":Y()}],"overflow-y":[{"overflow-y":Y()}],overscroll:[{overscroll:N()}],"overscroll-x":[{"overscroll-x":N()}],"overscroll-y":[{"overscroll-y":N()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:R()}],"inset-x":[{"inset-x":R()}],"inset-y":[{"inset-y":R()}],start:[{start:R()}],end:[{end:R()}],top:[{top:R()}],right:[{right:R()}],bottom:[{bottom:R()}],left:[{left:R()}],visibility:["visible","invisible","collapse"],z:[{z:[xr,"auto",me,fe]}],basis:[{basis:[Pa,"full","auto",m,...S()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[De,Pa,"auto","initial","none",fe]}],grow:[{grow:["",De,me,fe]}],shrink:[{shrink:["",De,me,fe]}],order:[{order:[xr,"first","last","none",me,fe]}],"grid-cols":[{"grid-cols":M()}],"col-start-end":[{col:P()}],"col-start":[{"col-start":j()}],"col-end":[{"col-end":j()}],"grid-rows":[{"grid-rows":M()}],"row-start-end":[{row:P()}],"row-start":[{"row-start":j()}],"row-end":[{"row-end":j()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":C()}],"auto-rows":[{"auto-rows":C()}],gap:[{gap:S()}],"gap-x":[{"gap-x":S()}],"gap-y":[{"gap-y":S()}],"justify-content":[{justify:[...ft(),"normal"]}],"justify-items":[{"justify-items":[...Ye(),"normal"]}],"justify-self":[{"justify-self":["auto",...Ye()]}],"align-content":[{content:["normal",...ft()]}],"align-items":[{items:[...Ye(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Ye(),{baseline:["","last"]}]}],"place-content":[{"place-content":ft()}],"place-items":[{"place-items":[...Ye(),"baseline"]}],"place-self":[{"place-self":["auto",...Ye()]}],p:[{p:S()}],px:[{px:S()}],py:[{py:S()}],ps:[{ps:S()}],pe:[{pe:S()}],pt:[{pt:S()}],pr:[{pr:S()}],pb:[{pb:S()}],pl:[{pl:S()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":S()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":S()}],"space-y-reverse":["space-y-reverse"],size:[{size:ie()}],w:[{w:[m,"screen",...ie()]}],"min-w":[{"min-w":[m,"screen","none",...ie()]}],"max-w":[{"max-w":[m,"screen","none","prose",{screen:[d]},...ie()]}],h:[{h:["screen","lh",...ie()]}],"min-h":[{"min-h":["screen","lh","none",...ie()]}],"max-h":[{"max-h":["screen","lh",...ie()]}],"font-size":[{text:["base",n,wl,Ds]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[s,me,Hf]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",qf,fe]}],"font-family":[{font:[Sw,fe,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[o,me,fe]}],"line-clamp":[{"line-clamp":[De,"none",me,Hf]}],leading:[{leading:[u,...S()]}],"list-image":[{"list-image":["none",me,fe]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",me,fe]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:ne()}],"text-color":[{text:ne()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Ie(),"wavy"]}],"text-decoration-thickness":[{decoration:[De,"from-font","auto",me,Ds]}],"text-decoration-color":[{decoration:ne()}],"underline-offset":[{"underline-offset":[De,"auto",me,fe]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:S()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",me,fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",me,fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:Le()}],"bg-repeat":[{bg:D()}],"bg-size":[{bg:ee()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},xr,me,fe],radial:["",me,fe],conic:[xr,me,fe]},Rw,ww]}],"bg-color":[{bg:ne()}],"gradient-from-pos":[{from:se()}],"gradient-via-pos":[{via:se()}],"gradient-to-pos":[{to:se()}],"gradient-from":[{from:ne()}],"gradient-via":[{via:ne()}],"gradient-to":[{to:ne()}],rounded:[{rounded:te()}],"rounded-s":[{"rounded-s":te()}],"rounded-e":[{"rounded-e":te()}],"rounded-t":[{"rounded-t":te()}],"rounded-r":[{"rounded-r":te()}],"rounded-b":[{"rounded-b":te()}],"rounded-l":[{"rounded-l":te()}],"rounded-ss":[{"rounded-ss":te()}],"rounded-se":[{"rounded-se":te()}],"rounded-ee":[{"rounded-ee":te()}],"rounded-es":[{"rounded-es":te()}],"rounded-tl":[{"rounded-tl":te()}],"rounded-tr":[{"rounded-tr":te()}],"rounded-br":[{"rounded-br":te()}],"rounded-bl":[{"rounded-bl":te()}],"border-w":[{border:ue()}],"border-w-x":[{"border-x":ue()}],"border-w-y":[{"border-y":ue()}],"border-w-s":[{"border-s":ue()}],"border-w-e":[{"border-e":ue()}],"border-w-t":[{"border-t":ue()}],"border-w-r":[{"border-r":ue()}],"border-w-b":[{"border-b":ue()}],"border-w-l":[{"border-l":ue()}],"divide-x":[{"divide-x":ue()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ue()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Ie(),"hidden","none"]}],"divide-style":[{divide:[...Ie(),"hidden","none"]}],"border-color":[{border:ne()}],"border-color-x":[{"border-x":ne()}],"border-color-y":[{"border-y":ne()}],"border-color-s":[{"border-s":ne()}],"border-color-e":[{"border-e":ne()}],"border-color-t":[{"border-t":ne()}],"border-color-r":[{"border-r":ne()}],"border-color-b":[{"border-b":ne()}],"border-color-l":[{"border-l":ne()}],"divide-color":[{divide:ne()}],"outline-style":[{outline:[...Ie(),"none","hidden"]}],"outline-offset":[{"outline-offset":[De,me,fe]}],"outline-w":[{outline:["",De,wl,Ds]}],"outline-color":[{outline:ne()}],shadow:[{shadow:["","none",E,Nc,Ic]}],"shadow-color":[{shadow:ne()}],"inset-shadow":[{"inset-shadow":["none",w,Nc,Ic]}],"inset-shadow-color":[{"inset-shadow":ne()}],"ring-w":[{ring:ue()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:ne()}],"ring-offset-w":[{"ring-offset":[De,Ds]}],"ring-offset-color":[{"ring-offset":ne()}],"inset-ring-w":[{"inset-ring":ue()}],"inset-ring-color":[{"inset-ring":ne()}],"text-shadow":[{"text-shadow":["none",x,Nc,Ic]}],"text-shadow-color":[{"text-shadow":ne()}],opacity:[{opacity:[De,me,fe]}],"mix-blend":[{"mix-blend":[...Ee(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ee()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[De]}],"mask-image-linear-from-pos":[{"mask-linear-from":ke()}],"mask-image-linear-to-pos":[{"mask-linear-to":ke()}],"mask-image-linear-from-color":[{"mask-linear-from":ne()}],"mask-image-linear-to-color":[{"mask-linear-to":ne()}],"mask-image-t-from-pos":[{"mask-t-from":ke()}],"mask-image-t-to-pos":[{"mask-t-to":ke()}],"mask-image-t-from-color":[{"mask-t-from":ne()}],"mask-image-t-to-color":[{"mask-t-to":ne()}],"mask-image-r-from-pos":[{"mask-r-from":ke()}],"mask-image-r-to-pos":[{"mask-r-to":ke()}],"mask-image-r-from-color":[{"mask-r-from":ne()}],"mask-image-r-to-color":[{"mask-r-to":ne()}],"mask-image-b-from-pos":[{"mask-b-from":ke()}],"mask-image-b-to-pos":[{"mask-b-to":ke()}],"mask-image-b-from-color":[{"mask-b-from":ne()}],"mask-image-b-to-color":[{"mask-b-to":ne()}],"mask-image-l-from-pos":[{"mask-l-from":ke()}],"mask-image-l-to-pos":[{"mask-l-to":ke()}],"mask-image-l-from-color":[{"mask-l-from":ne()}],"mask-image-l-to-color":[{"mask-l-to":ne()}],"mask-image-x-from-pos":[{"mask-x-from":ke()}],"mask-image-x-to-pos":[{"mask-x-to":ke()}],"mask-image-x-from-color":[{"mask-x-from":ne()}],"mask-image-x-to-color":[{"mask-x-to":ne()}],"mask-image-y-from-pos":[{"mask-y-from":ke()}],"mask-image-y-to-pos":[{"mask-y-to":ke()}],"mask-image-y-from-color":[{"mask-y-from":ne()}],"mask-image-y-to-color":[{"mask-y-to":ne()}],"mask-image-radial":[{"mask-radial":[me,fe]}],"mask-image-radial-from-pos":[{"mask-radial-from":ke()}],"mask-image-radial-to-pos":[{"mask-radial-to":ke()}],"mask-image-radial-from-color":[{"mask-radial-from":ne()}],"mask-image-radial-to-color":[{"mask-radial-to":ne()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":_e()}],"mask-image-conic-pos":[{"mask-conic":[De]}],"mask-image-conic-from-pos":[{"mask-conic-from":ke()}],"mask-image-conic-to-pos":[{"mask-conic-to":ke()}],"mask-image-conic-from-color":[{"mask-conic-from":ne()}],"mask-image-conic-to-color":[{"mask-conic-to":ne()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:Le()}],"mask-repeat":[{mask:D()}],"mask-size":[{mask:ee()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",me,fe]}],filter:[{filter:["","none",me,fe]}],blur:[{blur:Xe()}],brightness:[{brightness:[De,me,fe]}],contrast:[{contrast:[De,me,fe]}],"drop-shadow":[{"drop-shadow":["","none",k,Nc,Ic]}],"drop-shadow-color":[{"drop-shadow":ne()}],grayscale:[{grayscale:["",De,me,fe]}],"hue-rotate":[{"hue-rotate":[De,me,fe]}],invert:[{invert:["",De,me,fe]}],saturate:[{saturate:[De,me,fe]}],sepia:[{sepia:["",De,me,fe]}],"backdrop-filter":[{"backdrop-filter":["","none",me,fe]}],"backdrop-blur":[{"backdrop-blur":Xe()}],"backdrop-brightness":[{"backdrop-brightness":[De,me,fe]}],"backdrop-contrast":[{"backdrop-contrast":[De,me,fe]}],"backdrop-grayscale":[{"backdrop-grayscale":["",De,me,fe]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[De,me,fe]}],"backdrop-invert":[{"backdrop-invert":["",De,me,fe]}],"backdrop-opacity":[{"backdrop-opacity":[De,me,fe]}],"backdrop-saturate":[{"backdrop-saturate":[De,me,fe]}],"backdrop-sepia":[{"backdrop-sepia":["",De,me,fe]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":S()}],"border-spacing-x":[{"border-spacing-x":S()}],"border-spacing-y":[{"border-spacing-y":S()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",me,fe]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[De,"initial",me,fe]}],ease:[{ease:["linear","initial",oe,me,fe]}],delay:[{delay:[De,me,fe]}],animate:[{animate:["none",ae,me,fe]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[Q,me,fe]}],"perspective-origin":[{"perspective-origin":pe()}],rotate:[{rotate:tn()}],"rotate-x":[{"rotate-x":tn()}],"rotate-y":[{"rotate-y":tn()}],"rotate-z":[{"rotate-z":tn()}],scale:[{scale:fn()}],"scale-x":[{"scale-x":fn()}],"scale-y":[{"scale-y":fn()}],"scale-z":[{"scale-z":fn()}],"scale-3d":["scale-3d"],skew:[{skew:mn()}],"skew-x":[{"skew-x":mn()}],"skew-y":[{"skew-y":mn()}],transform:[{transform:[me,fe,"","none","gpu","cpu"]}],"transform-origin":[{origin:pe()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Sn()}],"translate-x":[{"translate-x":Sn()}],"translate-y":[{"translate-y":Sn()}],"translate-z":[{"translate-z":Sn()}],"translate-none":["translate-none"],accent:[{accent:ne()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:ne()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",me,fe]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":S()}],"scroll-mx":[{"scroll-mx":S()}],"scroll-my":[{"scroll-my":S()}],"scroll-ms":[{"scroll-ms":S()}],"scroll-me":[{"scroll-me":S()}],"scroll-mt":[{"scroll-mt":S()}],"scroll-mr":[{"scroll-mr":S()}],"scroll-mb":[{"scroll-mb":S()}],"scroll-ml":[{"scroll-ml":S()}],"scroll-p":[{"scroll-p":S()}],"scroll-px":[{"scroll-px":S()}],"scroll-py":[{"scroll-py":S()}],"scroll-ps":[{"scroll-ps":S()}],"scroll-pe":[{"scroll-pe":S()}],"scroll-pt":[{"scroll-pt":S()}],"scroll-pr":[{"scroll-pr":S()}],"scroll-pb":[{"scroll-pb":S()}],"scroll-pl":[{"scroll-pl":S()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",me,fe]}],fill:[{fill:["none",...ne()]}],"stroke-w":[{stroke:[De,wl,Ds,Hf]}],stroke:[{stroke:["none",...ne()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Dw=hw(Cw);function ro(...r){return Dw(eb(r))}const Ow=ZA("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function kr({className:r,variant:e,size:n,asChild:s=!1,...o}){const u=s?FA:"button";return _.jsx(u,{"data-slot":"button",className:ro(Ow({variant:e,size:n,className:r})),...o})}function Um({className:r,...e}){return _.jsx("div",{"data-slot":"card",className:ro("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",r),...e})}function Lm({className:r,...e}){return _.jsx("div",{"data-slot":"card-header",className:ro("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",r),...e})}function zm({className:r,...e}){return _.jsx("div",{"data-slot":"card-title",className:ro("leading-none font-semibold",r),...e})}function Mw({className:r,...e}){return _.jsx("div",{"data-slot":"card-description",className:ro("text-muted-foreground text-sm",r),...e})}function Bm({className:r,...e}){return _.jsx("div",{"data-slot":"card-content",className:ro("px-6",r),...e})}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=()=>{};var p_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=function(r){const e=[];let n=0;for(let s=0;s<r.length;s++){let o=r.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<r.length&&(r.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(r.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},Vw=function(r){const e=[];let n=0,s=0;for(;n<r.length;){const o=r[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=r[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=r[n++],d=r[n++],m=r[n++],g=((o&7)<<18|(u&63)<<12|(d&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=r[n++],d=r[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|d&63)}}return e.join("")},db={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(r,e){if(!Array.isArray(r))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<r.length;o+=3){const u=r[o],d=o+1<r.length,m=d?r[o+1]:0,g=o+2<r.length,y=g?r[o+2]:0,E=u>>2,w=(u&3)<<4|m>>4;let x=(m&15)<<2|y>>6,k=y&63;g||(k=64,d||(x=64)),s.push(n[E],n[w],n[x],n[k])}return s.join("")},encodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(r):this.encodeByteArray(hb(r),e)},decodeString(r,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(r):Vw(this.decodeStringToByteArray(r,e))},decodeStringToByteArray(r,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<r.length;){const u=n[r.charAt(o++)],m=o<r.length?n[r.charAt(o)]:0;++o;const y=o<r.length?n[r.charAt(o)]:64;++o;const w=o<r.length?n[r.charAt(o)]:64;if(++o,u==null||m==null||y==null||w==null)throw new Pw;const x=u<<2|m>>4;if(s.push(x),y!==64){const k=m<<4&240|y>>2;if(s.push(k),w!==64){const V=y<<6&192|w;s.push(V)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let r=0;r<this.ENCODED_VALS.length;r++)this.byteToCharMap_[r]=this.ENCODED_VALS.charAt(r),this.charToByteMap_[this.byteToCharMap_[r]]=r,this.byteToCharMapWebSafe_[r]=this.ENCODED_VALS_WEBSAFE.charAt(r),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[r]]=r,r>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(r)]=r,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(r)]=r)}}};class Pw extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const jw=function(r){const e=hb(r);return db.encodeByteArray(e,!0)},Yc=function(r){return jw(r).replace(/\./g,"")},fb=function(r){try{return db.decodeString(r,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uw(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lw=()=>Uw().__FIREBASE_DEFAULTS__,zw=()=>{if(typeof process>"u"||typeof p_>"u")return;const r=p_.__FIREBASE_DEFAULTS__;if(r)return JSON.parse(r)},Bw=()=>{if(typeof document>"u")return;let r;try{r=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=r&&fb(r[1]);return e&&JSON.parse(e)},mh=()=>{try{return kw()||Lw()||zw()||Bw()}catch(r){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${r}`);return}},mb=r=>{var e,n;return(n=(e=mh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[r]},qw=r=>{const e=mb(r);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},pb=()=>{var r;return(r=mh())===null||r===void 0?void 0:r.config},gb=r=>{var e;return(e=mh())===null||e===void 0?void 0:e[`_${r}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function so(r){return r.endsWith(".cloudworkstations.dev")}async function yb(r){return(await fetch(r,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gw(r,e){if(r.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=r.iat||0,u=r.sub||r.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},r);return[Yc(JSON.stringify(n)),Yc(JSON.stringify(d)),""].join(".")}const Dl={};function Fw(){const r={prod:[],emulator:[]};for(const e of Object.keys(Dl))Dl[e]?r.emulator.push(e):r.prod.push(e);return r}function Qw(r){let e=document.getElementById(r),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",r),n=!0),{created:n,element:e}}let g_=!1;function vb(r,e){if(typeof window>"u"||typeof document>"u"||!so(window.location.host)||Dl[r]===e||Dl[r]||g_)return;Dl[r]=e;function n(x){return`__firebase__banner__${x}`}const s="__firebase__banner",u=Fw().prod.length>0;function d(){const x=document.getElementById(s);x&&x.remove()}function m(x){x.style.display="flex",x.style.background="#7faaf0",x.style.position="fixed",x.style.bottom="5px",x.style.left="5px",x.style.padding=".5em",x.style.borderRadius="5px",x.style.alignItems="center"}function g(x,k){x.setAttribute("width","24"),x.setAttribute("id",k),x.setAttribute("height","24"),x.setAttribute("viewBox","0 0 24 24"),x.setAttribute("fill","none"),x.style.marginLeft="-6px"}function y(){const x=document.createElement("span");return x.style.cursor="pointer",x.style.marginLeft="16px",x.style.fontSize="24px",x.innerHTML=" &times;",x.onclick=()=>{g_=!0,d()},x}function E(x,k){x.setAttribute("id",k),x.innerText="Learn more",x.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",x.setAttribute("target","__blank"),x.style.paddingLeft="5px",x.style.textDecoration="underline"}function w(){const x=Qw(s),k=n("text"),V=document.getElementById(k)||document.createElement("span"),Q=n("learnmore"),G=document.getElementById(Q)||document.createElement("a"),oe=n("preprendIcon"),ae=document.getElementById(oe)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(x.created){const ce=x.element;m(ce),E(G,Q);const _e=y();g(ae,oe),ce.append(ae,V,G,_e),document.body.appendChild(ce)}u?(V.innerText="Preview backend disconnected.",ae.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(ae.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",k)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",w):w()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Kw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Jt())}function Yw(){var r;const e=(r=mh())===null||r===void 0?void 0:r.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Xw(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $w(){const r=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof r=="object"&&r.id!==void 0}function Zw(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Ww(){const r=Jt();return r.indexOf("MSIE ")>=0||r.indexOf("Trident/")>=0}function Jw(){return!Yw()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function eS(){try{return typeof indexedDB=="object"}catch{return!1}}function tS(){return new Promise((r,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),r(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS="FirebaseError";class Zi extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=nS,Object.setPrototypeOf(this,Zi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Kl.prototype.create)}}class Kl{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],d=u?iS(u,s):"Error",m=`${this.serviceName}: ${d} (${o}).`;return new Zi(o,m,s)}}function iS(r,e){return r.replace(rS,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const rS=/\{\$([^}]+)}/g;function sS(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}function Ps(r,e){if(r===e)return!0;const n=Object.keys(r),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=r[o],d=e[o];if(y_(u)&&y_(d)){if(!Ps(u,d))return!1}else if(u!==d)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function y_(r){return r!==null&&typeof r=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yl(r){const e=[];for(const[n,s]of Object.entries(r))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function aS(r,e){const n=new oS(r,e);return n.subscribe.bind(n)}class oS{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");lS(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=Gf),o.error===void 0&&(o.error=Gf),o.complete===void 0&&(o.complete=Gf);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function lS(r,e){if(typeof r!="object"||r===null)return!1;for(const n of e)if(n in r&&typeof r[n]=="function")return!0;return!1}function Gf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function en(r){return r&&r._delegate?r._delegate:r}class js{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new Hw;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(hS(e))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=Os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Os){return this.instances.has(e)}getOptions(e=Os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,d]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&d.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const d=this.instances.get(o);return d&&e(d,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:cS(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Os){return this.component?this.component.multipleInstances?e:Os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cS(r){return r===Os?void 0:r}function hS(r){return r.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dS{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new uS(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var je;(function(r){r[r.DEBUG=0]="DEBUG",r[r.VERBOSE=1]="VERBOSE",r[r.INFO=2]="INFO",r[r.WARN=3]="WARN",r[r.ERROR=4]="ERROR",r[r.SILENT=5]="SILENT"})(je||(je={}));const fS={debug:je.DEBUG,verbose:je.VERBOSE,info:je.INFO,warn:je.WARN,error:je.ERROR,silent:je.SILENT},mS=je.INFO,pS={[je.DEBUG]:"log",[je.VERBOSE]:"log",[je.INFO]:"info",[je.WARN]:"warn",[je.ERROR]:"error"},gS=(r,e,...n)=>{if(e<r.logLevel)return;const s=new Date().toISOString(),o=pS[e];if(o)console[o](`[${s}]  ${r.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class qm{constructor(e){this.name=e,this._logLevel=mS,this._logHandler=gS,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in je))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?fS[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,je.DEBUG,...e),this._logHandler(this,je.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,je.VERBOSE,...e),this._logHandler(this,je.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,je.INFO,...e),this._logHandler(this,je.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,je.WARN,...e),this._logHandler(this,je.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,je.ERROR,...e),this._logHandler(this,je.ERROR,...e)}}const yS=(r,e)=>e.some(n=>r instanceof n);let v_,__;function vS(){return v_||(v_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function _S(){return __||(__=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _b=new WeakMap,lm=new WeakMap,bb=new WeakMap,Ff=new WeakMap,Hm=new WeakMap;function bS(r){const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("success",u),r.removeEventListener("error",d)},u=()=>{n(Vr(r.result)),o()},d=()=>{s(r.error),o()};r.addEventListener("success",u),r.addEventListener("error",d)});return e.then(n=>{n instanceof IDBCursor&&_b.set(n,r)}).catch(()=>{}),Hm.set(e,r),e}function ES(r){if(lm.has(r))return;const e=new Promise((n,s)=>{const o=()=>{r.removeEventListener("complete",u),r.removeEventListener("error",d),r.removeEventListener("abort",d)},u=()=>{n(),o()},d=()=>{s(r.error||new DOMException("AbortError","AbortError")),o()};r.addEventListener("complete",u),r.addEventListener("error",d),r.addEventListener("abort",d)});lm.set(r,e)}let um={get(r,e,n){if(r instanceof IDBTransaction){if(e==="done")return lm.get(r);if(e==="objectStoreNames")return r.objectStoreNames||bb.get(r);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vr(r[e])},set(r,e,n){return r[e]=n,!0},has(r,e){return r instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in r}};function TS(r){um=r(um)}function AS(r){return r===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=r.call(Qf(this),e,...n);return bb.set(s,e.sort?e.sort():[e]),Vr(s)}:_S().includes(r)?function(...e){return r.apply(Qf(this),e),Vr(_b.get(this))}:function(...e){return Vr(r.apply(Qf(this),e))}}function wS(r){return typeof r=="function"?AS(r):(r instanceof IDBTransaction&&ES(r),yS(r,vS())?new Proxy(r,um):r)}function Vr(r){if(r instanceof IDBRequest)return bS(r);if(Ff.has(r))return Ff.get(r);const e=wS(r);return e!==r&&(Ff.set(r,e),Hm.set(e,r)),e}const Qf=r=>Hm.get(r);function SS(r,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const d=indexedDB.open(r,e),m=Vr(d);return s&&d.addEventListener("upgradeneeded",g=>{s(Vr(d.result),g.oldVersion,g.newVersion,Vr(d.transaction),g)}),n&&d.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),o&&g.addEventListener("versionchange",y=>o(y.oldVersion,y.newVersion,y))}).catch(()=>{}),m}const xS=["get","getKey","getAll","getAllKeys","count"],RS=["put","add","delete","clear"],Kf=new Map;function b_(r,e){if(!(r instanceof IDBDatabase&&!(e in r)&&typeof e=="string"))return;if(Kf.get(e))return Kf.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=RS.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||xS.includes(n)))return;const u=async function(d,...m){const g=this.transaction(d,o?"readwrite":"readonly");let y=g.store;return s&&(y=y.index(m.shift())),(await Promise.all([y[n](...m),o&&g.done]))[0]};return Kf.set(e,u),u}TS(r=>({...r,get:(e,n,s)=>b_(e,n)||r.get(e,n,s),has:(e,n)=>!!b_(e,n)||r.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(NS(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function NS(r){const e=r.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cm="@firebase/app",E_="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi=new qm("@firebase/app"),CS="@firebase/app-compat",DS="@firebase/analytics-compat",OS="@firebase/analytics",MS="@firebase/app-check-compat",kS="@firebase/app-check",VS="@firebase/auth",PS="@firebase/auth-compat",jS="@firebase/database",US="@firebase/data-connect",LS="@firebase/database-compat",zS="@firebase/functions",BS="@firebase/functions-compat",qS="@firebase/installations",HS="@firebase/installations-compat",GS="@firebase/messaging",FS="@firebase/messaging-compat",QS="@firebase/performance",KS="@firebase/performance-compat",YS="@firebase/remote-config",XS="@firebase/remote-config-compat",$S="@firebase/storage",ZS="@firebase/storage-compat",WS="@firebase/firestore",JS="@firebase/ai",ex="@firebase/firestore-compat",tx="firebase",nx="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hm="[DEFAULT]",ix={[cm]:"fire-core",[CS]:"fire-core-compat",[OS]:"fire-analytics",[DS]:"fire-analytics-compat",[kS]:"fire-app-check",[MS]:"fire-app-check-compat",[VS]:"fire-auth",[PS]:"fire-auth-compat",[jS]:"fire-rtdb",[US]:"fire-data-connect",[LS]:"fire-rtdb-compat",[zS]:"fire-fn",[BS]:"fire-fn-compat",[qS]:"fire-iid",[HS]:"fire-iid-compat",[GS]:"fire-fcm",[FS]:"fire-fcm-compat",[QS]:"fire-perf",[KS]:"fire-perf-compat",[YS]:"fire-rc",[XS]:"fire-rc-compat",[$S]:"fire-gcs",[ZS]:"fire-gcs-compat",[WS]:"fire-fst",[ex]:"fire-fst-compat",[JS]:"fire-vertex","fire-js":"fire-js",[tx]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xc=new Map,rx=new Map,dm=new Map;function T_(r,e){try{r.container.addComponent(e)}catch(n){Qi.debug(`Component ${e.name} failed to register with FirebaseApp ${r.name}`,n)}}function Qa(r){const e=r.name;if(dm.has(e))return Qi.debug(`There were multiple attempts to register component ${e}.`),!1;dm.set(e,r);for(const n of Xc.values())T_(n,r);for(const n of rx.values())T_(n,r);return!0}function Gm(r,e){const n=r.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),r.container.getProvider(e)}function di(r){return r==null?!1:r.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pr=new Kl("app","Firebase",sx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new js("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ao=nx;function Eb(r,e={}){let n=r;typeof e!="object"&&(e={name:e});const s=Object.assign({name:hm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Pr.create("bad-app-name",{appName:String(o)});if(n||(n=pb()),!n)throw Pr.create("no-options");const u=Xc.get(o);if(u){if(Ps(n,u.options)&&Ps(s,u.config))return u;throw Pr.create("duplicate-app",{appName:o})}const d=new dS(o);for(const g of dm.values())d.addComponent(g);const m=new ax(n,s,d);return Xc.set(o,m),m}function Tb(r=hm){const e=Xc.get(r);if(!e&&r===hm&&pb())return Eb();if(!e)throw Pr.create("no-app",{appName:r});return e}function jr(r,e,n){var s;let o=(s=ix[r])!==null&&s!==void 0?s:r;n&&(o+=`-${n}`);const u=o.match(/\s|\//),d=e.match(/\s|\//);if(u||d){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&d&&m.push("and"),d&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Qi.warn(m.join(" "));return}Qa(new js(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ox="firebase-heartbeat-database",lx=1,Ul="firebase-heartbeat-store";let Yf=null;function Ab(){return Yf||(Yf=SS(ox,lx,{upgrade:(r,e)=>{switch(e){case 0:try{r.createObjectStore(Ul)}catch(n){console.warn(n)}}}}).catch(r=>{throw Pr.create("idb-open",{originalErrorMessage:r.message})})),Yf}async function ux(r){try{const n=(await Ab()).transaction(Ul),s=await n.objectStore(Ul).get(wb(r));return await n.done,s}catch(e){if(e instanceof Zi)Qi.warn(e.message);else{const n=Pr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Qi.warn(n.message)}}}async function A_(r,e){try{const s=(await Ab()).transaction(Ul,"readwrite");await s.objectStore(Ul).put(e,wb(r)),await s.done}catch(n){if(n instanceof Zi)Qi.warn(n.message);else{const s=Pr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Qi.warn(s.message)}}}function wb(r){return`${r.name}!${r.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx=1024,hx=30;class dx{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new mx(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=w_();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(d=>d.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>hx){const d=px(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){Qi.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=w_(),{heartbeatsToSend:s,unsentEntries:o}=fx(this._heartbeatsCache.heartbeats),u=Yc(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return Qi.warn(n),""}}}function w_(){return new Date().toISOString().substring(0,10)}function fx(r,e=cx){const n=[];let s=r.slice();for(const o of r){const u=n.find(d=>d.agent===o.agent);if(u){if(u.dates.push(o.date),S_(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),S_(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class mx{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return eS()?tS().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await ux(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return A_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return A_(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function S_(r){return Yc(JSON.stringify({version:2,heartbeats:r})).length}function px(r){if(r.length===0)return-1;let e=0,n=r[0].date;for(let s=1;s<r.length;s++)r[s].date<n&&(n=r[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gx(r){Qa(new js("platform-logger",e=>new IS(e),"PRIVATE")),Qa(new js("heartbeat",e=>new dx(e),"PRIVATE")),jr(cm,E_,r),jr(cm,E_,"esm2017"),jr("fire-js","")}gx("");var x_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ur,Sb;(function(){var r;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,S){function R(){}R.prototype=S.prototype,N.D=S.prototype,N.prototype=new R,N.prototype.constructor=N,N.C=function(M,P,j){for(var C=Array(arguments.length-2),ft=2;ft<arguments.length;ft++)C[ft-2]=arguments[ft];return S.prototype[P].apply(M,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(N,S,R){R||(R=0);var M=Array(16);if(typeof S=="string")for(var P=0;16>P;++P)M[P]=S.charCodeAt(R++)|S.charCodeAt(R++)<<8|S.charCodeAt(R++)<<16|S.charCodeAt(R++)<<24;else for(P=0;16>P;++P)M[P]=S[R++]|S[R++]<<8|S[R++]<<16|S[R++]<<24;S=N.g[0],R=N.g[1],P=N.g[2];var j=N.g[3],C=S+(j^R&(P^j))+M[0]+3614090360&4294967295;S=R+(C<<7&4294967295|C>>>25),C=j+(P^S&(R^P))+M[1]+3905402710&4294967295,j=S+(C<<12&4294967295|C>>>20),C=P+(R^j&(S^R))+M[2]+606105819&4294967295,P=j+(C<<17&4294967295|C>>>15),C=R+(S^P&(j^S))+M[3]+3250441966&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(j^R&(P^j))+M[4]+4118548399&4294967295,S=R+(C<<7&4294967295|C>>>25),C=j+(P^S&(R^P))+M[5]+1200080426&4294967295,j=S+(C<<12&4294967295|C>>>20),C=P+(R^j&(S^R))+M[6]+2821735955&4294967295,P=j+(C<<17&4294967295|C>>>15),C=R+(S^P&(j^S))+M[7]+4249261313&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(j^R&(P^j))+M[8]+1770035416&4294967295,S=R+(C<<7&4294967295|C>>>25),C=j+(P^S&(R^P))+M[9]+2336552879&4294967295,j=S+(C<<12&4294967295|C>>>20),C=P+(R^j&(S^R))+M[10]+4294925233&4294967295,P=j+(C<<17&4294967295|C>>>15),C=R+(S^P&(j^S))+M[11]+2304563134&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(j^R&(P^j))+M[12]+1804603682&4294967295,S=R+(C<<7&4294967295|C>>>25),C=j+(P^S&(R^P))+M[13]+4254626195&4294967295,j=S+(C<<12&4294967295|C>>>20),C=P+(R^j&(S^R))+M[14]+2792965006&4294967295,P=j+(C<<17&4294967295|C>>>15),C=R+(S^P&(j^S))+M[15]+1236535329&4294967295,R=P+(C<<22&4294967295|C>>>10),C=S+(P^j&(R^P))+M[1]+4129170786&4294967295,S=R+(C<<5&4294967295|C>>>27),C=j+(R^P&(S^R))+M[6]+3225465664&4294967295,j=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(j^S))+M[11]+643717713&4294967295,P=j+(C<<14&4294967295|C>>>18),C=R+(j^S&(P^j))+M[0]+3921069994&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^j&(R^P))+M[5]+3593408605&4294967295,S=R+(C<<5&4294967295|C>>>27),C=j+(R^P&(S^R))+M[10]+38016083&4294967295,j=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(j^S))+M[15]+3634488961&4294967295,P=j+(C<<14&4294967295|C>>>18),C=R+(j^S&(P^j))+M[4]+3889429448&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^j&(R^P))+M[9]+568446438&4294967295,S=R+(C<<5&4294967295|C>>>27),C=j+(R^P&(S^R))+M[14]+3275163606&4294967295,j=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(j^S))+M[3]+4107603335&4294967295,P=j+(C<<14&4294967295|C>>>18),C=R+(j^S&(P^j))+M[8]+1163531501&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(P^j&(R^P))+M[13]+2850285829&4294967295,S=R+(C<<5&4294967295|C>>>27),C=j+(R^P&(S^R))+M[2]+4243563512&4294967295,j=S+(C<<9&4294967295|C>>>23),C=P+(S^R&(j^S))+M[7]+1735328473&4294967295,P=j+(C<<14&4294967295|C>>>18),C=R+(j^S&(P^j))+M[12]+2368359562&4294967295,R=P+(C<<20&4294967295|C>>>12),C=S+(R^P^j)+M[5]+4294588738&4294967295,S=R+(C<<4&4294967295|C>>>28),C=j+(S^R^P)+M[8]+2272392833&4294967295,j=S+(C<<11&4294967295|C>>>21),C=P+(j^S^R)+M[11]+1839030562&4294967295,P=j+(C<<16&4294967295|C>>>16),C=R+(P^j^S)+M[14]+4259657740&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^j)+M[1]+2763975236&4294967295,S=R+(C<<4&4294967295|C>>>28),C=j+(S^R^P)+M[4]+1272893353&4294967295,j=S+(C<<11&4294967295|C>>>21),C=P+(j^S^R)+M[7]+4139469664&4294967295,P=j+(C<<16&4294967295|C>>>16),C=R+(P^j^S)+M[10]+3200236656&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^j)+M[13]+681279174&4294967295,S=R+(C<<4&4294967295|C>>>28),C=j+(S^R^P)+M[0]+3936430074&4294967295,j=S+(C<<11&4294967295|C>>>21),C=P+(j^S^R)+M[3]+3572445317&4294967295,P=j+(C<<16&4294967295|C>>>16),C=R+(P^j^S)+M[6]+76029189&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(R^P^j)+M[9]+3654602809&4294967295,S=R+(C<<4&4294967295|C>>>28),C=j+(S^R^P)+M[12]+3873151461&4294967295,j=S+(C<<11&4294967295|C>>>21),C=P+(j^S^R)+M[15]+530742520&4294967295,P=j+(C<<16&4294967295|C>>>16),C=R+(P^j^S)+M[2]+3299628645&4294967295,R=P+(C<<23&4294967295|C>>>9),C=S+(P^(R|~j))+M[0]+4096336452&4294967295,S=R+(C<<6&4294967295|C>>>26),C=j+(R^(S|~P))+M[7]+1126891415&4294967295,j=S+(C<<10&4294967295|C>>>22),C=P+(S^(j|~R))+M[14]+2878612391&4294967295,P=j+(C<<15&4294967295|C>>>17),C=R+(j^(P|~S))+M[5]+4237533241&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~j))+M[12]+1700485571&4294967295,S=R+(C<<6&4294967295|C>>>26),C=j+(R^(S|~P))+M[3]+2399980690&4294967295,j=S+(C<<10&4294967295|C>>>22),C=P+(S^(j|~R))+M[10]+4293915773&4294967295,P=j+(C<<15&4294967295|C>>>17),C=R+(j^(P|~S))+M[1]+2240044497&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~j))+M[8]+1873313359&4294967295,S=R+(C<<6&4294967295|C>>>26),C=j+(R^(S|~P))+M[15]+4264355552&4294967295,j=S+(C<<10&4294967295|C>>>22),C=P+(S^(j|~R))+M[6]+2734768916&4294967295,P=j+(C<<15&4294967295|C>>>17),C=R+(j^(P|~S))+M[13]+1309151649&4294967295,R=P+(C<<21&4294967295|C>>>11),C=S+(P^(R|~j))+M[4]+4149444226&4294967295,S=R+(C<<6&4294967295|C>>>26),C=j+(R^(S|~P))+M[11]+3174756917&4294967295,j=S+(C<<10&4294967295|C>>>22),C=P+(S^(j|~R))+M[2]+718787259&4294967295,P=j+(C<<15&4294967295|C>>>17),C=R+(j^(P|~S))+M[9]+3951481745&4294967295,N.g[0]=N.g[0]+S&4294967295,N.g[1]=N.g[1]+(P+(C<<21&4294967295|C>>>11))&4294967295,N.g[2]=N.g[2]+P&4294967295,N.g[3]=N.g[3]+j&4294967295}s.prototype.u=function(N,S){S===void 0&&(S=N.length);for(var R=S-this.blockSize,M=this.B,P=this.h,j=0;j<S;){if(P==0)for(;j<=R;)o(this,N,j),j+=this.blockSize;if(typeof N=="string"){for(;j<S;)if(M[P++]=N.charCodeAt(j++),P==this.blockSize){o(this,M),P=0;break}}else for(;j<S;)if(M[P++]=N[j++],P==this.blockSize){o(this,M),P=0;break}}this.h=P,this.o+=S},s.prototype.v=function(){var N=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);N[0]=128;for(var S=1;S<N.length-8;++S)N[S]=0;var R=8*this.o;for(S=N.length-8;S<N.length;++S)N[S]=R&255,R/=256;for(this.u(N),N=Array(16),S=R=0;4>S;++S)for(var M=0;32>M;M+=8)N[R++]=this.g[S]>>>M&255;return N};function u(N,S){var R=m;return Object.prototype.hasOwnProperty.call(R,N)?R[N]:R[N]=S(N)}function d(N,S){this.h=S;for(var R=[],M=!0,P=N.length-1;0<=P;P--){var j=N[P]|0;M&&j==S||(R[P]=j,M=!1)}this.g=R}var m={};function g(N){return-128<=N&&128>N?u(N,function(S){return new d([S|0],0>S?-1:0)}):new d([N|0],0>N?-1:0)}function y(N){if(isNaN(N)||!isFinite(N))return w;if(0>N)return G(y(-N));for(var S=[],R=1,M=0;N>=R;M++)S[M]=N/R|0,R*=4294967296;return new d(S,0)}function E(N,S){if(N.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(N.charAt(0)=="-")return G(E(N.substring(1),S));if(0<=N.indexOf("-"))throw Error('number format error: interior "-" character');for(var R=y(Math.pow(S,8)),M=w,P=0;P<N.length;P+=8){var j=Math.min(8,N.length-P),C=parseInt(N.substring(P,P+j),S);8>j?(j=y(Math.pow(S,j)),M=M.j(j).add(y(C))):(M=M.j(R),M=M.add(y(C)))}return M}var w=g(0),x=g(1),k=g(16777216);r=d.prototype,r.m=function(){if(Q(this))return-G(this).m();for(var N=0,S=1,R=0;R<this.g.length;R++){var M=this.i(R);N+=(0<=M?M:4294967296+M)*S,S*=4294967296}return N},r.toString=function(N){if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(V(this))return"0";if(Q(this))return"-"+G(this).toString(N);for(var S=y(Math.pow(N,6)),R=this,M="";;){var P=_e(R,S).g;R=oe(R,P.j(S));var j=((0<R.g.length?R.g[0]:R.h)>>>0).toString(N);if(R=P,V(R))return j+M;for(;6>j.length;)j="0"+j;M=j+M}},r.i=function(N){return 0>N?0:N<this.g.length?this.g[N]:this.h};function V(N){if(N.h!=0)return!1;for(var S=0;S<N.g.length;S++)if(N.g[S]!=0)return!1;return!0}function Q(N){return N.h==-1}r.l=function(N){return N=oe(this,N),Q(N)?-1:V(N)?0:1};function G(N){for(var S=N.g.length,R=[],M=0;M<S;M++)R[M]=~N.g[M];return new d(R,~N.h).add(x)}r.abs=function(){return Q(this)?G(this):this},r.add=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],M=0,P=0;P<=S;P++){var j=M+(this.i(P)&65535)+(N.i(P)&65535),C=(j>>>16)+(this.i(P)>>>16)+(N.i(P)>>>16);M=C>>>16,j&=65535,C&=65535,R[P]=C<<16|j}return new d(R,R[R.length-1]&-2147483648?-1:0)};function oe(N,S){return N.add(G(S))}r.j=function(N){if(V(this)||V(N))return w;if(Q(this))return Q(N)?G(this).j(G(N)):G(G(this).j(N));if(Q(N))return G(this.j(G(N)));if(0>this.l(k)&&0>N.l(k))return y(this.m()*N.m());for(var S=this.g.length+N.g.length,R=[],M=0;M<2*S;M++)R[M]=0;for(M=0;M<this.g.length;M++)for(var P=0;P<N.g.length;P++){var j=this.i(M)>>>16,C=this.i(M)&65535,ft=N.i(P)>>>16,Ye=N.i(P)&65535;R[2*M+2*P]+=C*Ye,ae(R,2*M+2*P),R[2*M+2*P+1]+=j*Ye,ae(R,2*M+2*P+1),R[2*M+2*P+1]+=C*ft,ae(R,2*M+2*P+1),R[2*M+2*P+2]+=j*ft,ae(R,2*M+2*P+2)}for(M=0;M<S;M++)R[M]=R[2*M+1]<<16|R[2*M];for(M=S;M<2*S;M++)R[M]=0;return new d(R,0)};function ae(N,S){for(;(N[S]&65535)!=N[S];)N[S+1]+=N[S]>>>16,N[S]&=65535,S++}function ce(N,S){this.g=N,this.h=S}function _e(N,S){if(V(S))throw Error("division by zero");if(V(N))return new ce(w,w);if(Q(N))return S=_e(G(N),S),new ce(G(S.g),G(S.h));if(Q(S))return S=_e(N,G(S)),new ce(G(S.g),S.h);if(30<N.g.length){if(Q(N)||Q(S))throw Error("slowDivide_ only works with positive integers.");for(var R=x,M=S;0>=M.l(N);)R=pe(R),M=pe(M);var P=Y(R,1),j=Y(M,1);for(M=Y(M,2),R=Y(R,2);!V(M);){var C=j.add(M);0>=C.l(N)&&(P=P.add(R),j=C),M=Y(M,1),R=Y(R,1)}return S=oe(N,P.j(S)),new ce(P,S)}for(P=w;0<=N.l(S);){for(R=Math.max(1,Math.floor(N.m()/S.m())),M=Math.ceil(Math.log(R)/Math.LN2),M=48>=M?1:Math.pow(2,M-48),j=y(R),C=j.j(S);Q(C)||0<C.l(N);)R-=M,j=y(R),C=j.j(S);V(j)&&(j=x),P=P.add(j),N=oe(N,C)}return new ce(P,N)}r.A=function(N){return _e(this,N).h},r.and=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)&N.i(M);return new d(R,this.h&N.h)},r.or=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)|N.i(M);return new d(R,this.h|N.h)},r.xor=function(N){for(var S=Math.max(this.g.length,N.g.length),R=[],M=0;M<S;M++)R[M]=this.i(M)^N.i(M);return new d(R,this.h^N.h)};function pe(N){for(var S=N.g.length+1,R=[],M=0;M<S;M++)R[M]=N.i(M)<<1|N.i(M-1)>>>31;return new d(R,N.h)}function Y(N,S){var R=S>>5;S%=32;for(var M=N.g.length-R,P=[],j=0;j<M;j++)P[j]=0<S?N.i(j+R)>>>S|N.i(j+R+1)<<32-S:N.i(j+R);return new d(P,N.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Sb=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=y,d.fromString=E,Ur=d}).apply(typeof x_<"u"?x_:typeof self<"u"?self:typeof window<"u"?window:{});var Cc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var xb,xl,Rb,Pc,fm,Ib,Nb,Cb;(function(){var r,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,p,v){return c==Array.prototype||c==Object.prototype||(c[p]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Cc=="object"&&Cc];for(var p=0;p<c.length;++p){var v=c[p];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,p){if(p)e:{var v=s;c=c.split(".");for(var A=0;A<c.length-1;A++){var L=c[A];if(!(L in v))break e;v=v[L]}c=c[c.length-1],A=v[c],p=p(A),p!=A&&p!=null&&e(v,c,{configurable:!0,writable:!0,value:p})}}function u(c,p){c instanceof String&&(c+="");var v=0,A=!1,L={next:function(){if(!A&&v<c.length){var F=v++;return{value:p(F,c[F]),done:!1}}return A=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}o("Array.prototype.values",function(c){return c||function(){return u(this,function(p,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},m=this||self;function g(c){var p=typeof c;return p=p!="object"?p:c?Array.isArray(c)?"array":p:"null",p=="array"||p=="object"&&typeof c.length=="number"}function y(c){var p=typeof c;return p=="object"&&c!=null||p=="function"}function E(c,p,v){return c.call.apply(c.bind,arguments)}function w(c,p,v){if(!c)throw Error();if(2<arguments.length){var A=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,A),c.apply(p,L)}}return function(){return c.apply(p,arguments)}}function x(c,p,v){return x=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:w,x.apply(null,arguments)}function k(c,p){var v=Array.prototype.slice.call(arguments,1);return function(){var A=v.slice();return A.push.apply(A,arguments),c.apply(this,A)}}function V(c,p){function v(){}v.prototype=p.prototype,c.aa=p.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(A,L,F){for(var re=Array(arguments.length-2),ze=2;ze<arguments.length;ze++)re[ze-2]=arguments[ze];return p.prototype[L].apply(A,re)}}function Q(c){const p=c.length;if(0<p){const v=Array(p);for(let A=0;A<p;A++)v[A]=c[A];return v}return[]}function G(c,p){for(let v=1;v<arguments.length;v++){const A=arguments[v];if(g(A)){const L=c.length||0,F=A.length||0;c.length=L+F;for(let re=0;re<F;re++)c[L+re]=A[re]}else c.push(A)}}class oe{constructor(p,v){this.i=p,this.j=v,this.h=0,this.g=null}get(){let p;return 0<this.h?(this.h--,p=this.g,this.g=p.next,p.next=null):p=this.i(),p}}function ae(c){return/^[\s\xa0]*$/.test(c)}function ce(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function _e(c){return _e[" "](c),c}_e[" "]=function(){};var pe=ce().indexOf("Gecko")!=-1&&!(ce().toLowerCase().indexOf("webkit")!=-1&&ce().indexOf("Edge")==-1)&&!(ce().indexOf("Trident")!=-1||ce().indexOf("MSIE")!=-1)&&ce().indexOf("Edge")==-1;function Y(c,p,v){for(const A in c)p.call(v,c[A],A,c)}function N(c,p){for(const v in c)p.call(void 0,c[v],v,c)}function S(c){const p={};for(const v in c)p[v]=c[v];return p}const R="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M(c,p){let v,A;for(let L=1;L<arguments.length;L++){A=arguments[L];for(v in A)c[v]=A[v];for(let F=0;F<R.length;F++)v=R[F],Object.prototype.hasOwnProperty.call(A,v)&&(c[v]=A[v])}}function P(c){var p=1;c=c.split(":");const v=[];for(;0<p&&c.length;)v.push(c.shift()),p--;return c.length&&v.push(c.join(":")),v}function j(c){m.setTimeout(()=>{throw c},0)}function C(){var c=Le;let p=null;return c.g&&(p=c.g,c.g=c.g.next,c.g||(c.h=null),p.next=null),p}class ft{constructor(){this.h=this.g=null}add(p,v){const A=Ye.get();A.set(p,v),this.h?this.h.next=A:this.g=A,this.h=A}}var Ye=new oe(()=>new K,c=>c.reset());class K{constructor(){this.next=this.g=this.h=null}set(p,v){this.h=p,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let ie,ne=!1,Le=new ft,D=()=>{const c=m.Promise.resolve(void 0);ie=()=>{c.then(ee)}};var ee=()=>{for(var c;c=C();){try{c.h.call(c.g)}catch(v){j(v)}var p=Ye;p.j(c),100>p.h&&(p.h++,c.next=p.g,p.g=c)}ne=!1};function se(){this.s=this.s,this.C=this.C}se.prototype.s=!1,se.prototype.ma=function(){this.s||(this.s=!0,this.N())},se.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function te(c,p){this.type=c,this.g=this.target=p,this.defaultPrevented=!1}te.prototype.h=function(){this.defaultPrevented=!0};var ue=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,p=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,p),m.removeEventListener("test",v,p)}catch{}return c}();function Ie(c,p){if(te.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,A=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=p,p=c.relatedTarget){if(pe){e:{try{_e(p.nodeName);var L=!0;break e}catch{}L=!1}L||(p=null)}}else v=="mouseover"?p=c.fromElement:v=="mouseout"&&(p=c.toElement);this.relatedTarget=p,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ee[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Ie.aa.h.call(this)}}V(Ie,te);var Ee={2:"touch",3:"pen",4:"mouse"};Ie.prototype.h=function(){Ie.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var ke="closure_listenable_"+(1e6*Math.random()|0),Xe=0;function tn(c,p,v,A,L){this.listener=c,this.proxy=null,this.src=p,this.type=v,this.capture=!!A,this.ha=L,this.key=++Xe,this.da=this.fa=!1}function fn(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function mn(c){this.src=c,this.g={},this.h=0}mn.prototype.add=function(c,p,v,A,L){var F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);var re=Xr(c,p,A,L);return-1<re?(p=c[re],v||(p.fa=!1)):(p=new tn(p,this.src,F,!!A,L),p.fa=v,c.push(p)),p};function Sn(c,p){var v=p.type;if(v in c.g){var A=c.g[v],L=Array.prototype.indexOf.call(A,p,void 0),F;(F=0<=L)&&Array.prototype.splice.call(A,L,1),F&&(fn(p),c.g[v].length==0&&(delete c.g[v],c.h--))}}function Xr(c,p,v,A){for(var L=0;L<c.length;++L){var F=c[L];if(!F.da&&F.listener==p&&F.capture==!!v&&F.ha==A)return L}return-1}var $r="closure_lm_"+(1e6*Math.random()|0),mo={};function iu(c,p,v,A,L){if(Array.isArray(p)){for(var F=0;F<p.length;F++)iu(c,p[F],v,A,L);return null}return v=ru(v),c&&c[ke]?c.K(p,v,y(A)?!!A.capture:!1,L):xn(c,p,v,!1,A,L)}function xn(c,p,v,A,L,F){if(!p)throw Error("Invalid event type");var re=y(L)?!!L.capture:!!L,ze=Fs(c);if(ze||(c[$r]=ze=new mn(c)),v=ze.add(p,v,A,re,F),v.proxy)return v;if(A=kh(),v.proxy=A,A.src=c,A.listener=v,c.addEventListener)ue||(L=re),L===void 0&&(L=!1),c.addEventListener(p.toString(),A,L);else if(c.attachEvent)c.attachEvent(Zr(p.toString()),A);else if(c.addListener&&c.removeListener)c.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return v}function kh(){function c(v){return p.call(c.src,c.listener,v)}const p=Vh;return c}function po(c,p,v,A,L){if(Array.isArray(p))for(var F=0;F<p.length;F++)po(c,p[F],v,A,L);else A=y(A)?!!A.capture:!!A,v=ru(v),c&&c[ke]?(c=c.i,p=String(p).toString(),p in c.g&&(F=c.g[p],v=Xr(F,v,A,L),-1<v&&(fn(F[v]),Array.prototype.splice.call(F,v,1),F.length==0&&(delete c.g[p],c.h--)))):c&&(c=Fs(c))&&(p=c.g[p.toString()],c=-1,p&&(c=Xr(p,v,A,L)),(v=-1<c?p[c]:null)&&Gs(v))}function Gs(c){if(typeof c!="number"&&c&&!c.da){var p=c.src;if(p&&p[ke])Sn(p.i,c);else{var v=c.type,A=c.proxy;p.removeEventListener?p.removeEventListener(v,A,c.capture):p.detachEvent?p.detachEvent(Zr(v),A):p.addListener&&p.removeListener&&p.removeListener(A),(v=Fs(p))?(Sn(v,c),v.h==0&&(v.src=null,p[$r]=null)):fn(c)}}}function Zr(c){return c in mo?mo[c]:mo[c]="on"+c}function Vh(c,p){if(c.da)c=!0;else{p=new Ie(p,this);var v=c.listener,A=c.ha||c.src;c.fa&&Gs(c),c=v.call(A,p)}return c}function Fs(c){return c=c[$r],c instanceof mn?c:null}var go="__closure_events_fn_"+(1e9*Math.random()>>>0);function ru(c){return typeof c=="function"?c:(c[go]||(c[go]=function(p){return c.handleEvent(p)}),c[go])}function ct(){se.call(this),this.i=new mn(this),this.M=this,this.F=null}V(ct,se),ct.prototype[ke]=!0,ct.prototype.removeEventListener=function(c,p,v,A){po(this,c,p,v,A)};function $e(c,p){var v,A=c.F;if(A)for(v=[];A;A=A.F)v.push(A);if(c=c.M,A=p.type||p,typeof p=="string")p=new te(p,c);else if(p instanceof te)p.target=p.target||c;else{var L=p;p=new te(A,c),M(p,L)}if(L=!0,v)for(var F=v.length-1;0<=F;F--){var re=p.g=v[F];L=pn(re,A,!0,p)&&L}if(re=p.g=c,L=pn(re,A,!0,p)&&L,L=pn(re,A,!1,p)&&L,v)for(F=0;F<v.length;F++)re=p.g=v[F],L=pn(re,A,!1,p)&&L}ct.prototype.N=function(){if(ct.aa.N.call(this),this.i){var c=this.i,p;for(p in c.g){for(var v=c.g[p],A=0;A<v.length;A++)fn(v[A]);delete c.g[p],c.h--}}this.F=null},ct.prototype.K=function(c,p,v,A){return this.i.add(String(c),p,!1,v,A)},ct.prototype.L=function(c,p,v,A){return this.i.add(String(c),p,!0,v,A)};function pn(c,p,v,A){if(p=c.i.g[String(p)],!p)return!0;p=p.concat();for(var L=!0,F=0;F<p.length;++F){var re=p[F];if(re&&!re.da&&re.capture==v){var ze=re.listener,xt=re.ha||re.src;re.fa&&Sn(c.i,re),L=ze.call(xt,A)!==!1&&L}}return L&&!A.defaultPrevented}function Kt(c,p,v){if(typeof c=="function")v&&(c=x(c,v));else if(c&&typeof c.handleEvent=="function")c=x(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(p)?-1:m.setTimeout(c,p||0)}function su(c){c.g=Kt(()=>{c.g=null,c.i&&(c.i=!1,su(c))},c.l);const p=c.h;c.h=null,c.m.apply(null,p)}class Ph extends se{constructor(p,v){super(),this.m=p,this.l=v,this.h=null,this.i=!1,this.g=null}j(p){this.h=arguments,this.g?this.i=!0:su(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(c){se.call(this),this.h=c,this.g={}}V(Wr,se);var Jr=[];function es(c){Y(c.g,function(p,v){this.g.hasOwnProperty(v)&&Gs(p)},c),c.g={}}Wr.prototype.N=function(){Wr.aa.N.call(this),es(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ln=m.JSON.stringify,Qs=m.JSON.parse,ts=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function yo(){}yo.prototype.h=null;function vo(c){return c.h||(c.h=c.i())}function _o(){}var vi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function _i(){te.call(this,"d")}V(_i,te);function bo(){te.call(this,"c")}V(bo,te);var Xn={},Eo=null;function Wi(){return Eo=Eo||new ct}Xn.La="serverreachability";function Ks(c){te.call(this,Xn.La,c)}V(Ks,te);function Ji(c){const p=Wi();$e(p,new Ks(p))}Xn.STAT_EVENT="statevent";function au(c,p){te.call(this,Xn.STAT_EVENT,c),this.stat=p}V(au,te);function at(c){const p=Wi();$e(p,new au(p,c))}Xn.Ma="timingevent";function St(c,p){te.call(this,Xn.Ma,c),this.size=p}V(St,te);function vt(c,p){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},p)}function Rn(){this.g=!0}Rn.prototype.xa=function(){this.g=!1};function To(c,p,v,A,L,F){c.info(function(){if(c.g)if(F)for(var re="",ze=F.split("&"),xt=0;xt<ze.length;xt++){var Be=ze[xt].split("=");if(1<Be.length){var kt=Be[0];Be=Be[1];var Rt=kt.split("_");re=2<=Rt.length&&Rt[1]=="type"?re+(kt+"="+Be+"&"):re+(kt+"=redacted&")}}else re=null;else re=F;return"XMLHTTP REQ ("+A+") [attempt "+L+"]: "+p+`
`+v+`
`+re})}function jh(c,p,v,A,L,F,re){c.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+L+"]: "+p+`
`+v+`
`+F+" "+re})}function er(c,p,v,A){c.info(function(){return"XMLHTTP TEXT ("+p+"): "+ns(c,v)+(A?" "+A:"")})}function ou(c,p){c.info(function(){return"TIMEOUT: "+p})}Rn.prototype.info=function(){};function ns(c,p){if(!c.g)return p;if(!p)return null;try{var v=JSON.parse(p);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var A=v[c];if(!(2>A.length)){var L=A[1];if(Array.isArray(L)&&!(1>L.length)){var F=L[0];if(F!="noop"&&F!="stop"&&F!="close")for(var re=1;re<L.length;re++)L[re]=""}}}}return Ln(v)}catch{return p}}var tr={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},bi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},$n;function Zn(){}V(Zn,yo),Zn.prototype.g=function(){return new XMLHttpRequest},Zn.prototype.i=function(){return{}},$n=new Zn;function nn(c,p,v,A){this.j=c,this.i=p,this.l=v,this.R=A||1,this.U=new Wr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new mt}function mt(){this.i=null,this.g="",this.h=!1}var Ao={},Ys={};function zn(c,p,v){c.L=1,c.v=os(gn(p)),c.m=v,c.P=!0,Ei(c,null)}function Ei(c,p){c.F=Date.now(),is(c),c.A=gn(c.v);var v=c.A,A=c.R;Array.isArray(A)||(A=[String(A)]),No(v.i,"t",A),c.C=0,v=c.j.J,c.h=new mt,c.g=Au(c.j,v?p:null,!c.m),0<c.O&&(c.M=new Ph(x(c.Y,c,c.g),c.O)),p=c.U,v=c.g,A=c.ca;var L="readystatechange";Array.isArray(L)||(L&&(Jr[0]=L.toString()),L=Jr);for(var F=0;F<L.length;F++){var re=iu(v,L[F],A||p.handleEvent,!1,p.h||p);if(!re)break;p.g[re.key]=re}p=c.H?S(c.H):{},c.m?(c.u||(c.u="POST"),p["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,p)):(c.u="GET",c.g.ea(c.A,c.u,null,p)),Ji(),To(c.i,c.u,c.A,c.l,c.R,c.m)}nn.prototype.ca=function(c){c=c.target;const p=this.M;p&&Dn(c)==3?p.j():this.Y(c)},nn.prototype.Y=function(c){try{if(c==this.g)e:{const Rt=Dn(this.g);var p=this.g.Ba();const Ni=this.g.Z();if(!(3>Rt)&&(Rt!=3||this.g&&(this.h.h||this.g.oa()||pu(this.g)))){this.J||Rt!=4||p==7||(p==8||0>=Ni?Ji(3):Ji(2)),nr(this);var v=this.g.Z();this.X=v;t:if(lu(this)){var A=pu(this.g);c="";var L=A.length,F=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Lt(this),Wn(this);var re="";break t}this.h.i=new m.TextDecoder}for(p=0;p<L;p++)this.h.h=!0,c+=this.h.i.decode(A[p],{stream:!(F&&p==L-1)});A.length=0,this.h.g+=c,this.C=0,re=this.h.g}else re=this.g.oa();if(this.o=v==200,jh(this.i,this.u,this.A,this.l,this.R,Rt,v),this.o){if(this.T&&!this.K){t:{if(this.g){var ze,xt=this.g;if((ze=xt.g?xt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ae(ze)){var Be=ze;break t}}Be=null}if(v=Be)er(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,rs(this,v);else{this.o=!1,this.s=3,at(12),Lt(this),Wn(this);break e}}if(this.P){v=!0;let zt;for(;!this.J&&this.C<re.length;)if(zt=uu(this,re),zt==Ys){Rt==4&&(this.s=4,at(14),v=!1),er(this.i,this.l,null,"[Incomplete Response]");break}else if(zt==Ao){this.s=4,at(15),er(this.i,this.l,re,"[Invalid Chunk]"),v=!1;break}else er(this.i,this.l,zt,null),rs(this,zt);if(lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Rt!=4||re.length!=0||this.h.h||(this.s=1,at(16),v=!1),this.o=this.o&&v,!v)er(this.i,this.l,re,"[Invalid Chunked Response]"),Lt(this),Wn(this);else if(0<re.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+re.length),ps(kt),kt.M=!0,at(11))}}else er(this.i,this.l,re,null),rs(this,re);Rt==4&&Lt(this),this.o&&!this.J&&(Rt==4?bu(this.j,this):(this.o=!1,is(this)))}else qh(this.g),v==400&&0<re.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Lt(this),Wn(this)}}}catch{}finally{}};function lu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function uu(c,p){var v=c.C,A=p.indexOf(`
`,v);return A==-1?Ys:(v=Number(p.substring(v,A)),isNaN(v)?Ao:(A+=1,A+v>p.length?Ys:(p=p.slice(A,A+v),c.C=A+v,p)))}nn.prototype.cancel=function(){this.J=!0,Lt(this)};function is(c){c.S=Date.now()+c.I,cu(c,c.I)}function cu(c,p){if(c.B!=null)throw Error("WatchDog timer not null");c.B=vt(x(c.ba,c),p)}function nr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}nn.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ou(this.i,this.A),this.L!=2&&(Ji(),at(17)),Lt(this),this.s=2,Wn(this)):cu(this,this.S-c)};function Wn(c){c.j.G==0||c.J||bu(c.j,c)}function Lt(c){nr(c);var p=c.M;p&&typeof p.ma=="function"&&p.ma(),c.M=null,es(c.U),c.g&&(p=c.g,c.g=null,p.abort(),p.ma())}function rs(c,p){try{var v=c.j;if(v.G!=0&&(v.g==c||wo(v.h,c))){if(!c.K&&wo(v.h,c)&&v.G==3){try{var A=v.Da.g.parse(p)}catch{A=null}if(Array.isArray(A)&&A.length==3){var L=A;if(L[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)aa(v),ra(v);else break e;ko(v),at(18)}}else v.za=L[1],0<v.za-v.T&&37500>L[2]&&v.F&&v.v==0&&!v.C&&(v.C=vt(x(v.Za,v),6e3));if(1>=$s(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else Ii(v,11)}else if((c.K||v.g==c)&&aa(v),!ae(p))for(L=v.Da.g.parse(p),p=0;p<L.length;p++){let Be=L[p];if(v.T=Be[0],Be=Be[1],v.G==2)if(Be[0]=="c"){v.K=Be[1],v.ia=Be[2];const kt=Be[3];kt!=null&&(v.la=kt,v.j.info("VER="+v.la));const Rt=Be[4];Rt!=null&&(v.Aa=Rt,v.j.info("SVER="+v.Aa));const Ni=Be[5];Ni!=null&&typeof Ni=="number"&&0<Ni&&(A=1.5*Ni,v.L=A,v.j.info("backChannelRequestTimeoutMs_="+A)),A=v;const zt=c.g;if(zt){const si=zt.g?zt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(si){var F=A.h;F.g||si.indexOf("spdy")==-1&&si.indexOf("quic")==-1&&si.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(Zs(F,F.h),F.h=null))}if(A.D){const Po=zt.g?zt.g.getResponseHeader("X-HTTP-Session-Id"):null;Po&&(A.ya=Po,Je(A.I,A.D,Po))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),A=v;var re=c;if(A.qa=Tu(A,A.J?A.ia:null,A.W),re.K){rn(A.h,re);var ze=re,xt=A.L;xt&&(ze.I=xt),ze.B&&(nr(ze),is(ze)),A.g=re}else vu(A);0<v.i.length&&sa(v)}else Be[0]!="stop"&&Be[0]!="close"||Ii(v,7);else v.G==3&&(Be[0]=="stop"||Be[0]=="close"?Be[0]=="stop"?Ii(v,7):Oo(v):Be[0]!="noop"&&v.l&&v.l.ta(Be),v.v=0)}}Ji(4)}catch{}}var hu=class{constructor(c,p){this.g=c,this.map=p}};function Ti(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Xs(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function $s(c){return c.h?1:c.g?c.g.size:0}function wo(c,p){return c.h?c.h==p:c.g?c.g.has(p):!1}function Zs(c,p){c.g?c.g.add(p):c.h=p}function rn(c,p){c.h&&c.h==p?c.h=null:c.g&&c.g.has(p)&&c.g.delete(p)}Ti.prototype.cancel=function(){if(this.i=So(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function So(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let p=c.i;for(const v of c.g.values())p=p.concat(v.D);return p}return Q(c.i)}function Uh(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(g(c)){for(var p=[],v=c.length,A=0;A<v;A++)p.push(c[A]);return p}p=[],v=0;for(A in c)p[v++]=c[A];return p}function Ws(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(g(c)||typeof c=="string"){var p=[];c=c.length;for(var v=0;v<c;v++)p.push(v);return p}p=[],v=0;for(const A in c)p[v++]=A;return p}}}function xo(c,p){if(c.forEach&&typeof c.forEach=="function")c.forEach(p,void 0);else if(g(c)||typeof c=="string")Array.prototype.forEach.call(c,p,void 0);else for(var v=Ws(c),A=Uh(c),L=A.length,F=0;F<L;F++)p.call(void 0,A[F],v&&v[F],c)}var ss=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Lh(c,p){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var A=c[v].indexOf("="),L=null;if(0<=A){var F=c[v].substring(0,A);L=c[v].substring(A+1)}else F=c[v];p(F,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function _t(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof _t){this.h=c.h,as(this,c.j),this.o=c.o,this.g=c.g,ir(this,c.s),this.l=c.l;var p=c.i,v=new wi;v.i=p.i,p.g&&(v.g=new Map(p.g),v.h=p.h),Ai(this,v),this.m=c.m}else c&&(p=String(c).match(ss))?(this.h=!1,as(this,p[1]||"",!0),this.o=In(p[2]||""),this.g=In(p[3]||"",!0),ir(this,p[4]),this.l=In(p[5]||"",!0),Ai(this,p[6]||"",!0),this.m=In(p[7]||"")):(this.h=!1,this.i=new wi(null,this.h))}_t.prototype.toString=function(){var c=[],p=this.j;p&&c.push(ls(p,Ro,!0),":");var v=this.g;return(v||p=="file")&&(c.push("//"),(p=this.o)&&c.push(ls(p,Ro,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(ls(v,v.charAt(0)=="/"?zh:Io,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",ls(v,Js)),c.join("")};function gn(c){return new _t(c)}function as(c,p,v){c.j=v?In(p,!0):p,c.j&&(c.j=c.j.replace(/:$/,""))}function ir(c,p){if(p){if(p=Number(p),isNaN(p)||0>p)throw Error("Bad port number "+p);c.s=p}else c.s=null}function Ai(c,p,v){p instanceof wi?(c.i=p,fu(c.i,c.h)):(v||(p=ls(p,Bh)),c.i=new wi(p,c.h))}function Je(c,p,v){c.i.set(p,v)}function os(c){return Je(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function In(c,p){return c?p?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ls(c,p,v){return typeof c=="string"?(c=encodeURI(c).replace(p,du),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function du(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ro=/[#\/\?@]/g,Io=/[#\?:]/g,zh=/[#\?]/g,Bh=/[#\?@]/g,Js=/#/g;function wi(c,p){this.h=this.g=null,this.i=c||null,this.j=!!p}function Nn(c){c.g||(c.g=new Map,c.h=0,c.i&&Lh(c.i,function(p,v){c.add(decodeURIComponent(p.replace(/\+/g," ")),v)}))}r=wi.prototype,r.add=function(c,p){Nn(this),this.i=null,c=Jn(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(p),this.h+=1,this};function Si(c,p){Nn(c),p=Jn(c,p),c.g.has(p)&&(c.i=null,c.h-=c.g.get(p).length,c.g.delete(p))}function xi(c,p){return Nn(c),p=Jn(c,p),c.g.has(p)}r.forEach=function(c,p){Nn(this),this.g.forEach(function(v,A){v.forEach(function(L){c.call(p,L,A,this)},this)},this)},r.na=function(){Nn(this);const c=Array.from(this.g.values()),p=Array.from(this.g.keys()),v=[];for(let A=0;A<p.length;A++){const L=c[A];for(let F=0;F<L.length;F++)v.push(p[A])}return v},r.V=function(c){Nn(this);let p=[];if(typeof c=="string")xi(this,c)&&(p=p.concat(this.g.get(Jn(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)p=p.concat(c[v])}return p},r.set=function(c,p){return Nn(this),this.i=null,c=Jn(this,c),xi(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[p]),this.h+=1,this},r.get=function(c,p){return c?(c=this.V(c),0<c.length?String(c[0]):p):p};function No(c,p,v){Si(c,p),0<v.length&&(c.i=null,c.g.set(Jn(c,p),Q(v)),c.h+=v.length)}r.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],p=Array.from(this.g.keys());for(var v=0;v<p.length;v++){var A=p[v];const F=encodeURIComponent(String(A)),re=this.V(A);for(A=0;A<re.length;A++){var L=F;re[A]!==""&&(L+="="+encodeURIComponent(String(re[A]))),c.push(L)}}return this.i=c.join("&")};function Jn(c,p){return p=String(p),c.j&&(p=p.toLowerCase()),p}function fu(c,p){p&&!c.j&&(Nn(c),c.i=null,c.g.forEach(function(v,A){var L=A.toLowerCase();A!=L&&(Si(this,A),No(this,L,v))},c)),c.j=p}function us(c,p){const v=new Rn;if(m.Image){const A=new Image;A.onload=k(Cn,v,"TestLoadImage: loaded",!0,p,A),A.onerror=k(Cn,v,"TestLoadImage: error",!1,p,A),A.onabort=k(Cn,v,"TestLoadImage: abort",!1,p,A),A.ontimeout=k(Cn,v,"TestLoadImage: timeout",!1,p,A),m.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=c}else p(!1)}function Bn(c,p){const v=new Rn,A=new AbortController,L=setTimeout(()=>{A.abort(),Cn(v,"TestPingServer: timeout",!1,p)},1e4);fetch(c,{signal:A.signal}).then(F=>{clearTimeout(L),F.ok?Cn(v,"TestPingServer: ok",!0,p):Cn(v,"TestPingServer: server error",!1,p)}).catch(()=>{clearTimeout(L),Cn(v,"TestPingServer: error",!1,p)})}function Cn(c,p,v,A,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),A(v)}catch{}}function cs(){this.g=new ts}function ei(c,p,v){const A=v||"";try{xo(c,function(L,F){let re=L;y(L)&&(re=Ln(L)),p.push(A+F+"="+encodeURIComponent(re))})}catch(L){throw p.push(A+"type="+encodeURIComponent("_badmap")),L}}function rr(c){this.l=c.Ub||null,this.j=c.eb||!1}V(rr,yo),rr.prototype.g=function(){return new Ri(this.l,this.j)},rr.prototype.i=function(c){return function(){return c}}({});function Ri(c,p){ct.call(this),this.D=c,this.o=p,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}V(Ri,ct),r=Ri.prototype,r.open=function(c,p){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=p,this.readyState=1,ni(this)},r.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const p={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(p.body=c),(this.D||m).fetch(new Request(this.A,p)).then(this.Sa.bind(this),this.ga.bind(this))},r.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ti(this)),this.readyState=0},r.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ni(this)),this.g&&(this.readyState=3,ni(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Co(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Co(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}r.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var p=c.value?c.value:new Uint8Array(0);(p=this.v.decode(p,{stream:!c.done}))&&(this.response=this.responseText+=p)}c.done?ti(this):ni(this),this.readyState==3&&Co(this)}},r.Ra=function(c){this.g&&(this.response=this.responseText=c,ti(this))},r.Qa=function(c){this.g&&(this.response=c,ti(this))},r.ga=function(){this.g&&ti(this)};function ti(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ni(c)}r.setRequestHeader=function(c,p){this.u.append(c,p)},r.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},r.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],p=this.h.entries();for(var v=p.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=p.next();return c.join(`\r
`)};function ni(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ri.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Do(c){let p="";return Y(c,function(v,A){p+=A,p+=":",p+=v,p+=`\r
`}),p}function Mt(c,p,v){e:{for(A in v){var A=!1;break e}A=!0}A||(v=Do(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Je(c,p,v))}function Qe(c){ct.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}V(Qe,ct);var ea=/^https?$/i,hs=["POST","PUT"];r=Qe.prototype,r.Ha=function(c){this.J=c},r.ea=function(c,p,v,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);p=p?p.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():$n.g(),this.v=this.o?vo(this.o):vo($n),this.g.onreadystatechange=x(this.Ea,this);try{this.B=!0,this.g.open(p,String(c),!0),this.B=!1}catch(F){mu(this,F);return}if(c=v||"",v=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var L in A)v.set(L,A[L]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const F of A.keys())v.set(F,A.get(F));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(v.keys()).find(F=>F.toLowerCase()=="content-type"),L=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(hs,p,void 0))||A||L||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,re]of v)this.g.setRequestHeader(F,re);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{ds(this),this.u=!0,this.g.send(c),this.u=!1}catch(F){mu(this,F)}};function mu(c,p){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=p,c.m=5,ta(c),ii(c)}function ta(c){c.A||(c.A=!0,$e(c,"complete"),$e(c,"error"))}r.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,$e(this,"complete"),$e(this,"abort"),ii(this))},r.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ii(this,!0)),Qe.aa.N.call(this)},r.Ea=function(){this.s||(this.B||this.u||this.j?na(this):this.bb())},r.bb=function(){na(this)};function na(c){if(c.h&&typeof d<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)Kt(c.Ea,0,c);else if($e(c,"readystatechange"),Dn(c)==4){c.h=!1;try{const re=c.Z();e:switch(re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var p=!0;break e;default:p=!1}var v;if(!(v=p)){var A;if(A=re===0){var L=String(c.D).match(ss)[1]||null;!L&&m.self&&m.self.location&&(L=m.self.location.protocol.slice(0,-1)),A=!ea.test(L?L.toLowerCase():"")}v=A}if(v)$e(c,"complete"),$e(c,"success");else{c.m=6;try{var F=2<Dn(c)?c.g.statusText:""}catch{F=""}c.l=F+" ["+c.Z()+"]",ta(c)}}finally{ii(c)}}}}function ii(c,p){if(c.g){ds(c);const v=c.g,A=c.v[0]?()=>{}:null;c.g=null,c.v=null,p||$e(c,"ready");try{v.onreadystatechange=A}catch{}}}function ds(c){c.I&&(m.clearTimeout(c.I),c.I=null)}r.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}r.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},r.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},r.Oa=function(c){if(this.g){var p=this.g.responseText;return c&&p.indexOf(c)==0&&(p=p.substring(c.length)),Qs(p)}};function pu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qh(c){const p={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<c.length;A++){if(ae(c[A]))continue;var v=P(c[A]);const L=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const F=p[L]||[];p[L]=F,F.push(v)}N(p,function(A){return A.join(", ")})}r.Ba=function(){return this.m},r.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function fs(c,p,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||p}function ia(c){this.Aa=0,this.i=[],this.j=new Rn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=fs("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=fs("baseRetryDelayMs",5e3,c),this.cb=fs("retryDelaySeedMs",1e4,c),this.Wa=fs("forwardChannelMaxRetries",2,c),this.wa=fs("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Ti(c&&c.concurrentRequestLimit),this.Da=new cs,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}r=ia.prototype,r.la=8,r.G=1,r.connect=function(c,p,v,A){at(0),this.W=c,this.H=p||{},v&&A!==void 0&&(this.H.OSID=v,this.H.OAID=A),this.F=this.X,this.I=Tu(this,null,this.W),sa(this)};function Oo(c){if(gu(c),c.G==3){var p=c.U++,v=gn(c.I);if(Je(v,"SID",c.K),Je(v,"RID",p),Je(v,"TYPE","terminate"),ms(c,v),p=new nn(c,c.j,p),p.L=2,p.v=os(gn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(p.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=p.v,v=!0),v||(p.g=Au(p.j,null),p.g.ea(p.v)),p.F=Date.now(),is(p)}Eu(c)}function ra(c){c.g&&(ps(c),c.g.cancel(),c.g=null)}function gu(c){ra(c),c.u&&(m.clearTimeout(c.u),c.u=null),aa(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function sa(c){if(!Xs(c.h)&&!c.s){c.s=!0;var p=c.Ga;ie||D(),ne||(ie(),ne=!0),Le.add(p,c),c.B=0}}function Hh(c,p){return $s(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=p.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=vt(x(c.Ga,c,p),Vo(c,c.B)),c.B++,!0)}r.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const L=new nn(this,this.j,c);let F=this.o;if(this.S&&(F?(F=S(F),M(F,this.S)):F=this.S),this.m!==null||this.O||(L.H=F,F=null),this.P)e:{for(var p=0,v=0;v<this.i.length;v++){t:{var A=this.i[v];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(p+=A,4096<p){p=v;break e}if(p===4096||v===this.i.length-1){p=v+1;break e}}p=1e3}else p=1e3;p=yu(this,L,p),v=gn(this.I),Je(v,"RID",c),Je(v,"CVER",22),this.D&&Je(v,"X-HTTP-Session-Id",this.D),ms(this,v),F&&(this.O?p="headers="+encodeURIComponent(String(Do(F)))+"&"+p:this.m&&Mt(v,this.m,F)),Zs(this.h,L),this.Ua&&Je(v,"TYPE","init"),this.P?(Je(v,"$req",p),Je(v,"SID","null"),L.T=!0,zn(L,v,null)):zn(L,v,p),this.G=2}}else this.G==3&&(c?Mo(this,c):this.i.length==0||Xs(this.h)||Mo(this))};function Mo(c,p){var v;p?v=p.l:v=c.U++;const A=gn(c.I);Je(A,"SID",c.K),Je(A,"RID",v),Je(A,"AID",c.T),ms(c,A),c.m&&c.o&&Mt(A,c.m,c.o),v=new nn(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),p&&(c.i=p.D.concat(c.i)),p=yu(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Zs(c.h,v),zn(v,A,p)}function ms(c,p){c.H&&Y(c.H,function(v,A){Je(p,A,v)}),c.l&&xo({},function(v,A){Je(p,A,v)})}function yu(c,p,v){v=Math.min(c.i.length,v);var A=c.l?x(c.l.Na,c.l,c):null;e:{var L=c.i;let F=-1;for(;;){const re=["count="+v];F==-1?0<v?(F=L[0].g,re.push("ofs="+F)):F=0:re.push("ofs="+F);let ze=!0;for(let xt=0;xt<v;xt++){let Be=L[xt].g;const kt=L[xt].map;if(Be-=F,0>Be)F=Math.max(0,L[xt].g-100),ze=!1;else try{ei(kt,re,"req"+Be+"_")}catch{A&&A(kt)}}if(ze){A=re.join("&");break e}}}return c=c.i.splice(0,v),p.D=c,A}function vu(c){if(!c.g&&!c.u){c.Y=1;var p=c.Fa;ie||D(),ne||(ie(),ne=!0),Le.add(p,c),c.v=0}}function ko(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=vt(x(c.Fa,c),Vo(c,c.v)),c.v++,!0)}r.Fa=function(){if(this.u=null,_u(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=vt(x(this.ab,this),c)}},r.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),ra(this),_u(this))};function ps(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function _u(c){c.g=new nn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var p=gn(c.qa);Je(p,"RID","rpc"),Je(p,"SID",c.K),Je(p,"AID",c.T),Je(p,"CI",c.F?"0":"1"),!c.F&&c.ja&&Je(p,"TO",c.ja),Je(p,"TYPE","xmlhttp"),ms(c,p),c.m&&c.o&&Mt(p,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=os(gn(p)),v.m=null,v.P=!0,Ei(v,c)}r.Za=function(){this.C!=null&&(this.C=null,ra(this),ko(this),at(19))};function aa(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function bu(c,p){var v=null;if(c.g==p){aa(c),ps(c),c.g=null;var A=2}else if(wo(c.h,p))v=p.D,rn(c.h,p),A=1;else return;if(c.G!=0){if(p.o)if(A==1){v=p.m?p.m.length:0,p=Date.now()-p.F;var L=c.B;A=Wi(),$e(A,new St(A,v)),sa(c)}else vu(c);else if(L=p.s,L==3||L==0&&0<p.X||!(A==1&&Hh(c,p)||A==2&&ko(c)))switch(v&&0<v.length&&(p=c.h,p.i=p.i.concat(v)),L){case 1:Ii(c,5);break;case 4:Ii(c,10);break;case 3:Ii(c,6);break;default:Ii(c,2)}}}function Vo(c,p){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*p}function Ii(c,p){if(c.j.info("Error code "+p),p==2){var v=x(c.fb,c),A=c.Xa;const L=!A;A=new _t(A||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||as(A,"https"),os(A),L?us(A.toString(),v):Bn(A.toString(),v)}else at(2);c.G=0,c.l&&c.l.sa(p),Eu(c),gu(c)}r.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Eu(c){if(c.G=0,c.ka=[],c.l){const p=So(c.h);(p.length!=0||c.i.length!=0)&&(G(c.ka,p),G(c.ka,c.i),c.h.i.length=0,Q(c.i),c.i.length=0),c.l.ra()}}function Tu(c,p,v){var A=v instanceof _t?gn(v):new _t(v);if(A.g!="")p&&(A.g=p+"."+A.g),ir(A,A.s);else{var L=m.location;A=L.protocol,p=p?p+"."+L.hostname:L.hostname,L=+L.port;var F=new _t(null);A&&as(F,A),p&&(F.g=p),L&&ir(F,L),v&&(F.l=v),A=F}return v=c.D,p=c.ya,v&&p&&Je(A,v,p),Je(A,"VER",c.la),ms(c,A),A}function Au(c,p,v){if(p&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return p=c.Ca&&!c.pa?new Qe(new rr({eb:v})):new Qe(c.pa),p.Ha(c.J),p}r.isActive=function(){return!!this.l&&this.l.isActive(this)};function wu(){}r=wu.prototype,r.ua=function(){},r.ta=function(){},r.sa=function(){},r.ra=function(){},r.isActive=function(){return!0},r.Na=function(){};function oa(){}oa.prototype.g=function(c,p){return new sn(c,p)};function sn(c,p){ct.call(this),this.g=new ia(p),this.l=c,this.h=p&&p.messageUrlParams||null,c=p&&p.messageHeaders||null,p&&p.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=p&&p.initMessageHeaders||null,p&&p.messageContentType&&(c?c["X-WebChannel-Content-Type"]=p.messageContentType:c={"X-WebChannel-Content-Type":p.messageContentType}),p&&p.va&&(c?c["X-WebChannel-Client-Profile"]=p.va:c={"X-WebChannel-Client-Profile":p.va}),this.g.S=c,(c=p&&p.Sb)&&!ae(c)&&(this.g.m=c),this.v=p&&p.supportsCrossDomainXhr||!1,this.u=p&&p.sendRawJson||!1,(p=p&&p.httpSessionIdParam)&&!ae(p)&&(this.g.D=p,c=this.h,c!==null&&p in c&&(c=this.h,p in c&&delete c[p])),this.j=new ri(this)}V(sn,ct),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){Oo(this.g)},sn.prototype.o=function(c){var p=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=Ln(c),c=v);p.i.push(new hu(p.Ya++,c)),p.G==3&&sa(p)},sn.prototype.N=function(){this.g.l=null,delete this.j,Oo(this.g),delete this.g,sn.aa.N.call(this)};function Su(c){_i.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var p=c.__sm__;if(p){e:{for(const v in p){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,p=p!==null&&c in p?p[c]:void 0),this.data=p}else this.data=c}V(Su,_i);function xu(){bo.call(this),this.status=1}V(xu,bo);function ri(c){this.g=c}V(ri,wu),ri.prototype.ua=function(){$e(this.g,"a")},ri.prototype.ta=function(c){$e(this.g,new Su(c))},ri.prototype.sa=function(c){$e(this.g,new xu)},ri.prototype.ra=function(){$e(this.g,"b")},oa.prototype.createWebChannel=oa.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Cb=function(){return new oa},Nb=function(){return Wi()},Ib=Xn,fm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},tr.NO_ERROR=0,tr.TIMEOUT=8,tr.HTTP_ERROR=6,Pc=tr,bi.COMPLETE="complete",Rb=bi,_o.EventType=vi,vi.OPEN="a",vi.CLOSE="b",vi.ERROR="c",vi.MESSAGE="d",ct.prototype.listen=ct.prototype.K,xl=_o,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,xb=Qe}).apply(typeof Cc<"u"?Cc:typeof self<"u"?self:typeof window<"u"?window:{});const R_="@firebase/firestore",I_="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Zt.UNAUTHENTICATED=new Zt(null),Zt.GOOGLE_CREDENTIALS=new Zt("google-credentials-uid"),Zt.FIRST_PARTY=new Zt("first-party-uid"),Zt.MOCK_USER=new Zt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let oo="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Us=new qm("@firebase/firestore");function ja(){return Us.logLevel}function le(r,...e){if(Us.logLevel<=je.DEBUG){const n=e.map(Fm);Us.debug(`Firestore (${oo}): ${r}`,...n)}}function Ki(r,...e){if(Us.logLevel<=je.ERROR){const n=e.map(Fm);Us.error(`Firestore (${oo}): ${r}`,...n)}}function Ka(r,...e){if(Us.logLevel<=je.WARN){const n=e.map(Fm);Us.warn(`Firestore (${oo}): ${r}`,...n)}}function Fm(r){if(typeof r=="string")return r;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(r)}catch{return r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Te(r,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,Db(r,s,n)}function Db(r,e,n){let s=`FIRESTORE (${oo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${r.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw Ki(s),new Error(s)}function Ke(r,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,r||Db(e,o,s)}function Re(r,e){return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class he extends Zi{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ob{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class yx{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Zt.UNAUTHENTICATED))}shutdown(){}}class vx{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class _x{constructor(e){this.t=e,this.currentUser=Zt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ke(this.o===void 0,42304);let s=this.i;const o=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new ks;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new ks,e.enqueueRetryable(()=>o(this.currentUser))};const d=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await o(this.currentUser)})},m=g=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new ks)}},0),d()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ke(typeof s.accessToken=="string",31837,{l:s}),new Ob(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ke(e===null||typeof e=="string",2055,{h:e}),new Zt(e)}}class bx{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=Zt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Ex{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new bx(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Zt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class N_{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Tx{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,di(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ke(this.o===void 0,3512);const s=u=>{u.error!=null&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const d=u.token!==this.m;return this.m=u.token,le("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new N_(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ke(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new N_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ax(r){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(r);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<r;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mb(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=Ax(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Oe(r,e){return r<e?-1:r>e?1:0}function mm(r,e){let n=0;for(;n<r.length&&n<e.length;){const s=r.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Oe(s,o);{const u=Mb(),d=wx(u.encode(C_(r,n)),u.encode(C_(e,n)));return d!==0?d:Oe(s,o)}}n+=s>65535?2:1}return Oe(r.length,e.length)}function C_(r,e){return r.codePointAt(e)>65535?r.substring(e,e+2):r.substring(e,e+1)}function wx(r,e){for(let n=0;n<r.length&&n<e.length;++n)if(r[n]!==e[n])return Oe(r[n],e[n]);return Oe(r.length,e.length)}function Ya(r,e,n){return r.length===e.length&&r.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D_=-62135596800,O_=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*O_);return new Dt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new he(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<D_)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new he(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/O_}_compareTo(e){return this.seconds===e.seconds?Oe(this.nanoseconds,e.nanoseconds):Oe(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-D_;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Dt(0,0))}static max(){return new Se(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="__name__";class hi{constructor(e,n,s){n===void 0?n=0:n>e.length&&Te(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Te(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return hi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof hi?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=hi.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Oe(e.length,n.length)}static compareSegments(e,n){const s=hi.isNumericId(e),o=hi.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?hi.extractNumericId(e).compare(hi.extractNumericId(n)):mm(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Ur.fromString(e.substring(4,e.length-2))}}class st extends hi{construct(e,n,s){return new st(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new he(J.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new st(n)}static emptyPath(){return new st([])}}const Sx=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ft extends hi{construct(e,n,s){return new Ft(e,n,s)}static isValidIdentifier(e){return Sx.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ft.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===M_}static keyField(){return new Ft([M_])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let d=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new he(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[o+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new he(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,o+=2}else m==="`"?(d=!d,o++):m!=="."||d?(s+=m,o++):(u(),o++)}if(u(),d)throw new he(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ft(n)}static emptyPath(){return new Ft([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(st.fromString(e))}static fromName(e){return new ye(st.fromString(e).popFirst(5))}static empty(){return new ye(st.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&st.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return st.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new st(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ll=-1;function xx(r,e){const n=r.toTimestamp().seconds,s=r.toTimestamp().nanoseconds+1,o=Se.fromTimestamp(s===1e9?new Dt(n+1,0):new Dt(n,s));return new Br(o,ye.empty(),e)}function Rx(r){return new Br(r.readTime,r.key,Ll)}class Br{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Br(Se.min(),ye.empty(),Ll)}static max(){return new Br(Se.max(),ye.empty(),Ll)}}function Ix(r,e){let n=r.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(r.documentKey,e.documentKey),n!==0?n:Oe(r.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Cx{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lo(r){if(r.code!==J.FAILED_PRECONDITION||r.message!==Nx)throw r;le("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Te(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,s)=>{n(e)})}static reject(e){return new W((n,s)=>{s(e)})}static waitFor(e){return new W((n,s)=>{let o=0,u=0,d=!1;e.forEach(m=>{++o,m.next(()=>{++u,d&&u===o&&n()},g=>s(g))}),d=!0,u===o&&n()})}static or(e){let n=W.resolve(!1);for(const s of e)n=n.next(o=>o?W.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new W((s,o)=>{const u=e.length,d=new Array(u);let m=0;for(let g=0;g<u;g++){const y=g;n(e[y]).next(E=>{d[y]=E,++m,m===u&&s(d)},E=>o(E))}})}static doWhile(e,n){return new W((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function Dx(r){const e=r.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function uo(r){return r.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ue(s),this.ce=s=>n.writeSequenceNumber(s))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}ph.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=-1;function gh(r){return r==null}function $c(r){return r===0&&1/r==-1/0}function Ox(r){return typeof r=="number"&&Number.isInteger(r)&&!$c(r)&&r<=Number.MAX_SAFE_INTEGER&&r>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vb="";function Mx(r){let e="";for(let n=0;n<r.length;n++)e.length>0&&(e=k_(e)),e=kx(r.get(n),e);return k_(e)}function kx(r,e){let n=e;const s=r.length;for(let o=0;o<s;o++){const u=r.charAt(o);switch(u){case"\0":n+="";break;case Vb:n+="";break;default:n+=u}}return n}function k_(r){return r+Vb+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_(r){let e=0;for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e++;return e}function Kr(r,e){for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&e(n,r[n])}function Pb(r){for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ut{constructor(e,n){this.comparator=e,this.root=n||Gt.EMPTY}insert(e,n){return new ut(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Gt.BLACK,null,null))}remove(e){return new ut(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Dc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Dc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Dc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Dc(this.root,e,this.comparator,!0)}}class Dc{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Gt.RED,this.left=o??Gt.EMPTY,this.right=u??Gt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Gt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Gt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Gt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Te(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Te(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Te(27949);return e+(this.isRed()?0:1)}}Gt.EMPTY=null,Gt.RED=!0,Gt.BLACK=!1;Gt.EMPTY=new class{constructor(){this.size=0}get key(){throw Te(57766)}get value(){throw Te(16141)}get color(){throw Te(16727)}get left(){throw Te(29726)}get right(){throw Te(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Gt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e){this.comparator=e,this.data=new ut(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new P_(this.data.getIterator())}getIteratorFrom(e){return new P_(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Ot)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Ot(this.comparator);return n.data=e,n}}class P_{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(e){this.fields=e,e.sort(Ft.comparator)}static empty(){return new wn([])}unionWith(e){let n=new Ot(Ft.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new wn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ya(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jb extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new jb("Invalid base64 string: "+u):u}}(e);return new Qt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let d=0;d<o.length;++d)u+=String.fromCharCode(o[d]);return u}(e);return new Qt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Oe(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Qt.EMPTY_BYTE_STRING=new Qt("");const Vx=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function qr(r){if(Ke(!!r,39018),typeof r=="string"){let e=0;const n=Vx.exec(r);if(Ke(!!n,46558,{timestamp:r}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(r);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:yt(r.seconds),nanos:yt(r.nanos)}}function yt(r){return typeof r=="number"?r:typeof r=="string"?Number(r):0}function Hr(r){return typeof r=="string"?Qt.fromBase64String(r):Qt.fromUint8Array(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ub="server_timestamp",Lb="__type__",zb="__previous_value__",Bb="__local_write_time__";function Km(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[Lb])===null||n===void 0?void 0:n.stringValue)===Ub}function yh(r){const e=r.mapValue.fields[zb];return Km(e)?yh(e):e}function zl(r){const e=qr(r.mapValue.fields[Bb].timestampValue);return new Dt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n,s,o,u,d,m,g,y,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=d,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=y,this.isUsingEmulator=E}}const Zc="(default)";class Bl{constructor(e,n){this.projectId=e,this.database=n||Zc}static empty(){return new Bl("","")}get isDefaultDatabase(){return this.database===Zc}isEqual(e){return e instanceof Bl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qb="__type__",jx="__max__",Oc={mapValue:{}},Hb="__vector__",Wc="value";function Gr(r){return"nullValue"in r?0:"booleanValue"in r?1:"integerValue"in r||"doubleValue"in r?2:"timestampValue"in r?3:"stringValue"in r?5:"bytesValue"in r?6:"referenceValue"in r?7:"geoPointValue"in r?8:"arrayValue"in r?9:"mapValue"in r?Km(r)?4:Lx(r)?9007199254740991:Ux(r)?10:11:Te(28295,{value:r})}function yi(r,e){if(r===e)return!0;const n=Gr(r);if(n!==Gr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return r.booleanValue===e.booleanValue;case 4:return zl(r).isEqual(zl(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const d=qr(o.timestampValue),m=qr(u.timestampValue);return d.seconds===m.seconds&&d.nanos===m.nanos}(r,e);case 5:return r.stringValue===e.stringValue;case 6:return function(o,u){return Hr(o.bytesValue).isEqual(Hr(u.bytesValue))}(r,e);case 7:return r.referenceValue===e.referenceValue;case 8:return function(o,u){return yt(o.geoPointValue.latitude)===yt(u.geoPointValue.latitude)&&yt(o.geoPointValue.longitude)===yt(u.geoPointValue.longitude)}(r,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return yt(o.integerValue)===yt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const d=yt(o.doubleValue),m=yt(u.doubleValue);return d===m?$c(d)===$c(m):isNaN(d)&&isNaN(m)}return!1}(r,e);case 9:return Ya(r.arrayValue.values||[],e.arrayValue.values||[],yi);case 10:case 11:return function(o,u){const d=o.mapValue.fields||{},m=u.mapValue.fields||{};if(V_(d)!==V_(m))return!1;for(const g in d)if(d.hasOwnProperty(g)&&(m[g]===void 0||!yi(d[g],m[g])))return!1;return!0}(r,e);default:return Te(52216,{left:r})}}function ql(r,e){return(r.values||[]).find(n=>yi(n,e))!==void 0}function Xa(r,e){if(r===e)return 0;const n=Gr(r),s=Gr(e);if(n!==s)return Oe(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Oe(r.booleanValue,e.booleanValue);case 2:return function(u,d){const m=yt(u.integerValue||u.doubleValue),g=yt(d.integerValue||d.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(r,e);case 3:return j_(r.timestampValue,e.timestampValue);case 4:return j_(zl(r),zl(e));case 5:return mm(r.stringValue,e.stringValue);case 6:return function(u,d){const m=Hr(u),g=Hr(d);return m.compareTo(g)}(r.bytesValue,e.bytesValue);case 7:return function(u,d){const m=u.split("/"),g=d.split("/");for(let y=0;y<m.length&&y<g.length;y++){const E=Oe(m[y],g[y]);if(E!==0)return E}return Oe(m.length,g.length)}(r.referenceValue,e.referenceValue);case 8:return function(u,d){const m=Oe(yt(u.latitude),yt(d.latitude));return m!==0?m:Oe(yt(u.longitude),yt(d.longitude))}(r.geoPointValue,e.geoPointValue);case 9:return U_(r.arrayValue,e.arrayValue);case 10:return function(u,d){var m,g,y,E;const w=u.fields||{},x=d.fields||{},k=(m=w[Wc])===null||m===void 0?void 0:m.arrayValue,V=(g=x[Wc])===null||g===void 0?void 0:g.arrayValue,Q=Oe(((y=k==null?void 0:k.values)===null||y===void 0?void 0:y.length)||0,((E=V==null?void 0:V.values)===null||E===void 0?void 0:E.length)||0);return Q!==0?Q:U_(k,V)}(r.mapValue,e.mapValue);case 11:return function(u,d){if(u===Oc.mapValue&&d===Oc.mapValue)return 0;if(u===Oc.mapValue)return 1;if(d===Oc.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),y=d.fields||{},E=Object.keys(y);g.sort(),E.sort();for(let w=0;w<g.length&&w<E.length;++w){const x=mm(g[w],E[w]);if(x!==0)return x;const k=Xa(m[g[w]],y[E[w]]);if(k!==0)return k}return Oe(g.length,E.length)}(r.mapValue,e.mapValue);default:throw Te(23264,{Pe:n})}}function j_(r,e){if(typeof r=="string"&&typeof e=="string"&&r.length===e.length)return Oe(r,e);const n=qr(r),s=qr(e),o=Oe(n.seconds,s.seconds);return o!==0?o:Oe(n.nanos,s.nanos)}function U_(r,e){const n=r.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=Xa(n[o],s[o]);if(u)return u}return Oe(n.length,s.length)}function $a(r){return pm(r)}function pm(r){return"nullValue"in r?"null":"booleanValue"in r?""+r.booleanValue:"integerValue"in r?""+r.integerValue:"doubleValue"in r?""+r.doubleValue:"timestampValue"in r?function(n){const s=qr(n);return`time(${s.seconds},${s.nanos})`}(r.timestampValue):"stringValue"in r?r.stringValue:"bytesValue"in r?function(n){return Hr(n).toBase64()}(r.bytesValue):"referenceValue"in r?function(n){return ye.fromName(n).toString()}(r.referenceValue):"geoPointValue"in r?function(n){return`geo(${n.latitude},${n.longitude})`}(r.geoPointValue):"arrayValue"in r?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=pm(u);return s+"]"}(r.arrayValue):"mapValue"in r?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const d of s)u?u=!1:o+=",",o+=`${d}:${pm(n.fields[d])}`;return o+"}"}(r.mapValue):Te(61005,{value:r})}function jc(r){switch(Gr(r)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=yh(r);return e?16+jc(e):16;case 5:return 2*r.stringValue.length;case 6:return Hr(r.bytesValue).approximateByteSize();case 7:return r.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+jc(u),0)}(r.arrayValue);case 10:case 11:return function(s){let o=0;return Kr(s.fields,(u,d)=>{o+=u.length+jc(d)}),o}(r.mapValue);default:throw Te(13486,{value:r})}}function L_(r,e){return{referenceValue:`projects/${r.projectId}/databases/${r.database}/documents/${e.path.canonicalString()}`}}function gm(r){return!!r&&"integerValue"in r}function Ym(r){return!!r&&"arrayValue"in r}function z_(r){return!!r&&"nullValue"in r}function B_(r){return!!r&&"doubleValue"in r&&isNaN(Number(r.doubleValue))}function Uc(r){return!!r&&"mapValue"in r}function Ux(r){var e,n;return((n=(((e=r==null?void 0:r.mapValue)===null||e===void 0?void 0:e.fields)||{})[qb])===null||n===void 0?void 0:n.stringValue)===Hb}function Ol(r){if(r.geoPointValue)return{geoPointValue:Object.assign({},r.geoPointValue)};if(r.timestampValue&&typeof r.timestampValue=="object")return{timestampValue:Object.assign({},r.timestampValue)};if(r.mapValue){const e={mapValue:{fields:{}}};return Kr(r.mapValue.fields,(n,s)=>e.mapValue.fields[n]=Ol(s)),e}if(r.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(r.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ol(r.arrayValue.values[n]);return e}return Object.assign({},r)}function Lx(r){return(((r.mapValue||{}).fields||{}).__type__||{}).stringValue===jx}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Uc(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ol(n)}setAll(e){let n=Ft.emptyPath(),s={},o=[];e.forEach((d,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,o),s={},o=[],n=m.popLast()}d?s[m.lastSegment()]=Ol(d):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());Uc(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return yi(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];Uc(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){Kr(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new hn(Ol(this.value))}}function Gb(r){const e=[];return Kr(r.fields,(n,s)=>{const o=new Ft([n]);if(Uc(s)){const u=Gb(s.mapValue).fields;if(u.length===0)e.push(o);else for(const d of u)e.push(o.child(d))}else e.push(o)}),new wn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,n,s,o,u,d,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=d,this.documentState=m}static newInvalidDocument(e){return new Wt(e,0,Se.min(),Se.min(),Se.min(),hn.empty(),0)}static newFoundDocument(e,n,s,o){return new Wt(e,1,n,Se.min(),s,o,0)}static newNoDocument(e,n){return new Wt(e,2,n,Se.min(),Se.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Wt(e,3,n,Se.min(),Se.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Wt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e,n){this.position=e,this.inclusive=n}}function q_(r,e,n){let s=0;for(let o=0;o<r.position.length;o++){const u=e[o],d=r.position[o];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(d.referenceValue),n.key):s=Xa(d,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function H_(r,e){if(r===null)return e===null;if(e===null||r.inclusive!==e.inclusive||r.position.length!==e.position.length)return!1;for(let n=0;n<r.position.length;n++)if(!yi(r.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hl{constructor(e,n="asc"){this.field=e,this.dir=n}}function zx(r,e){return r.dir===e.dir&&r.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{}class At extends Fb{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new qx(e,n,s):n==="array-contains"?new Fx(e,s):n==="in"?new Qx(e,s):n==="not-in"?new Kx(e,s):n==="array-contains-any"?new Yx(e,s):new At(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new Hx(e,s):new Gx(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xa(n,this.value)):n!==null&&Gr(this.value)===Gr(n)&&this.matchesComparison(Xa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Te(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends Fb{constructor(e,n){super(),this.filters=e,this.op=n,this.Te=null}static create(e,n){return new Yn(e,n)}matches(e){return Qb(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Qb(r){return r.op==="and"}function Kb(r){return Bx(r)&&Qb(r)}function Bx(r){for(const e of r.filters)if(e instanceof Yn)return!1;return!0}function ym(r){if(r instanceof At)return r.field.canonicalString()+r.op.toString()+$a(r.value);if(Kb(r))return r.filters.map(e=>ym(e)).join(",");{const e=r.filters.map(n=>ym(n)).join(",");return`${r.op}(${e})`}}function Yb(r,e){return r instanceof At?function(s,o){return o instanceof At&&s.op===o.op&&s.field.isEqual(o.field)&&yi(s.value,o.value)}(r,e):r instanceof Yn?function(s,o){return o instanceof Yn&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,d,m)=>u&&Yb(d,o.filters[m]),!0):!1}(r,e):void Te(19439)}function Xb(r){return r instanceof At?function(n){return`${n.field.canonicalString()} ${n.op} ${$a(n.value)}`}(r):r instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(Xb).join(" ,")+"}"}(r):"Filter"}class qx extends At{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class Hx extends At{constructor(e,n){super(e,"in",n),this.keys=$b("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Gx extends At{constructor(e,n){super(e,"not-in",n),this.keys=$b("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function $b(r,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class Fx extends At{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Ym(n)&&ql(n.arrayValue,this.value)}}class Qx extends At{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ql(this.value.arrayValue,n)}}class Kx extends At{constructor(e,n){super(e,"not-in",n)}matches(e){if(ql(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ql(this.value.arrayValue,n)}}class Yx extends At{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Ym(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ql(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,n=null,s=[],o=[],u=null,d=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=d,this.endAt=m,this.Ie=null}}function G_(r,e=null,n=[],s=[],o=null,u=null,d=null){return new Xx(r,e,n,s,o,u,d)}function Xm(r){const e=Re(r);if(e.Ie===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>ym(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),gh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>$a(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>$a(s)).join(",")),e.Ie=n}return e.Ie}function $m(r,e){if(r.limit!==e.limit||r.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<r.orderBy.length;n++)if(!zx(r.orderBy[n],e.orderBy[n]))return!1;if(r.filters.length!==e.filters.length)return!1;for(let n=0;n<r.filters.length;n++)if(!Yb(r.filters[n],e.filters[n]))return!1;return r.collectionGroup===e.collectionGroup&&!!r.path.isEqual(e.path)&&!!H_(r.startAt,e.startAt)&&H_(r.endAt,e.endAt)}function vm(r){return ye.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(e,n=null,s=[],o=[],u=null,d="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=d,this.startAt=m,this.endAt=g,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function $x(r,e,n,s,o,u,d,m){return new co(r,e,n,s,o,u,d,m)}function Zm(r){return new co(r)}function F_(r){return r.filters.length===0&&r.limit===null&&r.startAt==null&&r.endAt==null&&(r.explicitOrderBy.length===0||r.explicitOrderBy.length===1&&r.explicitOrderBy[0].field.isKeyField())}function Zb(r){return r.collectionGroup!==null}function Ml(r){const e=Re(r);if(e.Ee===null){e.Ee=[];const n=new Set;for(const u of e.explicitOrderBy)e.Ee.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(d){let m=new Ot(Ft.comparator);return d.filters.forEach(g=>{g.getFlattenedFilters().forEach(y=>{y.isInequality()&&(m=m.add(y.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Ee.push(new Hl(u,s))}),n.has(Ft.keyField().canonicalString())||e.Ee.push(new Hl(Ft.keyField(),s))}return e.Ee}function fi(r){const e=Re(r);return e.de||(e.de=Zx(e,Ml(r))),e.de}function Zx(r,e){if(r.limitType==="F")return G_(r.path,r.collectionGroup,e,r.filters,r.limit,r.startAt,r.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new Hl(o.field,u)});const n=r.endAt?new Jc(r.endAt.position,r.endAt.inclusive):null,s=r.startAt?new Jc(r.startAt.position,r.startAt.inclusive):null;return G_(r.path,r.collectionGroup,e,r.filters,r.limit,n,s)}}function _m(r,e){const n=r.filters.concat([e]);return new co(r.path,r.collectionGroup,r.explicitOrderBy.slice(),n,r.limit,r.limitType,r.startAt,r.endAt)}function bm(r,e,n){return new co(r.path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),e,n,r.startAt,r.endAt)}function vh(r,e){return $m(fi(r),fi(e))&&r.limitType===e.limitType}function Wb(r){return`${Xm(fi(r))}|lt:${r.limitType}`}function Ua(r){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>Xb(o)).join(", ")}]`),gh(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>$a(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>$a(o)).join(",")),`Target(${s})`}(fi(r))}; limitType=${r.limitType})`}function _h(r,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(r,e)&&function(s,o){for(const u of Ml(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(r,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(r,e)&&function(s,o){return!(s.startAt&&!function(d,m,g){const y=q_(d,m,g);return d.inclusive?y<=0:y<0}(s.startAt,Ml(s),o)||s.endAt&&!function(d,m,g){const y=q_(d,m,g);return d.inclusive?y>=0:y>0}(s.endAt,Ml(s),o))}(r,e)}function Wx(r){return r.collectionGroup||(r.path.length%2==1?r.path.lastSegment():r.path.get(r.path.length-2))}function Jb(r){return(e,n)=>{let s=!1;for(const o of Ml(r)){const u=Jx(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function Jx(r,e,n){const s=r.field.isKeyField()?ye.comparator(e.key,n.key):function(u,d,m){const g=d.data.field(u),y=m.data.field(u);return g!==null&&y!==null?Xa(g,y):Te(42886)}(r.field,e,n);switch(r.dir){case"asc":return s;case"desc":return-1*s;default:return Te(19790,{direction:r.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bs{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Kr(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return Pb(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2=new ut(ye.comparator);function Yi(){return e2}const eE=new ut(ye.comparator);function Rl(...r){let e=eE;for(const n of r)e=e.insert(n.key,n);return e}function tE(r){let e=eE;return r.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Ms(){return kl()}function nE(){return kl()}function kl(){return new Bs(r=>r.toString(),(r,e)=>r.isEqual(e))}const t2=new ut(ye.comparator),n2=new Ot(ye.comparator);function Ue(...r){let e=n2;for(const n of r)e=e.add(n);return e}const i2=new Ot(Oe);function r2(){return i2}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(r,e){if(r.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$c(e)?"-0":e}}function iE(r){return{integerValue:""+r}}function s2(r,e){return Ox(e)?iE(e):Wm(r,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh{constructor(){this._=void 0}}function a2(r,e,n){return r instanceof eh?function(o,u){const d={fields:{[Lb]:{stringValue:Ub},[Bb]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Km(u)&&(u=yh(u)),u&&(d.fields[zb]=u),{mapValue:d}}(n,e):r instanceof Gl?sE(r,e):r instanceof Fl?aE(r,e):function(o,u){const d=rE(o,u),m=Q_(d)+Q_(o.Re);return gm(d)&&gm(o.Re)?iE(m):Wm(o.serializer,m)}(r,e)}function o2(r,e,n){return r instanceof Gl?sE(r,e):r instanceof Fl?aE(r,e):n}function rE(r,e){return r instanceof th?function(s){return gm(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class eh extends bh{}class Gl extends bh{constructor(e){super(),this.elements=e}}function sE(r,e){const n=oE(e);for(const s of r.elements)n.some(o=>yi(o,s))||n.push(s);return{arrayValue:{values:n}}}class Fl extends bh{constructor(e){super(),this.elements=e}}function aE(r,e){let n=oE(e);for(const s of r.elements)n=n.filter(o=>!yi(o,s));return{arrayValue:{values:n}}}class th extends bh{constructor(e,n){super(),this.serializer=e,this.Re=n}}function Q_(r){return yt(r.integerValue||r.doubleValue)}function oE(r){return Ym(r)&&r.arrayValue.values?r.arrayValue.values.slice():[]}function l2(r,e){return r.field.isEqual(e.field)&&function(s,o){return s instanceof Gl&&o instanceof Gl||s instanceof Fl&&o instanceof Fl?Ya(s.elements,o.elements,yi):s instanceof th&&o instanceof th?yi(s.Re,o.Re):s instanceof eh&&o instanceof eh}(r.transform,e.transform)}class u2{constructor(e,n){this.version=e,this.transformResults=n}}class Kn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Kn}static exists(e){return new Kn(void 0,e)}static updateTime(e){return new Kn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Lc(r,e){return r.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(r.updateTime):r.exists===void 0||r.exists===e.isFoundDocument()}class Eh{}function lE(r,e){if(!r.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return r.isNoDocument()?new Jm(r.key,Kn.none()):new Xl(r.key,r.data,Kn.none());{const n=r.data,s=hn.empty();let o=new Ot(Ft.comparator);for(let u of e.fields)if(!o.has(u)){let d=n.field(u);d===null&&u.length>1&&(u=u.popLast(),d=n.field(u)),d===null?s.delete(u):s.set(u,d),o=o.add(u)}return new Yr(r.key,s,new wn(o.toArray()),Kn.none())}}function c2(r,e,n){r instanceof Xl?function(o,u,d){const m=o.value.clone(),g=Y_(o.fieldTransforms,u,d.transformResults);m.setAll(g),u.convertToFoundDocument(d.version,m).setHasCommittedMutations()}(r,e,n):r instanceof Yr?function(o,u,d){if(!Lc(o.precondition,u))return void u.convertToUnknownDocument(d.version);const m=Y_(o.fieldTransforms,u,d.transformResults),g=u.data;g.setAll(uE(o)),g.setAll(m),u.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(r,e,n):function(o,u,d){u.convertToNoDocument(d.version).setHasCommittedMutations()}(0,e,n)}function Vl(r,e,n,s){return r instanceof Xl?function(u,d,m,g){if(!Lc(u.precondition,d))return m;const y=u.value.clone(),E=X_(u.fieldTransforms,g,d);return y.setAll(E),d.convertToFoundDocument(d.version,y).setHasLocalMutations(),null}(r,e,n,s):r instanceof Yr?function(u,d,m,g){if(!Lc(u.precondition,d))return m;const y=X_(u.fieldTransforms,g,d),E=d.data;return E.setAll(uE(u)),E.setAll(y),d.convertToFoundDocument(d.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(w=>w.field))}(r,e,n,s):function(u,d,m){return Lc(u.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):m}(r,e,n)}function h2(r,e){let n=null;for(const s of r.fieldTransforms){const o=e.data.field(s.field),u=rE(s.transform,o||null);u!=null&&(n===null&&(n=hn.empty()),n.set(s.field,u))}return n||null}function K_(r,e){return r.type===e.type&&!!r.key.isEqual(e.key)&&!!r.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&Ya(s,o,(u,d)=>l2(u,d))}(r.fieldTransforms,e.fieldTransforms)&&(r.type===0?r.value.isEqual(e.value):r.type!==1||r.data.isEqual(e.data)&&r.fieldMask.isEqual(e.fieldMask))}class Xl extends Eh{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Yr extends Eh{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function uE(r){const e=new Map;return r.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=r.data.field(n);e.set(n,s)}}),e}function Y_(r,e,n){const s=new Map;Ke(r.length===n.length,32656,{Ve:n.length,me:r.length});for(let o=0;o<n.length;o++){const u=r[o],d=u.transform,m=e.data.field(u.field);s.set(u.field,o2(d,m,n[o]))}return s}function X_(r,e,n){const s=new Map;for(const o of r){const u=o.transform,d=n.data.field(o.field);s.set(o.field,a2(u,d,e))}return s}class Jm extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class d2 extends Eh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f2{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&c2(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=Vl(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=Vl(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=nE();return this.mutations.forEach(o=>{const u=e.get(o.key),d=u.overlayedDocument;let m=this.applyToLocalView(d,u.mutatedFields);m=n.has(o.key)?null:m;const g=lE(d,m);g!==null&&s.set(o.key,g),d.isValidDocument()||d.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ue())}isEqual(e){return this.batchId===e.batchId&&Ya(this.mutations,e.mutations,(n,s)=>K_(n,s))&&Ya(this.baseMutations,e.baseMutations,(n,s)=>K_(n,s))}}class ep{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ke(e.mutations.length===s.length,58842,{fe:e.mutations.length,ge:s.length});let o=function(){return t2}();const u=e.mutations;for(let d=0;d<u.length;d++)o=o.insert(u[d].key,s[d].version);return new ep(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Tt,He;function g2(r){switch(r){case J.OK:return Te(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Te(15467,{code:r})}}function cE(r){if(r===void 0)return Ki("GRPC error has no .code"),J.UNKNOWN;switch(r){case Tt.OK:return J.OK;case Tt.CANCELLED:return J.CANCELLED;case Tt.UNKNOWN:return J.UNKNOWN;case Tt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Tt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Tt.INTERNAL:return J.INTERNAL;case Tt.UNAVAILABLE:return J.UNAVAILABLE;case Tt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Tt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Tt.NOT_FOUND:return J.NOT_FOUND;case Tt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Tt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Tt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Tt.ABORTED:return J.ABORTED;case Tt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Tt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Tt.DATA_LOSS:return J.DATA_LOSS;default:return Te(39323,{code:r})}}(He=Tt||(Tt={}))[He.OK=0]="OK",He[He.CANCELLED=1]="CANCELLED",He[He.UNKNOWN=2]="UNKNOWN",He[He.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",He[He.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",He[He.NOT_FOUND=5]="NOT_FOUND",He[He.ALREADY_EXISTS=6]="ALREADY_EXISTS",He[He.PERMISSION_DENIED=7]="PERMISSION_DENIED",He[He.UNAUTHENTICATED=16]="UNAUTHENTICATED",He[He.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",He[He.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",He[He.ABORTED=10]="ABORTED",He[He.OUT_OF_RANGE=11]="OUT_OF_RANGE",He[He.UNIMPLEMENTED=12]="UNIMPLEMENTED",He[He.INTERNAL=13]="INTERNAL",He[He.UNAVAILABLE=14]="UNAVAILABLE",He[He.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y2=new Ur([4294967295,4294967295],0);function $_(r){const e=Mb().encode(r),n=new Sb;return n.update(e),new Uint8Array(n.digest())}function Z_(r){const e=new DataView(r.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new Ur([n,s],0),new Ur([o,u],0)]}class tp{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Il(`Invalid padding: ${n}`);if(s<0)throw new Il(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Il(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Il(`Invalid padding when bitmap length is 0: ${n}`);this.pe=8*e.length-n,this.ye=Ur.fromNumber(this.pe)}we(e,n,s){let o=e.add(n.multiply(Ur.fromNumber(s)));return o.compare(y2)===1&&(o=new Ur([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const n=$_(e),[s,o]=Z_(n);for(let u=0;u<this.hashCount;u++){const d=this.we(s,o,u);if(!this.be(d))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),d=new tp(u,o,n);return s.forEach(m=>d.insert(m)),d}insert(e){if(this.pe===0)return;const n=$_(e),[s,o]=Z_(n);for(let u=0;u<this.hashCount;u++){const d=this.we(s,o,u);this.Se(d)}}Se(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Il extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,$l.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Th(Se.min(),o,new ut(Oe),Yi(),Ue())}}class $l{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new $l(s,n,Ue(),Ue(),Ue())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zc{constructor(e,n,s,o){this.De=e,this.removedTargetIds=n,this.key=s,this.ve=o}}class hE{constructor(e,n){this.targetId=e,this.Ce=n}}class dE{constructor(e,n,s=Qt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class W_{constructor(){this.Fe=0,this.Me=J_(),this.xe=Qt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=Ue(),n=Ue(),s=Ue();return this.Me.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Te(38017,{changeType:u})}}),new $l(this.xe,this.Oe,e,n,s)}Qe(){this.Ne=!1,this.Me=J_()}$e(e,n){this.Ne=!0,this.Me=this.Me.insert(e,n)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ke(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class v2{constructor(e){this.ze=e,this.je=new Map,this.He=Yi(),this.Je=Mc(),this.Ye=Mc(),this.Ze=new ut(Oe)}Xe(e){for(const n of e.De)e.ve&&e.ve.isFoundDocument()?this.et(n,e.ve):this.tt(n,e.key,e.ve);for(const n of e.removedTargetIds)this.tt(n,e.key,e.ve)}nt(e){this.forEachTarget(e,n=>{const s=this.rt(n);switch(e.state){case 0:this.it(n)&&s.ke(e.resumeToken);break;case 1:s.We(),s.Be||s.Qe(),s.ke(e.resumeToken);break;case 2:s.We(),s.Be||this.removeTarget(n);break;case 3:this.it(n)&&(s.Ge(),s.ke(e.resumeToken));break;case 4:this.it(n)&&(this.st(n),s.ke(e.resumeToken));break;default:Te(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.je.forEach((s,o)=>{this.it(o)&&n(o)})}ot(e){const n=e.targetId,s=e.Ce.count,o=this._t(n);if(o){const u=o.target;if(vm(u))if(s===0){const d=new ye(u.path);this.tt(n,d,Wt.newNoDocument(d,Se.min()))}else Ke(s===1,20013,{expectedCount:s});else{const d=this.ut(n);if(d!==s){const m=this.ct(e),g=m?this.lt(m,e,d):1;if(g!==0){this.st(n);const y=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,y)}}}}}ct(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let d,m;try{d=Hr(s).toUint8Array()}catch(g){if(g instanceof jb)return Ka("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new tp(d,o,u)}catch(g){return Ka(g instanceof Il?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.pe===0?null:m}lt(e,n,s){return n.Ce.count===s-this.Tt(e,n.targetId)?0:2}Tt(e,n){const s=this.ze.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const d=this.ze.Pt(),m=`projects/${d.projectId}/databases/${d.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.tt(n,u,null),o++)}),o}It(e){const n=new Map;this.je.forEach((u,d)=>{const m=this._t(d);if(m){if(u.current&&vm(m.target)){const g=new ye(m.target.path);this.Et(g).has(d)||this.dt(d,g)||this.tt(d,g,Wt.newNoDocument(g,e))}u.Le&&(n.set(d,u.qe()),u.Qe())}});let s=Ue();this.Ye.forEach((u,d)=>{let m=!0;d.forEachWhile(g=>{const y=this._t(g);return!y||y.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.He.forEach((u,d)=>d.setReadTime(e));const o=new Th(e,n,this.Ze,this.He,s);return this.He=Yi(),this.Je=Mc(),this.Ye=Mc(),this.Ze=new ut(Oe),o}et(e,n){if(!this.it(e))return;const s=this.dt(e,n.key)?2:0;this.rt(e).$e(n.key,s),this.He=this.He.insert(n.key,n),this.Je=this.Je.insert(n.key,this.Et(n.key).add(e)),this.Ye=this.Ye.insert(n.key,this.At(n.key).add(e))}tt(e,n,s){if(!this.it(e))return;const o=this.rt(e);this.dt(e,n)?o.$e(n,1):o.Ue(n),this.Ye=this.Ye.insert(n,this.At(n).delete(e)),this.Ye=this.Ye.insert(n,this.At(n).add(e)),s&&(this.He=this.He.insert(n,s))}removeTarget(e){this.je.delete(e)}ut(e){const n=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let n=this.je.get(e);return n||(n=new W_,this.je.set(e,n)),n}At(e){let n=this.Ye.get(e);return n||(n=new Ot(Oe),this.Ye=this.Ye.insert(e,n)),n}Et(e){let n=this.Je.get(e);return n||(n=new Ot(Oe),this.Je=this.Je.insert(e,n)),n}it(e){const n=this._t(e)!==null;return n||le("WatchChangeAggregator","Detected inactive target",e),n}_t(e){const n=this.je.get(e);return n&&n.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new W_),this.ze.getRemoteKeysForTarget(e).forEach(n=>{this.tt(e,n,null)})}dt(e,n){return this.ze.getRemoteKeysForTarget(e).has(n)}}function Mc(){return new ut(ye.comparator)}function J_(){return new ut(ye.comparator)}const _2={asc:"ASCENDING",desc:"DESCENDING"},b2={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},E2={and:"AND",or:"OR"};class T2{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Em(r,e){return r.useProto3Json||gh(e)?e:{value:e}}function nh(r,e){return r.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function fE(r,e){return r.useProto3Json?e.toBase64():e.toUint8Array()}function A2(r,e){return nh(r,e.toTimestamp())}function mi(r){return Ke(!!r,49232),Se.fromTimestamp(function(n){const s=qr(n);return new Dt(s.seconds,s.nanos)}(r))}function np(r,e){return Tm(r,e).canonicalString()}function Tm(r,e){const n=function(o){return new st(["projects",o.projectId,"databases",o.database])}(r).child("documents");return e===void 0?n:n.child(e)}function mE(r){const e=st.fromString(r);return Ke(_E(e),10190,{key:e.toString()}),e}function Am(r,e){return np(r.databaseId,e.path)}function Xf(r,e){const n=mE(e);if(n.get(1)!==r.databaseId.projectId)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+r.databaseId.projectId);if(n.get(3)!==r.databaseId.database)throw new he(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+r.databaseId.database);return new ye(gE(n))}function pE(r,e){return np(r.databaseId,e)}function w2(r){const e=mE(r);return e.length===4?st.emptyPath():gE(e)}function wm(r){return new st(["projects",r.databaseId.projectId,"databases",r.databaseId.database]).canonicalString()}function gE(r){return Ke(r.length>4&&r.get(4)==="documents",29091,{key:r.toString()}),r.popFirst(5)}function e0(r,e,n){return{name:Am(r,e),fields:n.value.mapValue.fields}}function S2(r,e){let n;if("targetChange"in e){e.targetChange;const s=function(y){return y==="NO_CHANGE"?0:y==="ADD"?1:y==="REMOVE"?2:y==="CURRENT"?3:y==="RESET"?4:Te(39313,{state:y})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(y,E){return y.useProto3Json?(Ke(E===void 0||typeof E=="string",58123),Qt.fromBase64String(E||"")):(Ke(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Qt.fromUint8Array(E||new Uint8Array))}(r,e.targetChange.resumeToken),d=e.targetChange.cause,m=d&&function(y){const E=y.code===void 0?J.UNKNOWN:cE(y.code);return new he(E,y.message||"")}(d);n=new dE(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Xf(r,s.document.name),u=mi(s.document.updateTime),d=s.document.createTime?mi(s.document.createTime):Se.min(),m=new hn({mapValue:{fields:s.document.fields}}),g=Wt.newFoundDocument(o,u,d,m),y=s.targetIds||[],E=s.removedTargetIds||[];n=new zc(y,E,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Xf(r,s.document),u=s.readTime?mi(s.readTime):Se.min(),d=Wt.newNoDocument(o,u),m=s.removedTargetIds||[];n=new zc([],m,d.key,d)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Xf(r,s.document),u=s.removedTargetIds||[];n=new zc([],u,o,null)}else{if(!("filter"in e))return Te(11601,{Vt:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,d=new p2(o,u),m=s.targetId;n=new hE(m,d)}}return n}function x2(r,e){let n;if(e instanceof Xl)n={update:e0(r,e.key,e.value)};else if(e instanceof Jm)n={delete:Am(r,e.key)};else if(e instanceof Yr)n={update:e0(r,e.key,e.data),updateMask:V2(e.fieldMask)};else{if(!(e instanceof d2))return Te(16599,{ft:e.type});n={verify:Am(r,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,d){const m=d.transform;if(m instanceof eh)return{fieldPath:d.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof Gl)return{fieldPath:d.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof Fl)return{fieldPath:d.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof th)return{fieldPath:d.field.canonicalString(),increment:m.Re};throw Te(20930,{transform:d.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:A2(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Te(27497)}(r,e.precondition)),n}function R2(r,e){return r&&r.length>0?(Ke(e!==void 0,14353),r.map(n=>function(o,u){let d=o.updateTime?mi(o.updateTime):mi(u);return d.isEqual(Se.min())&&(d=mi(u)),new u2(d,o.transformResults||[])}(n,e))):[]}function I2(r,e){return{documents:[pE(r,e.path)]}}function N2(r,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=pE(r,o);const u=function(y){if(y.length!==0)return vE(Yn.create(y,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const d=function(y){if(y.length!==0)return y.map(E=>function(x){return{field:La(x.field),direction:O2(x.dir)}}(E))}(e.orderBy);d&&(n.structuredQuery.orderBy=d);const m=Em(r,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(y){return{before:y.inclusive,values:y.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(y){return{before:!y.inclusive,values:y.position}}(e.endAt)),{gt:n,parent:o}}function C2(r){let e=w2(r.parent);const n=r.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ke(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(w){const x=yE(w);return x instanceof Yn&&Kb(x)?x.getFilters():[x]}(n.where));let d=[];n.orderBy&&(d=function(w){return w.map(x=>function(V){return new Hl(za(V.field),function(G){switch(G){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(V.direction))}(x))}(n.orderBy));let m=null;n.limit&&(m=function(w){let x;return x=typeof w=="object"?w.value:w,gh(x)?null:x}(n.limit));let g=null;n.startAt&&(g=function(w){const x=!!w.before,k=w.values||[];return new Jc(k,x)}(n.startAt));let y=null;return n.endAt&&(y=function(w){const x=!w.before,k=w.values||[];return new Jc(k,x)}(n.endAt)),$x(e,o,d,u,m,"F",g,y)}function D2(r,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Te(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function yE(r){return r.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=za(n.unaryFilter.field);return At.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=za(n.unaryFilter.field);return At.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=za(n.unaryFilter.field);return At.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=za(n.unaryFilter.field);return At.create(d,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Te(61313);default:return Te(60726)}}(r):r.fieldFilter!==void 0?function(n){return At.create(za(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Te(58110);default:return Te(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(r):r.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(s=>yE(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Te(1026)}}(n.compositeFilter.op))}(r):Te(30097,{filter:r})}function O2(r){return _2[r]}function M2(r){return b2[r]}function k2(r){return E2[r]}function La(r){return{fieldPath:r.canonicalString()}}function za(r){return Ft.fromServerFormat(r.fieldPath)}function vE(r){return r instanceof At?function(n){if(n.op==="=="){if(B_(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NAN"}};if(z_(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(B_(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NAN"}};if(z_(n.value))return{unaryFilter:{field:La(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:La(n.field),op:M2(n.op),value:n.value}}}(r):r instanceof Yn?function(n){const s=n.getFilters().map(o=>vE(o));return s.length===1?s[0]:{compositeFilter:{op:k2(n.op),filters:s}}}(r):Te(54877,{filter:r})}function V2(r){const e=[];return r.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function _E(r){return r.length>=4&&r.get(0)==="projects"&&r.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(e,n,s,o,u=Se.min(),d=Se.min(),m=Qt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Or(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e){this.wt=e}}function j2(r){const e=C2({parent:r.parent,structuredQuery:r.structuredQuery});return r.limitType==="LAST"?bm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U2{constructor(){this.Cn=new L2}addToCollectionParentIndex(e,n){return this.Cn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Cn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Br.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Br.min())}updateCollectionGroup(e,n,s){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class L2{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Ot(st.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Ot(st.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},bE=41943040;class cn{static withCacheSize(e){return new cn(e,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */cn.DEFAULT_COLLECTION_PERCENTILE=10,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cn.DEFAULT=new cn(bE,cn.DEFAULT_COLLECTION_PERCENTILE,cn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cn.DISABLED=new cn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new Za(0)}static lr(){return new Za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="LruGarbageCollector",z2=1048576;function i0([r,e],[n,s]){const o=Oe(r,n);return o===0?Oe(e,s):o}class B2{constructor(e){this.Er=e,this.buffer=new Ot(i0),this.dr=0}Ar(){return++this.dr}Rr(e){const n=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();i0(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class q2{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){le(n0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){uo(n)?le(n0,"Ignoring IndexedDB error during garbage collection: ",n):await lo(n)}await this.mr(3e5)})}}class H2{constructor(e,n){this.gr=e,this.params=n}calculateTargetCount(e,n){return this.gr.pr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return W.resolve(ph.le);const s=new B2(n);return this.gr.forEachTarget(e,o=>s.Rr(o.sequenceNumber)).next(()=>this.gr.yr(e,o=>s.Rr(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.gr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.gr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(le("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(t0)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(le("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),t0):this.wr(e,n))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,n){let s,o,u,d,m,g,y;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(w=>(w>this.params.maximumSequenceNumbersToCollect?(le("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${w}`),o=this.params.maximumSequenceNumbersToCollect):o=w,d=Date.now(),this.nthSequenceNumber(e,o))).next(w=>(s=w,m=Date.now(),this.removeTargets(e,s,n))).next(w=>(u=w,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(w=>(y=Date.now(),ja()<=je.DEBUG&&le("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-E}ms
	Determined least recently used ${o} in `+(m-d)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${w} documents in `+(y-g)+`ms
Total Duration: ${y-E}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:w})))}}function G2(r,e){return new H2(r,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2{constructor(){this.changes=new Bs(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?W.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q2{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K2{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&Vl(s.mutation,o,wn.empty(),Dt.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ue()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ue()){const o=Ms();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let d=Rl();return u.forEach((m,g)=>{d=d.insert(m,g.overlayedDocument)}),d}))}getOverlayedDocuments(e,n){const s=Ms();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ue()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((d,m)=>{n.set(d,m)})})}computeViews(e,n,s,o){let u=Yi();const d=kl(),m=function(){return kl()}();return n.forEach((g,y)=>{const E=s.get(y.key);o.has(y.key)&&(E===void 0||E.mutation instanceof Yr)?u=u.insert(y.key,y):E!==void 0?(d.set(y.key,E.mutation.getFieldMask()),Vl(E.mutation,y,E.mutation.getFieldMask(),Dt.now())):d.set(y.key,wn.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((y,E)=>d.set(y,E)),n.forEach((y,E)=>{var w;return m.set(y,new Q2(E,(w=d.get(y))!==null&&w!==void 0?w:null))}),m))}recalculateAndSaveOverlays(e,n){const s=kl();let o=new ut((d,m)=>d-m),u=Ue();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(d=>{for(const m of d)m.keys().forEach(g=>{const y=n.get(g);if(y===null)return;let E=s.get(g)||wn.empty();E=m.applyToLocalView(y,E),s.set(g,E);const w=(o.get(m.batchId)||Ue()).add(g);o=o.insert(m.batchId,w)})}).next(()=>{const d=[],m=o.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),y=g.key,E=g.value,w=nE();E.forEach(x=>{if(!u.has(x)){const k=lE(n.get(x),s.get(x));k!==null&&w.set(x,k),u=u.add(x)}}),d.push(this.documentOverlayCache.saveOverlays(e,y,w))}return W.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(d){return ye.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Zb(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const d=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):W.resolve(Ms());let m=Ll,g=u;return d.next(y=>W.forEach(y,(E,w)=>(m<w.largestBatchId&&(m=w.largestBatchId),u.get(E)?W.resolve():this.remoteDocumentCache.getEntry(e,E).next(x=>{g=g.insert(E,x)}))).next(()=>this.populateOverlays(e,y,u)).next(()=>this.computeViews(e,g,y,Ue())).next(E=>({batchId:m,changes:tE(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let o=Rl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let d=Rl();return this.indexManager.getCollectionParents(e,u).next(m=>W.forEach(m,g=>{const y=function(w,x){return new co(x,null,w.explicitOrderBy.slice(),w.filters.slice(),w.limit,w.limitType,w.startAt,w.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,y,s,o).next(E=>{E.forEach((w,x)=>{d=d.insert(w,x)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(d=>(u=d,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(d=>{u.forEach((g,y)=>{const E=y.getKey();d.get(E)===null&&(d=d.insert(E,Wt.newInvalidDocument(E)))});let m=Rl();return d.forEach((g,y)=>{const E=u.get(g);E!==void 0&&Vl(E.mutation,y,wn.empty(),Dt.now()),_h(n,y)&&(m=m.insert(g,y))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y2{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,n){return W.resolve(this.kr.get(n))}saveBundleMetadata(e,n){return this.kr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:mi(o.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.qr.get(n))}saveNamedQuery(e,n){return this.qr.set(n.name,function(o){return{name:o.name,query:j2(o.bundledQuery),readTime:mi(o.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2{constructor(){this.overlays=new ut(ye.comparator),this.Qr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Ms();return W.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.St(e,n,u)}),W.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.Qr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.Qr.delete(s)),W.resolve()}getOverlaysForCollection(e,n,s){const o=Ms(),u=n.length+1,d=new ye(n.child("")),m=this.overlays.getIteratorFrom(d);for(;m.hasNext();){const g=m.getNext().value,y=g.getKey();if(!n.isPrefixOf(y.path))break;y.path.length===u&&g.largestBatchId>s&&o.set(g.getKey(),g)}return W.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ut((y,E)=>y-E);const d=this.overlays.getIterator();for(;d.hasNext();){const y=d.getNext().value;if(y.getKey().getCollectionGroup()===n&&y.largestBatchId>s){let E=u.get(y.largestBatchId);E===null&&(E=Ms(),u=u.insert(y.largestBatchId,E)),E.set(y.getKey(),y)}}const m=Ms(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((y,E)=>m.set(y,E)),!(m.size()>=o)););return W.resolve(m)}St(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const d=this.Qr.get(o.largestBatchId).delete(s.key);this.Qr.set(o.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new m2(n,s));let u=this.Qr.get(n);u===void 0&&(u=Ue(),this.Qr.set(n,u)),this.Qr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2{constructor(){this.sessionToken=Qt.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ip{constructor(){this.$r=new Ot(Ut.Ur),this.Kr=new Ot(Ut.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,n){const s=new Ut(e,n);this.$r=this.$r.add(s),this.Kr=this.Kr.add(s)}Gr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.zr(new Ut(e,n))}jr(e,n){e.forEach(s=>this.removeReference(s,n))}Hr(e){const n=new ye(new st([])),s=new Ut(n,e),o=new Ut(n,e+1),u=[];return this.Kr.forEachInRange([s,o],d=>{this.zr(d),u.push(d.key)}),u}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const n=new ye(new st([])),s=new Ut(n,e),o=new Ut(n,e+1);let u=Ue();return this.Kr.forEachInRange([s,o],d=>{u=u.add(d.key)}),u}containsKey(e){const n=new Ut(e,0),s=this.$r.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class Ut{constructor(e,n){this.key=e,this.Zr=n}static Ur(e,n){return ye.comparator(e.key,n.key)||Oe(e.Zr,n.Zr)}static Wr(e,n){return Oe(e.Zr,n.Zr)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z2{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.nr=1,this.Xr=new Ot(Ut.Ur)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new f2(u,n,s,o);this.mutationQueue.push(d);for(const m of o)this.Xr=this.Xr.add(new Ut(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return W.resolve(d)}lookupMutationBatch(e,n){return W.resolve(this.ei(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.ti(s),u=o<0?0:o;return W.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?Qm:this.nr-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new Ut(n,0),o=new Ut(n,Number.POSITIVE_INFINITY),u=[];return this.Xr.forEachInRange([s,o],d=>{const m=this.ei(d.Zr);u.push(m)}),W.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Ot(Oe);return n.forEach(o=>{const u=new Ut(o,0),d=new Ut(o,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([u,d],m=>{s=s.add(m.Zr)})}),W.resolve(this.ni(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const d=new Ut(new ye(u),0);let m=new Ot(Oe);return this.Xr.forEachWhile(g=>{const y=g.key.path;return!!s.isPrefixOf(y)&&(y.length===o&&(m=m.add(g.Zr)),!0)},d),W.resolve(this.ni(m))}ni(e){const n=[];return e.forEach(s=>{const o=this.ei(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ke(this.ri(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Xr;return W.forEach(n.mutations,o=>{const u=new Ut(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Xr=s})}sr(e){}containsKey(e,n){const s=new Ut(n,0),o=this.Xr.firstAfterOrEqual(s);return W.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ri(e,n){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const n=this.ti(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W2{constructor(e){this.ii=e,this.docs=function(){return new ut(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,d=this.ii(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:d}),this.size+=d-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return W.resolve(s?s.document.mutableCopy():Wt.newInvalidDocument(n))}getEntries(e,n){let s=Yi();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():Wt.newInvalidDocument(o))}),W.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=Yi();const d=n.path,m=new ye(d.child("__id-9223372036854775808__")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:y,value:{document:E}}=g.getNext();if(!d.isPrefixOf(y.path))break;y.path.length>d.length+1||Ix(Rx(E),s)<=0||(o.has(E.key)||_h(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return W.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Te(9500)}si(e,n){return W.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new J2(this)}getSize(e){return W.resolve(this.size)}}class J2 extends F2{constructor(e){super(),this.Br=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Br.addEntry(e,o)):this.Br.removeEntry(s)}),W.waitFor(n)}getFromCache(e,n){return this.Br.getEntry(e,n)}getAllFromCache(e,n){return this.Br.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eR{constructor(e){this.persistence=e,this.oi=new Bs(n=>Xm(n),$m),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this._i=0,this.ai=new ip,this.targetCount=0,this.ui=Za.cr()}forEachTarget(e,n){return this.oi.forEach((s,o)=>n(o)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this._i&&(this._i=n),W.resolve()}Tr(e){this.oi.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.ui=new Za(n),this.highestTargetId=n),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,n){return this.Tr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.Tr(n),W.resolve()}removeTargetData(e,n){return this.oi.delete(n.target),this.ai.Hr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.oi.forEach((d,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.oi.delete(d),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),W.waitFor(u).next(()=>o)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const s=this.oi.get(n)||null;return W.resolve(s)}addMatchingKeys(e,n,s){return this.ai.Gr(n,s),W.resolve()}removeMatchingKeys(e,n,s){this.ai.jr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(d=>{u.push(o.markPotentiallyOrphaned(e,d))}),W.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.ai.Hr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ai.Yr(n);return W.resolve(s)}containsKey(e,n){return W.resolve(this.ai.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE{constructor(e,n){this.ci={},this.overlays={},this.li=new ph(0),this.hi=!1,this.hi=!0,this.Pi=new $2,this.referenceDelegate=e(this),this.Ti=new eR(this),this.indexManager=new U2,this.remoteDocumentCache=function(o){return new W2(o)}(s=>this.referenceDelegate.Ii(s)),this.serializer=new P2(n),this.Ei=new Y2(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new X2,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ci[e.toKey()];return s||(s=new Z2(n,this.referenceDelegate),this.ci[e.toKey()]=s),s}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,n,s){le("MemoryPersistence","Starting transaction:",e);const o=new tR(this.li.next());return this.referenceDelegate.di(),s(o).next(u=>this.referenceDelegate.Ai(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ri(e,n){return W.or(Object.values(this.ci).map(s=>()=>s.containsKey(e,n)))}}class tR extends Cx{constructor(e){super(),this.currentSequenceNumber=e}}class rp{constructor(e){this.persistence=e,this.Vi=new ip,this.mi=null}static fi(e){return new rp(e)}get gi(){if(this.mi)return this.mi;throw Te(60996)}addReference(e,n,s){return this.Vi.addReference(s,n),this.gi.delete(s.toString()),W.resolve()}removeReference(e,n,s){return this.Vi.removeReference(s,n),this.gi.add(s.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.gi.add(n.toString()),W.resolve()}removeTarget(e,n){this.Vi.Hr(n.targetId).forEach(o=>this.gi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.gi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}di(){this.mi=new Set}Ai(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.gi,s=>{const o=ye.fromPath(s);return this.pi(e,o).next(u=>{u||n.removeEntry(o,Se.min())})}).next(()=>(this.mi=null,n.apply(e)))}updateLimboDocument(e,n){return this.pi(e,n).next(s=>{s?this.gi.delete(n.toString()):this.gi.add(n.toString())})}Ii(e){return 0}pi(e,n){return W.or([()=>W.resolve(this.Vi.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ri(e,n)])}}class ih{constructor(e,n){this.persistence=e,this.yi=new Bs(s=>Mx(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=G2(this,n)}static fi(e,n){return new ih(e,n)}di(){}Ai(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}pr(e){const n=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}br(e){let n=0;return this.yr(e,s=>{n++}).next(()=>n)}yr(e,n){return W.forEach(this.yi,(s,o)=>this.Dr(e,s,o).next(u=>u?W.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.si(e,d=>this.Dr(e,d,n).next(m=>{m||(s++,u.removeEntry(d,Se.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.yi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),W.resolve()}removeReference(e,n,s){return this.yi.set(s,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.yi.set(n,e.currentSequenceNumber),W.resolve()}Ii(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=jc(e.data.value)),n}Dr(e,n,s){return W.or([()=>this.persistence.Ri(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.yi.get(n);return W.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.ds=s,this.As=o}static Rs(e,n){let s=Ue(),o=Ue();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new sp(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nR{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return Jw()?8:Dx(Jt())>0?6:4}()}initialize(e,n){this.ys=e,this.indexManager=n,this.Vs=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ws(e,n).next(d=>{u.result=d}).next(()=>{if(!u.result)return this.bs(e,n,o,s).next(d=>{u.result=d})}).next(()=>{if(u.result)return;const d=new nR;return this.Ss(e,n,d).next(m=>{if(u.result=m,this.fs)return this.Ds(e,n,d,m.size)})}).next(()=>u.result)}Ds(e,n,s,o){return s.documentReadCount<this.gs?(ja()<=je.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Ua(n),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),W.resolve()):(ja()<=je.DEBUG&&le("QueryEngine","Query:",Ua(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.ps*o?(ja()<=je.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Ua(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,fi(n))):W.resolve())}ws(e,n){if(F_(n))return W.resolve(null);let s=fi(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=bm(n,null,"F"),s=fi(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const d=Ue(...u);return this.ys.getDocuments(e,d).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const y=this.vs(n,m);return this.Cs(n,y,d,g.readTime)?this.ws(e,bm(n,null,"F")):this.Fs(e,y,n,g)}))})))}bs(e,n,s,o){return F_(n)||o.isEqual(Se.min())?W.resolve(null):this.ys.getDocuments(e,s).next(u=>{const d=this.vs(n,u);return this.Cs(n,d,s,o)?W.resolve(null):(ja()<=je.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Ua(n)),this.Fs(e,d,n,xx(o,Ll)).next(m=>m))})}vs(e,n){let s=new Ot(Jb(e));return n.forEach((o,u)=>{_h(e,u)&&(s=s.add(u))}),s}Cs(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}Ss(e,n,s){return ja()<=je.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Ua(n)),this.ys.getDocumentsMatchingQuery(e,n,Br.min(),s)}Fs(e,n,s,o){return this.ys.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(d=>{u=u.insert(d.key,d)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ap="LocalStore",rR=3e8;class sR{constructor(e,n,s,o){this.persistence=e,this.Ms=n,this.serializer=o,this.xs=new ut(Oe),this.Os=new Bs(u=>Xm(u),$m),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(s)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new K2(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.xs))}}function aR(r,e,n,s){return new sR(r,e,n,s)}async function TE(r,e){const n=Re(r);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ls(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const d=[],m=[];let g=Ue();for(const y of o){d.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}for(const y of u){m.push(y.batchId);for(const E of y.mutations)g=g.add(E.key)}return n.localDocuments.getDocuments(s,g).next(y=>({ks:y,removedBatchIds:d,addedBatchIds:m}))})})}function oR(r,e){const n=Re(r);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Bs.newChangeBuffer({trackRemovals:!0});return function(m,g,y,E){const w=y.batch,x=w.keys();let k=W.resolve();return x.forEach(V=>{k=k.next(()=>E.getEntry(g,V)).next(Q=>{const G=y.docVersions.get(V);Ke(G!==null,48541),Q.version.compareTo(G)<0&&(w.applyToRemoteDocument(Q,y),Q.isValidDocument()&&(Q.setReadTime(y.commitVersion),E.addEntry(Q)))})}),k.next(()=>m.mutationQueue.removeMutationBatch(g,w))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Ue();for(let y=0;y<m.mutationResults.length;++y)m.mutationResults[y].transformResults.length>0&&(g=g.add(m.batch.mutations[y].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function AE(r){const e=Re(r);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ti.getLastRemoteSnapshotVersion(n))}function lR(r,e){const n=Re(r),s=e.snapshotVersion;let o=n.xs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const d=n.Bs.newChangeBuffer({trackRemovals:!0});o=n.xs;const m=[];e.targetChanges.forEach((E,w)=>{const x=o.get(w);if(!x)return;m.push(n.Ti.removeMatchingKeys(u,E.removedDocuments,w).next(()=>n.Ti.addMatchingKeys(u,E.addedDocuments,w)));let k=x.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(w)!==null?k=k.withResumeToken(Qt.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(k=k.withResumeToken(E.resumeToken,s)),o=o.insert(w,k),function(Q,G,oe){return Q.resumeToken.approximateByteSize()===0||G.snapshotVersion.toMicroseconds()-Q.snapshotVersion.toMicroseconds()>=rR?!0:oe.addedDocuments.size+oe.modifiedDocuments.size+oe.removedDocuments.size>0}(x,k,E)&&m.push(n.Ti.updateTargetData(u,k))});let g=Yi(),y=Ue();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(uR(u,d,e.documentUpdates).next(E=>{g=E.qs,y=E.Qs})),!s.isEqual(Se.min())){const E=n.Ti.getLastRemoteSnapshotVersion(u).next(w=>n.Ti.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return W.waitFor(m).next(()=>d.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,y)).next(()=>g)}).then(u=>(n.xs=o,u))}function uR(r,e,n){let s=Ue(),o=Ue();return n.forEach(u=>s=s.add(u)),e.getEntries(r,s).next(u=>{let d=Yi();return n.forEach((m,g)=>{const y=u.get(m);g.isFoundDocument()!==y.isFoundDocument()&&(o=o.add(m)),g.isNoDocument()&&g.version.isEqual(Se.min())?(e.removeEntry(m,g.readTime),d=d.insert(m,g)):!y.isValidDocument()||g.version.compareTo(y.version)>0||g.version.compareTo(y.version)===0&&y.hasPendingWrites?(e.addEntry(g),d=d.insert(m,g)):le(ap,"Ignoring outdated watch update for ",m,". Current version:",y.version," Watch version:",g.version)}),{qs:d,Qs:o}})}function cR(r,e){const n=Re(r);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Qm),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function hR(r,e){const n=Re(r);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.Ti.getTargetData(s,e).next(u=>u?(o=u,W.resolve(o)):n.Ti.allocateTargetId(s).next(d=>(o=new Or(e,d,"TargetPurposeListen",s.currentSequenceNumber),n.Ti.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.xs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.xs=n.xs.insert(s.targetId,s),n.Os.set(e,s.targetId)),s})}async function Sm(r,e,n){const s=Re(r),o=s.xs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,d=>s.persistence.referenceDelegate.removeTarget(d,o))}catch(d){if(!uo(d))throw d;le(ap,`Failed to update sequence numbers for target ${e}: ${d}`)}s.xs=s.xs.remove(e),s.Os.delete(o.target)}function r0(r,e,n){const s=Re(r);let o=Se.min(),u=Ue();return s.persistence.runTransaction("Execute query","readwrite",d=>function(g,y,E){const w=Re(g),x=w.Os.get(E);return x!==void 0?W.resolve(w.xs.get(x)):w.Ti.getTargetData(y,E)}(s,d,fi(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.Ti.getMatchingKeysForTargetId(d,m.targetId).next(g=>{u=g})}).next(()=>s.Ms.getDocumentsMatchingQuery(d,e,n?o:Se.min(),n?u:Ue())).next(m=>(dR(s,Wx(e),m),{documents:m,$s:u})))}function dR(r,e,n){let s=r.Ns.get(e)||Se.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),r.Ns.set(e,s)}class s0{constructor(){this.activeTargetIds=r2()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class fR{constructor(){this.xo=new s0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,n,s){this.Oo[e]=n}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new s0,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0="ConnectivityMonitor";class o0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){le(a0,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){le(a0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kc=null;function xm(){return kc===null?kc=function(){return 268435456+Math.round(2147483648*Math.random())}():kc++,"0x"+kc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $f="RestConnection",pR={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class gR{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Ko=n+"://"+e.host,this.Wo=`projects/${s}/databases/${o}`,this.Go=this.databaseId.database===Zc?`project_id=${s}`:`project_id=${s}&database_id=${o}`}zo(e,n,s,o,u){const d=xm(),m=this.jo(e,n.toUriEncodedString());le($f,`Sending RPC '${e}' ${d}:`,m,s);const g={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(g,o,u);const{host:y}=new URL(m),E=so(y);return this.Jo(e,m,g,s,E).then(w=>(le($f,`Received RPC '${e}' ${d}: `,w),w),w=>{throw Ka($f,`RPC '${e}' ${d} failed with error: `,w,"url: ",m,"request:",s),w})}Yo(e,n,s,o,u,d){return this.zo(e,n,s,o,u)}Ho(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+oo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}jo(e,n){const s=pR[e];return`${this.Ko}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yR{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $t="WebChannelConnection";class vR extends gR{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,n,s,o,u){const d=xm();return new Promise((m,g)=>{const y=new xb;y.setWithCredentials(!0),y.listenOnce(Rb.COMPLETE,()=>{try{switch(y.getLastErrorCode()){case Pc.NO_ERROR:const w=y.getResponseJson();le($t,`XHR for RPC '${e}' ${d} received:`,JSON.stringify(w)),m(w);break;case Pc.TIMEOUT:le($t,`RPC '${e}' ${d} timed out`),g(new he(J.DEADLINE_EXCEEDED,"Request time out"));break;case Pc.HTTP_ERROR:const x=y.getStatus();if(le($t,`RPC '${e}' ${d} failed with status:`,x,"response text:",y.getResponseText()),x>0){let k=y.getResponseJson();Array.isArray(k)&&(k=k[0]);const V=k==null?void 0:k.error;if(V&&V.status&&V.message){const Q=function(oe){const ae=oe.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(ae)>=0?ae:J.UNKNOWN}(V.status);g(new he(Q,V.message))}else g(new he(J.UNKNOWN,"Server responded with status "+y.getStatus()))}else g(new he(J.UNAVAILABLE,"Connection failed."));break;default:Te(9055,{h_:e,streamId:d,P_:y.getLastErrorCode(),T_:y.getLastError()})}}finally{le($t,`RPC '${e}' ${d} completed.`)}});const E=JSON.stringify(o);le($t,`RPC '${e}' ${d} sending request:`,o),y.send(n,"POST",E,s,15)})}I_(e,n,s){const o=xm(),u=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],d=Cb(),m=Nb(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},y=this.longPollingOptions.timeoutSeconds;y!==void 0&&(g.longPollingTimeout=Math.round(1e3*y)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Ho(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const E=u.join("");le($t,`Creating RPC '${e}' stream ${o}: ${E}`,g);const w=d.createWebChannel(E,g);this.E_(w);let x=!1,k=!1;const V=new yR({Zo:G=>{k?le($t,`Not sending because RPC '${e}' stream ${o} is closed:`,G):(x||(le($t,`Opening RPC '${e}' stream ${o} transport.`),w.open(),x=!0),le($t,`RPC '${e}' stream ${o} sending:`,G),w.send(G))},Xo:()=>w.close()}),Q=(G,oe,ae)=>{G.listen(oe,ce=>{try{ae(ce)}catch(_e){setTimeout(()=>{throw _e},0)}})};return Q(w,xl.EventType.OPEN,()=>{k||(le($t,`RPC '${e}' stream ${o} transport opened.`),V.__())}),Q(w,xl.EventType.CLOSE,()=>{k||(k=!0,le($t,`RPC '${e}' stream ${o} transport closed`),V.u_(),this.d_(w))}),Q(w,xl.EventType.ERROR,G=>{k||(k=!0,Ka($t,`RPC '${e}' stream ${o} transport errored. Name:`,G.name,"Message:",G.message),V.u_(new he(J.UNAVAILABLE,"The operation could not be completed")))}),Q(w,xl.EventType.MESSAGE,G=>{var oe;if(!k){const ae=G.data[0];Ke(!!ae,16349);const ce=ae,_e=(ce==null?void 0:ce.error)||((oe=ce[0])===null||oe===void 0?void 0:oe.error);if(_e){le($t,`RPC '${e}' stream ${o} received error:`,_e);const pe=_e.status;let Y=function(R){const M=Tt[R];if(M!==void 0)return cE(M)}(pe),N=_e.message;Y===void 0&&(Y=J.INTERNAL,N="Unknown error status: "+pe+" with message "+_e.message),k=!0,V.u_(new he(Y,N)),w.close()}else le($t,`RPC '${e}' stream ${o} received:`,ae),V.c_(ae)}}),Q(m,Ib.STAT_EVENT,G=>{G.stat===fm.PROXY?le($t,`RPC '${e}' stream ${o} detected buffering proxy`):G.stat===fm.NOPROXY&&le($t,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{V.a_()},0),V}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(n=>n===e)}}function Zf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ah(r){return new T2(r,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE{constructor(e,n,s=1e3,o=1.5,u=6e4){this.xi=e,this.timerId=n,this.A_=s,this.R_=o,this.V_=u,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const n=Math.floor(this.m_+this.w_()),s=Math.max(0,Date.now()-this.g_),o=Math.max(0,n-s);o>0&&le("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.m_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,o,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0="PersistentStream";class SE{constructor(e,n,s,o,u,d,m,g){this.xi=e,this.S_=s,this.D_=o,this.connection=u,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new wE(e,n)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,n){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():n&&n.code===J.RESOURCE_EXHAUSTED?(Ki(n.toString()),Ki("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):n&&n.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(n)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),n=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.v_===n&&this.z_(s,o)},s=>{e(()=>{const o=new he(J.UNKNOWN,"Fetching auth token failed: "+s.message);return this.j_(o)})})}z_(e,n){const s=this.G_(this.v_);this.stream=this.H_(e,n),this.stream.e_(()=>{s(()=>this.listener.e_())}),this.stream.n_(()=>{s(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(o=>{s(()=>this.j_(o))}),this.stream.onMessage(o=>{s(()=>++this.M_==1?this.J_(o):this.onNext(o))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return le(l0,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return n=>{this.xi.enqueueAndForget(()=>this.v_===e?n():(le(l0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _R extends SE{constructor(e,n,s,o,u,d){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}H_(e,n){return this.connection.I_("Listen",e,n)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const n=S2(this.serializer,e),s=function(u){if(!("targetChange"in u))return Se.min();const d=u.targetChange;return d.targetIds&&d.targetIds.length?Se.min():d.readTime?mi(d.readTime):Se.min()}(e);return this.listener.Y_(n,s)}Z_(e){const n={};n.database=wm(this.serializer),n.addTarget=function(u,d){let m;const g=d.target;if(m=vm(g)?{documents:I2(u,g)}:{query:N2(u,g).gt},m.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){m.resumeToken=fE(u,d.resumeToken);const y=Em(u,d.expectedCount);y!==null&&(m.expectedCount=y)}else if(d.snapshotVersion.compareTo(Se.min())>0){m.readTime=nh(u,d.snapshotVersion.toTimestamp());const y=Em(u,d.expectedCount);y!==null&&(m.expectedCount=y)}return m}(this.serializer,e);const s=D2(this.serializer,e);s&&(n.labels=s),this.Q_(n)}X_(e){const n={};n.database=wm(this.serializer),n.removeTarget=e,this.Q_(n)}}class bR extends SE{constructor(e,n,s,o,u,d){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,d),this.serializer=u}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,n){return this.connection.I_("Write",e,n)}J_(e){return Ke(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ke(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ke(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const n=R2(e.writeResults,e.commitTime),s=mi(e.commitTime);return this.listener.ra(s,n)}ia(){const e={};e.database=wm(this.serializer),this.Q_(e)}ta(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>x2(this.serializer,s))};this.Q_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{}class TR extends ER{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.sa=!1}oa(){if(this.sa)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,n,s,o){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,d])=>this.connection.zo(e,Tm(n,s),o,u,d)).catch(u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new he(J.UNKNOWN,u.toString())})}Yo(e,n,s,o,u){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,m])=>this.connection.Yo(e,Tm(n,s),o,d,m,u)).catch(d=>{throw d.name==="FirebaseError"?(d.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new he(J.UNKNOWN,d.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class AR{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(Ki(n),this.ua=!1):le("OnlineStateTracker",n)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ls="RemoteStore";class wR{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=u,this.Ra.No(d=>{s.enqueueAndForget(async()=>{qs(this)&&(le(Ls,"Restarting streams for network reachability change."),await async function(g){const y=Re(g);y.da.add(4),await Zl(y),y.Va.set("Unknown"),y.da.delete(4),await wh(y)}(this))})}),this.Va=new AR(s,o)}}async function wh(r){if(qs(r))for(const e of r.Aa)await e(!0)}async function Zl(r){for(const e of r.Aa)await e(!1)}function xE(r,e){const n=Re(r);n.Ea.has(e.targetId)||(n.Ea.set(e.targetId,e),cp(n)?up(n):ho(n).N_()&&lp(n,e))}function op(r,e){const n=Re(r),s=ho(n);n.Ea.delete(e),s.N_()&&RE(n,e),n.Ea.size===0&&(s.N_()?s.k_():qs(n)&&n.Va.set("Unknown"))}function lp(r,e){if(r.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const n=r.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ho(r).Z_(e)}function RE(r,e){r.ma.Ke(e),ho(r).X_(e)}function up(r){r.ma=new v2({getRemoteKeysForTarget:e=>r.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>r.Ea.get(e)||null,Pt:()=>r.datastore.serializer.databaseId}),ho(r).start(),r.Va.ca()}function cp(r){return qs(r)&&!ho(r).O_()&&r.Ea.size>0}function qs(r){return Re(r).da.size===0}function IE(r){r.ma=void 0}async function SR(r){r.Va.set("Online")}async function xR(r){r.Ea.forEach((e,n)=>{lp(r,e)})}async function RR(r,e){IE(r),cp(r)?(r.Va.Pa(e),up(r)):r.Va.set("Unknown")}async function IR(r,e,n){if(r.Va.set("Online"),e instanceof dE&&e.state===2&&e.cause)try{await async function(o,u){const d=u.cause;for(const m of u.targetIds)o.Ea.has(m)&&(await o.remoteSyncer.rejectListen(m,d),o.Ea.delete(m),o.ma.removeTarget(m))}(r,e)}catch(s){le(Ls,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await rh(r,s)}else if(e instanceof zc?r.ma.Xe(e):e instanceof hE?r.ma.ot(e):r.ma.nt(e),!n.isEqual(Se.min()))try{const s=await AE(r.localStore);n.compareTo(s)>=0&&await function(u,d){const m=u.ma.It(d);return m.targetChanges.forEach((g,y)=>{if(g.resumeToken.approximateByteSize()>0){const E=u.Ea.get(y);E&&u.Ea.set(y,E.withResumeToken(g.resumeToken,d))}}),m.targetMismatches.forEach((g,y)=>{const E=u.Ea.get(g);if(!E)return;u.Ea.set(g,E.withResumeToken(Qt.EMPTY_BYTE_STRING,E.snapshotVersion)),RE(u,g);const w=new Or(E.target,g,y,E.sequenceNumber);lp(u,w)}),u.remoteSyncer.applyRemoteEvent(m)}(r,n)}catch(s){le(Ls,"Failed to raise snapshot:",s),await rh(r,s)}}async function rh(r,e,n){if(!uo(e))throw e;r.da.add(1),await Zl(r),r.Va.set("Offline"),n||(n=()=>AE(r.localStore)),r.asyncQueue.enqueueRetryable(async()=>{le(Ls,"Retrying IndexedDB access"),await n(),r.da.delete(1),await wh(r)})}function NE(r,e){return e().catch(n=>rh(r,n,e))}async function Sh(r){const e=Re(r),n=Fr(e);let s=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Qm;for(;NR(e);)try{const o=await cR(e.localStore,s);if(o===null){e.Ia.length===0&&n.k_();break}s=o.batchId,CR(e,o)}catch(o){await rh(e,o)}CE(e)&&DE(e)}function NR(r){return qs(r)&&r.Ia.length<10}function CR(r,e){r.Ia.push(e);const n=Fr(r);n.N_()&&n.ea&&n.ta(e.mutations)}function CE(r){return qs(r)&&!Fr(r).O_()&&r.Ia.length>0}function DE(r){Fr(r).start()}async function DR(r){Fr(r).ia()}async function OR(r){const e=Fr(r);for(const n of r.Ia)e.ta(n.mutations)}async function MR(r,e,n){const s=r.Ia.shift(),o=ep.from(s,e,n);await NE(r,()=>r.remoteSyncer.applySuccessfulWrite(o)),await Sh(r)}async function kR(r,e){e&&Fr(r).ea&&await async function(s,o){if(function(d){return g2(d)&&d!==J.ABORTED}(o.code)){const u=s.Ia.shift();Fr(s).L_(),await NE(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await Sh(s)}}(r,e),CE(r)&&DE(r)}async function u0(r,e){const n=Re(r);n.asyncQueue.verifyOperationInProgress(),le(Ls,"RemoteStore received new credentials");const s=qs(n);n.da.add(3),await Zl(n),s&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.da.delete(3),await wh(n)}async function VR(r,e){const n=Re(r);e?(n.da.delete(2),await wh(n)):e||(n.da.add(2),await Zl(n),n.Va.set("Unknown"))}function ho(r){return r.fa||(r.fa=function(n,s,o){const u=Re(n);return u.oa(),new _R(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:SR.bind(null,r),n_:xR.bind(null,r),i_:RR.bind(null,r),Y_:IR.bind(null,r)}),r.Aa.push(async e=>{e?(r.fa.L_(),cp(r)?up(r):r.Va.set("Unknown")):(await r.fa.stop(),IE(r))})),r.fa}function Fr(r){return r.ga||(r.ga=function(n,s,o){const u=Re(n);return u.oa(),new bR(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(r.datastore,r.asyncQueue,{e_:()=>Promise.resolve(),n_:DR.bind(null,r),i_:kR.bind(null,r),na:OR.bind(null,r),ra:MR.bind(null,r)}),r.Aa.push(async e=>{e?(r.ga.L_(),await Sh(r)):(await r.ga.stop(),r.Ia.length>0&&(le(Ls,`Stopping write stream with ${r.Ia.length} pending writes`),r.Ia=[]))})),r.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hp{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new ks,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const d=Date.now()+s,m=new hp(e,n,d,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new he(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function dp(r,e){if(Ki("AsyncQueue",`${e}: ${r}`),uo(r))return new he(J.UNAVAILABLE,`${e}: ${r}`);throw r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{static emptySet(e){return new qa(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=Rl(),this.sortedSet=new ut(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new qa;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c0{constructor(){this.pa=new ut(ye.comparator)}track(e){const n=e.doc.key,s=this.pa.get(n);s?e.type!==0&&s.type===3?this.pa=this.pa.insert(n,e):e.type===3&&s.type!==1?this.pa=this.pa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.pa=this.pa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.pa=this.pa.remove(n):e.type===1&&s.type===2?this.pa=this.pa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.pa=this.pa.insert(n,{type:2,doc:e.doc}):Te(63341,{Vt:e,ya:s}):this.pa=this.pa.insert(n,e)}wa(){const e=[];return this.pa.inorderTraversal((n,s)=>{e.push(s)}),e}}class Wa{constructor(e,n,s,o,u,d,m,g,y){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=d,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=y}static fromInitialDocuments(e,n,s,o,u){const d=[];return n.forEach(m=>{d.push({type:0,doc:m})}),new Wa(e,n,qa.emptySet(n),d,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PR{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class jR{constructor(){this.queries=h0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=h0(),u.forEach((d,m)=>{for(const g of m.Sa)g.onError(s)})})(this,new he(J.ABORTED,"Firestore shutting down"))}}function h0(){return new Bs(r=>Wb(r),vh)}async function UR(r,e){const n=Re(r);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Da()&&e.va()&&(s=2):(u=new PR,s=e.va()?0:1);try{switch(s){case 0:u.ba=await n.onListen(o,!0);break;case 1:u.ba=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(d){const m=dp(d,`Initialization of query '${Ua(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.Sa.push(e),e.Fa(n.onlineState),u.ba&&e.Ma(u.ba)&&fp(n)}async function LR(r,e){const n=Re(r),s=e.query;let o=3;const u=n.queries.get(s);if(u){const d=u.Sa.indexOf(e);d>=0&&(u.Sa.splice(d,1),u.Sa.length===0?o=e.va()?0:1:!u.Da()&&e.va()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function zR(r,e){const n=Re(r);let s=!1;for(const o of e){const u=o.query,d=n.queries.get(u);if(d){for(const m of d.Sa)m.Ma(o)&&(s=!0);d.ba=o}}s&&fp(n)}function BR(r,e,n){const s=Re(r),o=s.queries.get(e);if(o)for(const u of o.Sa)u.onError(n);s.queries.delete(e)}function fp(r){r.Ca.forEach(e=>{e.next()})}var Rm,d0;(d0=Rm||(Rm={})).xa="default",d0.Cache="cache";class qR{constructor(e,n,s){this.query=e,this.Oa=n,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=s||{}}Ma(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new Wa(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Na?this.La(e)&&(this.Oa.next(e),n=!0):this.ka(e,this.onlineState)&&(this.qa(e),n=!0),this.Ba=e,n}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let n=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),n=!0),n}ka(e,n){if(!e.fromCache||!this.va())return!0;const s=n!=="Offline";return(!this.options.Qa||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}La(e){if(e.docChanges.length>0)return!0;const n=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}qa(e){e=Wa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==Rm.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.key=e}}class ME{constructor(e){this.key=e}}class HR{constructor(e,n){this.query=e,this.Ha=n,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ue(),this.mutatedKeys=Ue(),this.Za=Jb(e),this.Xa=new qa(this.Za)}get eu(){return this.Ha}tu(e,n){const s=n?n.nu:new c0,o=n?n.Xa:this.Xa;let u=n?n.mutatedKeys:this.mutatedKeys,d=o,m=!1;const g=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,y=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,w)=>{const x=o.get(E),k=_h(this.query,w)?w:null,V=!!x&&this.mutatedKeys.has(x.key),Q=!!k&&(k.hasLocalMutations||this.mutatedKeys.has(k.key)&&k.hasCommittedMutations);let G=!1;x&&k?x.data.isEqual(k.data)?V!==Q&&(s.track({type:3,doc:k}),G=!0):this.ru(x,k)||(s.track({type:2,doc:k}),G=!0,(g&&this.Za(k,g)>0||y&&this.Za(k,y)<0)&&(m=!0)):!x&&k?(s.track({type:0,doc:k}),G=!0):x&&!k&&(s.track({type:1,doc:x}),G=!0,(g||y)&&(m=!0)),G&&(k?(d=d.add(k),u=Q?u.add(E):u.delete(E)):(d=d.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const E=this.query.limitType==="F"?d.last():d.first();d=d.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{Xa:d,nu:s,Cs:m,mutatedKeys:u}}ru(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const d=e.nu.wa();d.sort((E,w)=>function(k,V){const Q=G=>{switch(G){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Te(20277,{Vt:G})}};return Q(k)-Q(V)}(E.type,w.type)||this.Za(E.doc,w.doc)),this.iu(s),o=o!=null&&o;const m=n&&!o?this.su():[],g=this.Ya.size===0&&this.current&&!o?1:0,y=g!==this.Ja;return this.Ja=g,d.length!==0||y?{snapshot:new Wa(this.query,e.Xa,u,d,e.mutatedKeys,g===0,y,!1,!!s&&s.resumeToken.approximateByteSize()>0),ou:m}:{ou:m}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new c0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=Ue(),this.Xa.forEach(s=>{this._u(s.key)&&(this.Ya=this.Ya.add(s.key))});const n=[];return e.forEach(s=>{this.Ya.has(s)||n.push(new ME(s))}),this.Ya.forEach(s=>{e.has(s)||n.push(new OE(s))}),n}au(e){this.Ha=e.$s,this.Ya=Ue();const n=this.tu(e.documents);return this.applyChanges(n,!0)}uu(){return Wa.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const mp="SyncEngine";class GR{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class FR{constructor(e){this.key=e,this.cu=!1}}class QR{constructor(e,n,s,o,u,d){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=d,this.lu={},this.hu=new Bs(m=>Wb(m),vh),this.Pu=new Map,this.Tu=new Set,this.Iu=new ut(ye.comparator),this.Eu=new Map,this.du=new ip,this.Au={},this.Ru=new Map,this.Vu=Za.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function KR(r,e,n=!0){const s=LE(r);let o;const u=s.hu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.uu()):o=await kE(s,e,n,!0),o}async function YR(r,e){const n=LE(r);await kE(n,e,!0,!1)}async function kE(r,e,n,s){const o=await hR(r.localStore,fi(e)),u=o.targetId,d=r.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await XR(r,e,u,d==="current",o.resumeToken)),r.isPrimaryClient&&n&&xE(r.remoteStore,o),m}async function XR(r,e,n,s,o){r.fu=(w,x,k)=>async function(Q,G,oe,ae){let ce=G.view.tu(oe);ce.Cs&&(ce=await r0(Q.localStore,G.query,!1).then(({documents:N})=>G.view.tu(N,ce)));const _e=ae&&ae.targetChanges.get(G.targetId),pe=ae&&ae.targetMismatches.get(G.targetId)!=null,Y=G.view.applyChanges(ce,Q.isPrimaryClient,_e,pe);return m0(Q,G.targetId,Y.ou),Y.snapshot}(r,w,x,k);const u=await r0(r.localStore,e,!0),d=new HR(e,u.$s),m=d.tu(u.documents),g=$l.createSynthesizedTargetChangeForCurrentChange(n,s&&r.onlineState!=="Offline",o),y=d.applyChanges(m,r.isPrimaryClient,g);m0(r,n,y.ou);const E=new GR(e,n,d);return r.hu.set(e,E),r.Pu.has(n)?r.Pu.get(n).push(e):r.Pu.set(n,[e]),y.snapshot}async function $R(r,e,n){const s=Re(r),o=s.hu.get(e),u=s.Pu.get(o.targetId);if(u.length>1)return s.Pu.set(o.targetId,u.filter(d=>!vh(d,e))),void s.hu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await Sm(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&op(s.remoteStore,o.targetId),Im(s,o.targetId)}).catch(lo)):(Im(s,o.targetId),await Sm(s.localStore,o.targetId,!0))}async function ZR(r,e){const n=Re(r),s=n.hu.get(e),o=n.Pu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),op(n.remoteStore,s.targetId))}async function WR(r,e,n){const s=sI(r);try{const o=await function(d,m){const g=Re(d),y=Dt.now(),E=m.reduce((k,V)=>k.add(V.key),Ue());let w,x;return g.persistence.runTransaction("Locally write mutations","readwrite",k=>{let V=Yi(),Q=Ue();return g.Bs.getEntries(k,E).next(G=>{V=G,V.forEach((oe,ae)=>{ae.isValidDocument()||(Q=Q.add(oe))})}).next(()=>g.localDocuments.getOverlayedDocuments(k,V)).next(G=>{w=G;const oe=[];for(const ae of m){const ce=h2(ae,w.get(ae.key).overlayedDocument);ce!=null&&oe.push(new Yr(ae.key,ce,Gb(ce.value.mapValue),Kn.exists(!0)))}return g.mutationQueue.addMutationBatch(k,y,oe,m)}).next(G=>{x=G;const oe=G.applyToLocalDocumentSet(w,Q);return g.documentOverlayCache.saveOverlays(k,G.batchId,oe)})}).then(()=>({batchId:x.batchId,changes:tE(w)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(d,m,g){let y=d.Au[d.currentUser.toKey()];y||(y=new ut(Oe)),y=y.insert(m,g),d.Au[d.currentUser.toKey()]=y}(s,o.batchId,n),await Wl(s,o.changes),await Sh(s.remoteStore)}catch(o){const u=dp(o,"Failed to persist write");n.reject(u)}}async function VE(r,e){const n=Re(r);try{const s=await lR(n.localStore,e);e.targetChanges.forEach((o,u)=>{const d=n.Eu.get(u);d&&(Ke(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?d.cu=!0:o.modifiedDocuments.size>0?Ke(d.cu,14607):o.removedDocuments.size>0&&(Ke(d.cu,42227),d.cu=!1))}),await Wl(n,s,e)}catch(s){await lo(s)}}function f0(r,e,n){const s=Re(r);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.hu.forEach((u,d)=>{const m=d.view.Fa(e);m.snapshot&&o.push(m.snapshot)}),function(d,m){const g=Re(d);g.onlineState=m;let y=!1;g.queries.forEach((E,w)=>{for(const x of w.Sa)x.Fa(m)&&(y=!0)}),y&&fp(g)}(s.eventManager,e),o.length&&s.lu.Y_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function JR(r,e,n){const s=Re(r);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let d=new ut(ye.comparator);d=d.insert(u,Wt.newNoDocument(u,Se.min()));const m=Ue().add(u),g=new Th(Se.min(),new Map,new ut(Oe),d,m);await VE(s,g),s.Iu=s.Iu.remove(u),s.Eu.delete(e),pp(s)}else await Sm(s.localStore,e,!1).then(()=>Im(s,e,n)).catch(lo)}async function eI(r,e){const n=Re(r),s=e.batch.batchId;try{const o=await oR(n.localStore,e);jE(n,s,null),PE(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Wl(n,o)}catch(o){await lo(o)}}async function tI(r,e,n){const s=Re(r);try{const o=await function(d,m){const g=Re(d);return g.persistence.runTransaction("Reject batch","readwrite-primary",y=>{let E;return g.mutationQueue.lookupMutationBatch(y,m).next(w=>(Ke(w!==null,37113),E=w.keys(),g.mutationQueue.removeMutationBatch(y,w))).next(()=>g.mutationQueue.performConsistencyCheck(y)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(y,E,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(y,E)).next(()=>g.localDocuments.getDocuments(y,E))})}(s.localStore,e);jE(s,e,n),PE(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Wl(s,o)}catch(o){await lo(o)}}function PE(r,e){(r.Ru.get(e)||[]).forEach(n=>{n.resolve()}),r.Ru.delete(e)}function jE(r,e,n){const s=Re(r);let o=s.Au[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Au[s.currentUser.toKey()]=o}}function Im(r,e,n=null){r.sharedClientState.removeLocalQueryTarget(e);for(const s of r.Pu.get(e))r.hu.delete(s),n&&r.lu.gu(s,n);r.Pu.delete(e),r.isPrimaryClient&&r.du.Hr(e).forEach(s=>{r.du.containsKey(s)||UE(r,s)})}function UE(r,e){r.Tu.delete(e.path.canonicalString());const n=r.Iu.get(e);n!==null&&(op(r.remoteStore,n),r.Iu=r.Iu.remove(e),r.Eu.delete(n),pp(r))}function m0(r,e,n){for(const s of n)s instanceof OE?(r.du.addReference(s.key,e),nI(r,s)):s instanceof ME?(le(mp,"Document no longer in limbo: "+s.key),r.du.removeReference(s.key,e),r.du.containsKey(s.key)||UE(r,s.key)):Te(19791,{pu:s})}function nI(r,e){const n=e.key,s=n.path.canonicalString();r.Iu.get(n)||r.Tu.has(s)||(le(mp,"New document in limbo: "+n),r.Tu.add(s),pp(r))}function pp(r){for(;r.Tu.size>0&&r.Iu.size<r.maxConcurrentLimboResolutions;){const e=r.Tu.values().next().value;r.Tu.delete(e);const n=new ye(st.fromString(e)),s=r.Vu.next();r.Eu.set(s,new FR(n)),r.Iu=r.Iu.insert(n,s),xE(r.remoteStore,new Or(fi(Zm(n.path)),s,"TargetPurposeLimboResolution",ph.le))}}async function Wl(r,e,n){const s=Re(r),o=[],u=[],d=[];s.hu.isEmpty()||(s.hu.forEach((m,g)=>{d.push(s.fu(g,e,n).then(y=>{var E;if((y||n)&&s.isPrimaryClient){const w=y?!y.fromCache:(E=n==null?void 0:n.targetChanges.get(g.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(g.targetId,w?"current":"not-current")}if(y){o.push(y);const w=sp.Rs(g.targetId,y);u.push(w)}}))}),await Promise.all(d),s.lu.Y_(o),await async function(g,y){const E=Re(g);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",w=>W.forEach(y,x=>W.forEach(x.ds,k=>E.persistence.referenceDelegate.addReference(w,x.targetId,k)).next(()=>W.forEach(x.As,k=>E.persistence.referenceDelegate.removeReference(w,x.targetId,k)))))}catch(w){if(!uo(w))throw w;le(ap,"Failed to update sequence numbers: "+w)}for(const w of y){const x=w.targetId;if(!w.fromCache){const k=E.xs.get(x),V=k.snapshotVersion,Q=k.withLastLimboFreeSnapshotVersion(V);E.xs=E.xs.insert(x,Q)}}}(s.localStore,u))}async function iI(r,e){const n=Re(r);if(!n.currentUser.isEqual(e)){le(mp,"User change. New user:",e.toKey());const s=await TE(n.localStore,e);n.currentUser=e,function(u,d){u.Ru.forEach(m=>{m.forEach(g=>{g.reject(new he(J.CANCELLED,d))})}),u.Ru.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Wl(n,s.ks)}}function rI(r,e){const n=Re(r),s=n.Eu.get(e);if(s&&s.cu)return Ue().add(s.key);{let o=Ue();const u=n.Pu.get(e);if(!u)return o;for(const d of u){const m=n.hu.get(d);o=o.unionWith(m.view.eu)}return o}}function LE(r){const e=Re(r);return e.remoteStore.remoteSyncer.applyRemoteEvent=VE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=rI.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=JR.bind(null,e),e.lu.Y_=zR.bind(null,e.eventManager),e.lu.gu=BR.bind(null,e.eventManager),e}function sI(r){const e=Re(r);return e.remoteStore.remoteSyncer.applySuccessfulWrite=eI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=tI.bind(null,e),e}class sh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Ah(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,n){return null}Cu(e,n){return null}Du(e){return aR(this.persistence,new iR,e.initialUser,this.serializer)}Su(e){return new EE(rp.fi,this.serializer)}bu(e){return new fR}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sh.provider={build:()=>new sh};class aI extends sh{constructor(e){super(),this.cacheSizeBytes=e}vu(e,n){Ke(this.persistence.referenceDelegate instanceof ih,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new q2(s,e.asyncQueue,n)}Su(e){const n=this.cacheSizeBytes!==void 0?cn.withCacheSize(this.cacheSizeBytes):cn.DEFAULT;return new EE(s=>ih.fi(s,n),this.serializer)}}class Nm{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>f0(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=iI.bind(null,this.syncEngine),await VR(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new jR}()}createDatastore(e){const n=Ah(e.databaseInfo.databaseId),s=function(u){return new vR(u)}(e.databaseInfo);return function(u,d,m,g){return new TR(u,d,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,d,m){return new wR(s,o,u,d,m)}(this.localStore,this.datastore,e.asyncQueue,n=>f0(this.syncEngine,n,0),function(){return o0.C()?new o0:new mR}())}createSyncEngine(e,n){return function(o,u,d,m,g,y,E){const w=new QR(o,u,d,m,g,y);return E&&(w.mu=!0),w}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Re(o);le(Ls,"RemoteStore shutting down."),u.da.add(5),await Zl(u),u.Ra.shutdown(),u.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Nm.provider={build:()=>new Nm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):Ki("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qr="FirestoreClient";class lI{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=Zt.UNAUTHENTICATED,this.clientId=kb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async d=>{le(Qr,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(le(Qr,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ks;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=dp(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Wf(r,e){r.asyncQueue.verifyOperationInProgress(),le(Qr,"Initializing OfflineComponentProvider");const n=r.configuration;await e.initialize(n);let s=n.initialUser;r.setCredentialChangeListener(async o=>{s.isEqual(o)||(await TE(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>r.terminate()),r._offlineComponents=e}async function p0(r,e){r.asyncQueue.verifyOperationInProgress();const n=await uI(r);le(Qr,"Initializing OnlineComponentProvider"),await e.initialize(n,r.configuration),r.setCredentialChangeListener(s=>u0(e.remoteStore,s)),r.setAppCheckTokenChangeListener((s,o)=>u0(e.remoteStore,o)),r._onlineComponents=e}async function uI(r){if(!r._offlineComponents)if(r._uninitializedComponentsProvider){le(Qr,"Using user provided OfflineComponentProvider");try{await Wf(r,r._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===J.FAILED_PRECONDITION||o.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;Ka("Error using user provided cache. Falling back to memory cache: "+n),await Wf(r,new sh)}}else le(Qr,"Using default OfflineComponentProvider"),await Wf(r,new aI(void 0));return r._offlineComponents}async function zE(r){return r._onlineComponents||(r._uninitializedComponentsProvider?(le(Qr,"Using user provided OnlineComponentProvider"),await p0(r,r._uninitializedComponentsProvider._online)):(le(Qr,"Using default OnlineComponentProvider"),await p0(r,new Nm))),r._onlineComponents}function cI(r){return zE(r).then(e=>e.syncEngine)}async function g0(r){const e=await zE(r),n=e.eventManager;return n.onListen=KR.bind(null,e.syncEngine),n.onUnlisten=$R.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=YR.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=ZR.bind(null,e.syncEngine),n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BE(r){const e={};return r.timeoutSeconds!==void 0&&(e.timeoutSeconds=r.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qE(r,e,n){if(!n)throw new he(J.INVALID_ARGUMENT,`Function ${r}() cannot be called with an empty ${e}.`)}function hI(r,e,n,s){if(e===!0&&s===!0)throw new he(J.INVALID_ARGUMENT,`${r} and ${n} cannot be used together.`)}function v0(r){if(!ye.isDocumentKey(r))throw new he(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${r} has ${r.length}.`)}function _0(r){if(ye.isDocumentKey(r))throw new he(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${r} has ${r.length}.`)}function xh(r){if(r===void 0)return"undefined";if(r===null)return"null";if(typeof r=="string")return r.length>20&&(r=`${r.substring(0,20)}...`),JSON.stringify(r);if(typeof r=="number"||typeof r=="boolean")return""+r;if(typeof r=="object"){if(r instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(r);return e?`a custom ${e} object`:"an object"}}return typeof r=="function"?"a function":Te(12329,{type:typeof r})}function Lr(r,e){if("_delegate"in r&&(r=r._delegate),!(r instanceof e)){if(e.name===r.constructor.name)throw new he(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=xh(r);throw new he(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HE="firestore.googleapis.com",b0=!0;class E0{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new he(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HE,this.ssl=b0}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:b0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=bE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<z2)throw new he(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}hI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=BE((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new he(J.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Rh{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new E0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new he(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new he(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new E0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new yx;switch(s.type){case"firstParty":return new Ex(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new he(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=y0.get(n);s&&(le("ComponentProvider","Removing Datastore"),y0.delete(n),s.terminate())}(this),Promise.resolve()}}function dI(r,e,n,s={}){var o;r=Lr(r,Rh);const u=so(e),d=r._getSettings(),m=Object.assign(Object.assign({},d),{emulatorOptions:r._getEmulatorOptions()}),g=`${e}:${n}`;u&&(yb(`https://${g}`),vb("Firestore",!0)),d.host!==HE&&d.host!==g&&Ka("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const y=Object.assign(Object.assign({},d),{host:g,ssl:u,emulatorOptions:s});if(!Ps(y,m)&&(r._setSettings(y),s.mockUserToken)){let E,w;if(typeof s.mockUserToken=="string")E=s.mockUserToken,w=Zt.MOCK_USER;else{E=Gw(s.mockUserToken,(o=r._app)===null||o===void 0?void 0:o.options.projectId);const x=s.mockUserToken.sub||s.mockUserToken.user_id;if(!x)throw new he(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Zt(x)}r._authCredentials=new vx(new Ob(E,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Hs(this.firestore,e,this._query)}}class dn{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new dn(this.firestore,e,this._key)}}class zr extends Hs{constructor(e,n,s){super(e,n,Zm(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new dn(this.firestore,null,new ye(e))}withConverter(e){return new zr(this.firestore,e,this._path)}}function Jf(r,e,...n){if(r=en(r),qE("collection","path",e),r instanceof Rh){const s=st.fromString(e,...n);return _0(s),new zr(r,null,s)}{if(!(r instanceof dn||r instanceof zr))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(st.fromString(e,...n));return _0(s),new zr(r.firestore,null,s)}}function Cm(r,e,...n){if(r=en(r),arguments.length===1&&(e=kb.newId()),qE("doc","path",e),r instanceof Rh){const s=st.fromString(e,...n);return v0(s),new dn(r,null,new ye(s))}{if(!(r instanceof dn||r instanceof zr))throw new he(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=r._path.child(st.fromString(e,...n));return v0(s),new dn(r.firestore,r instanceof zr?r.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T0="AsyncQueue";class A0{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new wE(this,"async_queue_retry"),this.rc=()=>{const s=Zf();s&&le(T0,"Visibility state changed to "+s.visibilityState),this.x_.b_()},this.sc=e;const n=Zf();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const n=Zf();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const n=new ks;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!uo(e))throw e;le(T0,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const n=this.sc.then(()=>(this.ec=!0,e().catch(s=>{throw this.Xu=s,this.ec=!1,Ki("INTERNAL UNHANDLED ERROR: ",w0(s)),s}).then(s=>(this.ec=!1,s))));return this.sc=n,n}enqueueAfterDelay(e,n,s){this.oc(),this.nc.indexOf(e)>-1&&(n=0);const o=hp.createAndSchedule(this,e,n,s,u=>this.uc(u));return this.Zu.push(o),o}oc(){this.Xu&&Te(47125,{cc:w0(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const n of this.Zu)if(n.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.Zu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const n=this.Zu.indexOf(e);this.Zu.splice(n,1)}}function w0(r){let e=r.message||"";return r.stack&&(e=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S0(r){return function(n,s){if(typeof n!="object"||n===null)return!1;const o=n;for(const u of s)if(u in o&&typeof o[u]=="function")return!0;return!1}(r,["next","error","complete"])}class Ja extends Rh{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new A0,this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new A0(e),this._firestoreClient=void 0,await e}}}function fI(r,e){const n=typeof r=="object"?r:Tb(),s=typeof r=="string"?r:Zc,o=Gm(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=qw("firestore");u&&dI(o,...u)}return o}function GE(r){if(r._terminated)throw new he(J.FAILED_PRECONDITION,"The client has already been terminated.");return r._firestoreClient||mI(r),r._firestoreClient}function mI(r){var e,n,s;const o=r._freezeSettings(),u=function(m,g,y,E){return new Px(m,g,y,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,BE(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(r._databaseId,((e=r._app)===null||e===void 0?void 0:e.options.appId)||"",r._persistenceKey,o);r._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(r._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),r._firestoreClient=new lI(r._authCredentials,r._appCheckCredentials,r._queue,u,r._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(r._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new eo(Qt.fromBase64String(e))}catch(n){throw new he(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new eo(Qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new he(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ft(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new he(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new he(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Oe(this._lat,e._lat)||Oe(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pI=/^__.*__$/;class gI{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Xl(e,this.data,n,this.fieldTransforms)}}class FE{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new Yr(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function QE(r){switch(r){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Te(40011,{Ic:r})}}class _p{constructor(e,n,s,o,u,d){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ec(),this.fieldTransforms=u||[],this.fieldMask=d||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new _p(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Vc(e),o}mc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.dc({path:s,Rc:!1});return o.Ec(),o}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return ah(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(QE(this.Ic)&&pI.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class yI{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Ah(e)}bc(e,n,s,o=!1){return new _p({Ic:e,methodName:n,wc:s,path:Ft.emptyPath(),Rc:!1,yc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function bp(r){const e=r._freezeSettings(),n=Ah(r._databaseId);return new yI(r._databaseId,!!e.ignoreUndefinedProperties,n)}function vI(r,e,n,s,o,u={}){const d=r.bc(u.merge||u.mergeFields?2:0,e,n,o);Ep("Data must be an object, but it was:",d,s);const m=KE(s,d);let g,y;if(u.merge)g=new wn(d.fieldMask),y=d.fieldTransforms;else if(u.mergeFields){const E=[];for(const w of u.mergeFields){const x=Dm(e,w,n);if(!d.contains(x))throw new he(J.INVALID_ARGUMENT,`Field '${x}' is specified in your field mask but missing from your input data.`);XE(E,x)||E.push(x)}g=new wn(E),y=d.fieldTransforms.filter(w=>g.covers(w.field))}else g=null,y=d.fieldTransforms;return new gI(new hn(m),g,y)}class Nh extends gp{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Nh}}function _I(r,e,n,s){const o=r.bc(1,e,n);Ep("Data must be an object, but it was:",o,s);const u=[],d=hn.empty();Kr(s,(g,y)=>{const E=Tp(e,g,n);y=en(y);const w=o.mc(E);if(y instanceof Nh)u.push(E);else{const x=Jl(y,w);x!=null&&(u.push(E),d.set(E,x))}});const m=new wn(u);return new FE(d,m,o.fieldTransforms)}function bI(r,e,n,s,o,u){const d=r.bc(1,e,n),m=[Dm(e,s,n)],g=[o];if(u.length%2!=0)throw new he(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let x=0;x<u.length;x+=2)m.push(Dm(e,u[x])),g.push(u[x+1]);const y=[],E=hn.empty();for(let x=m.length-1;x>=0;--x)if(!XE(y,m[x])){const k=m[x];let V=g[x];V=en(V);const Q=d.mc(k);if(V instanceof Nh)y.push(k);else{const G=Jl(V,Q);G!=null&&(y.push(k),E.set(k,G))}}const w=new wn(y);return new FE(E,w,d.fieldTransforms)}function EI(r,e,n,s=!1){return Jl(n,r.bc(s?4:3,e))}function Jl(r,e){if(YE(r=en(r)))return Ep("Unsupported field value:",e,r),KE(r,e);if(r instanceof gp)return function(s,o){if(!QE(o.Ic))throw o.gc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.gc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(r,e),null;if(r===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),r instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(s,o){const u=[];let d=0;for(const m of s){let g=Jl(m,o.fc(d));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),d++}return{arrayValue:{values:u}}}(r,e)}return function(s,o){if((s=en(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return s2(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=Dt.fromDate(s);return{timestampValue:nh(o.serializer,u)}}if(s instanceof Dt){const u=new Dt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:nh(o.serializer,u)}}if(s instanceof yp)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof eo)return{bytesValue:fE(o.serializer,s._byteString)};if(s instanceof dn){const u=o.databaseId,d=s.firestore._databaseId;if(!d.isEqual(u))throw o.gc(`Document reference is for database ${d.projectId}/${d.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:np(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof vp)return function(d,m){return{mapValue:{fields:{[qb]:{stringValue:Hb},[Wc]:{arrayValue:{values:d.toArray().map(y=>{if(typeof y!="number")throw m.gc("VectorValues must only contain numeric values.");return Wm(m.serializer,y)})}}}}}}(s,o);throw o.gc(`Unsupported field value: ${xh(s)}`)}(r,e)}function KE(r,e){const n={};return Pb(r)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Kr(r,(s,o)=>{const u=Jl(o,e.Ac(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function YE(r){return!(typeof r!="object"||r===null||r instanceof Array||r instanceof Date||r instanceof Dt||r instanceof yp||r instanceof eo||r instanceof dn||r instanceof gp||r instanceof vp)}function Ep(r,e,n){if(!YE(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const s=xh(n);throw s==="an object"?e.gc(r+" a custom object"):e.gc(r+" "+s)}}function Dm(r,e,n){if((e=en(e))instanceof Ih)return e._internalPath;if(typeof e=="string")return Tp(r,e);throw ah("Field path arguments must be of type string or ",r,!1,void 0,n)}const TI=new RegExp("[~\\*/\\[\\]]");function Tp(r,e,n){if(e.search(TI)>=0)throw ah(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,r,!1,void 0,n);try{return new Ih(...e.split("."))._internalPath}catch{throw ah(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,r,!1,void 0,n)}}function ah(r,e,n,s,o){const u=s&&!s.isEmpty(),d=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||d)&&(g+=" (found",u&&(g+=` in field ${s}`),d&&(g+=` in document ${o}`),g+=")"),new he(J.INVALID_ARGUMENT,m+r+g)}function XE(r,e){return r.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $E{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new dn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new AI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Ch("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class AI extends $E{data(){return super.data()}}function Ch(r,e){return typeof e=="string"?Tp(r,e):e instanceof Ih?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wI(r){if(r.limitType==="L"&&r.explicitOrderBy.length===0)throw new he(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ap{}class ZE extends Ap{}function x0(r,e,...n){let s=[];e instanceof Ap&&s.push(e),s=s.concat(n),function(u){const d=u.filter(g=>g instanceof wp).length,m=u.filter(g=>g instanceof Dh).length;if(d>1||d>0&&m>0)throw new he(J.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const o of s)r=o._apply(r);return r}class Dh extends ZE{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new Dh(e,n,s)}_apply(e){const n=this._parse(e);return WE(e._query,n),new Hs(e.firestore,e.converter,_m(e._query,n))}_parse(e){const n=bp(e.firestore);return function(u,d,m,g,y,E,w){let x;if(y.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new he(J.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){N0(w,E);const V=[];for(const Q of w)V.push(I0(g,u,Q));x={arrayValue:{values:V}}}else x=I0(g,u,w)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||N0(w,E),x=EI(m,d,w,E==="in"||E==="not-in");return At.create(y,E,x)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function SI(r,e,n){const s=e,o=Ch("where",r);return Dh._create(o,s,n)}class wp extends Ap{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new wp(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Yn.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(o,u){let d=o;const m=u.getFlattenedFilters();for(const g of m)WE(d,g),d=_m(d,g)}(e._query,n),new Hs(e.firestore,e.converter,_m(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sp extends ZE{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Sp(e,n)}_apply(e){const n=function(o,u,d){if(o.startAt!==null)throw new he(J.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(o.endAt!==null)throw new he(J.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hl(u,d)}(e._query,this._field,this._direction);return new Hs(e.firestore,e.converter,function(o,u){const d=o.explicitOrderBy.concat([u]);return new co(o.path,o.collectionGroup,d,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,n))}}function R0(r,e="asc"){const n=e,s=Ch("orderBy",r);return Sp._create(s,n)}function I0(r,e,n){if(typeof(n=en(n))=="string"){if(n==="")throw new he(J.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Zb(e)&&n.indexOf("/")!==-1)throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(st.fromString(n));if(!ye.isDocumentKey(s))throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return L_(r,new ye(s))}if(n instanceof dn)return L_(r,n._key);throw new he(J.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${xh(n)}.`)}function N0(r,e){if(!Array.isArray(r)||r.length===0)throw new he(J.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function WE(r,e){const n=function(o,u){for(const d of o)for(const m of d.getFlattenedFilters())if(u.indexOf(m.op)>=0)return m.op;return null}(r.filters,function(o){switch(o){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new he(J.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class xI{convertValue(e,n="none"){switch(Gr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return yt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Hr(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Te(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return Kr(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Wc].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(d=>yt(d.doubleValue));return new vp(u)}convertGeoPoint(e){return new yp(yt(e.latitude),yt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=yh(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(zl(e));default:return null}}convertTimestamp(e){const n=qr(e);return new Dt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=st.fromString(e);Ke(_E(s),9688,{name:e});const o=new Bl(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return o.isEqual(n)||Ki(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(r,e,n){let s;return s=r?r.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nl{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class JE extends $E{constructor(e,n,s,o,u,d){super(e,n,s,o,d),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Bc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(Ch("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class Bc extends JE{data(e={}){return super.data(e)}}class II{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new Nl(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Bc(this._firestore,this._userDataWriter,s.key,s,new Nl(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new he(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let d=0;return o._snapshot.docChanges.map(m=>{const g=new Bc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Nl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:d++}})}{let d=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new Bc(o._firestore,o._userDataWriter,m.doc.key,m.doc,new Nl(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let y=-1,E=-1;return m.type!==0&&(y=d.indexOf(m.doc.key),d=d.delete(m.doc.key)),m.type!==1&&(d=d.add(m.doc),E=d.indexOf(m.doc.key)),{type:NI(m.type),doc:g,oldIndex:y,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function NI(r){switch(r){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Te(61501,{type:r})}}class eT extends xI{constructor(e){super(),this.firestore=e}convertBytes(e){return new eo(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new dn(this.firestore,null,n)}}function CI(r,e,n,...s){r=Lr(r,dn);const o=Lr(r.firestore,Ja),u=bp(o);let d;return d=typeof(e=en(e))=="string"||e instanceof Ih?bI(u,"updateDoc",r._key,e,n,s):_I(u,"updateDoc",r._key,e),xp(o,[d.toMutation(r._key,Kn.exists(!0))])}function DI(r){return xp(Lr(r.firestore,Ja),[new Jm(r._key,Kn.none())])}function OI(r,e){const n=Lr(r.firestore,Ja),s=Cm(r),o=RI(r.converter,e);return xp(n,[vI(bp(r.firestore),"addDoc",s._key,o,r.converter!==null,{}).toMutation(s._key,Kn.exists(!1))]).then(()=>s)}function MI(r,...e){var n,s,o;r=en(r);let u={includeMetadataChanges:!1,source:"default"},d=0;typeof e[d]!="object"||S0(e[d])||(u=e[d],d++);const m={includeMetadataChanges:u.includeMetadataChanges,source:u.source};if(S0(e[d])){const w=e[d];e[d]=(n=w.next)===null||n===void 0?void 0:n.bind(w),e[d+1]=(s=w.error)===null||s===void 0?void 0:s.bind(w),e[d+2]=(o=w.complete)===null||o===void 0?void 0:o.bind(w)}let g,y,E;if(r instanceof dn)y=Lr(r.firestore,Ja),E=Zm(r._key.path),g={next:w=>{e[d]&&e[d](kI(y,r,w))},error:e[d+1],complete:e[d+2]};else{const w=Lr(r,Hs);y=Lr(w.firestore,Ja),E=w._query;const x=new eT(y);g={next:k=>{e[d]&&e[d](new II(y,x,w,k))},error:e[d+1],complete:e[d+2]},wI(r._query)}return function(x,k,V,Q){const G=new oI(Q),oe=new qR(k,G,V);return x.asyncQueue.enqueueAndForget(async()=>UR(await g0(x),oe)),()=>{G.xu(),x.asyncQueue.enqueueAndForget(async()=>LR(await g0(x),oe))}}(GE(y),E,m,g)}function xp(r,e){return function(s,o){const u=new ks;return s.asyncQueue.enqueueAndForget(async()=>WR(await cI(s),o,u)),u.promise}(GE(r),e)}function kI(r,e,n){const s=n.docs.get(e._key),o=new eT(r);return new JE(r,o,e._key,s,new Nl(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(o){oo=o})(ao),Qa(new js("firestore",(s,{instanceIdentifier:o,options:u})=>{const d=s.getProvider("app").getImmediate(),m=new Ja(new _x(s.getProvider("auth-internal")),new Tx(d,s.getProvider("app-check-internal")),function(y,E){if(!Object.prototype.hasOwnProperty.apply(y.options,["projectId"]))throw new he(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bl(y.options.projectId,E)}(d,o),d);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),jr(R_,I_,e),jr(R_,I_,"esm2017")})();var VI="firebase",PI="11.9.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jr(VI,PI,"app");function Rp(r,e){var n={};for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&e.indexOf(s)<0&&(n[s]=r[s]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(r);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(r,s[o])&&(n[s[o]]=r[s[o]]);return n}function tT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jI=tT,nT=new Kl("auth","Firebase",tT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oh=new qm("@firebase/auth");function UI(r,...e){oh.logLevel<=je.WARN&&oh.warn(`Auth (${ao}): ${r}`,...e)}function qc(r,...e){oh.logLevel<=je.ERROR&&oh.error(`Auth (${ao}): ${r}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xi(r,...e){throw Ip(r,...e)}function pi(r,...e){return Ip(r,...e)}function iT(r,e,n){const s=Object.assign(Object.assign({},jI()),{[e]:n});return new Kl("auth","Firebase",s).create(e,{appName:r.name})}function Vs(r){return iT(r,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ip(r,...e){if(typeof r!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=r.name),r._errorFactory.create(n,...s)}return nT.create(r,...e)}function we(r,e,...n){if(!r)throw Ip(e,...n)}function Gi(r){const e="INTERNAL ASSERTION FAILED: "+r;throw qc(e),new Error(e)}function $i(r,e){r||Gi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.href)||""}function LI(){return C0()==="http:"||C0()==="https:"}function C0(){var r;return typeof self<"u"&&((r=self.location)===null||r===void 0?void 0:r.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zI(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(LI()||$w()||"connection"in navigator)?navigator.onLine:!0}function BI(){if(typeof navigator>"u")return null;const r=navigator;return r.languages&&r.languages[0]||r.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eu{constructor(e,n){this.shortDelay=e,this.longDelay=n,$i(n>e,"Short delay should be less than long delay!"),this.isMobile=Kw()||Zw()}get(){return zI()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Np(r,e){$i(r.emulator,"Emulator should always be set here");const{url:n}=r.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Gi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Gi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Gi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],GI=new eu(3e4,6e4);function Cp(r,e){return r.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:r.tenantId}):e}async function fo(r,e,n,s,o={}){return sT(r,o,async()=>{let u={},d={};s&&(e==="GET"?d=s:u={body:JSON.stringify(s)});const m=Yl(Object.assign({key:r.config.apiKey},d)).slice(1),g=await r._getAdditionalHeaders();g["Content-Type"]="application/json",r.languageCode&&(g["X-Firebase-Locale"]=r.languageCode);const y=Object.assign({method:e,headers:g},u);return Xw()||(y.referrerPolicy="no-referrer"),r.emulatorConfig&&so(r.emulatorConfig.host)&&(y.credentials="include"),rT.fetch()(await aT(r,r.config.apiHost,n,m),y)})}async function sT(r,e,n){r._canInitEmulator=!1;const s=Object.assign(Object.assign({},qI),e);try{const o=new QI(r),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const d=await u.json();if("needConfirmation"in d)throw Vc(r,"account-exists-with-different-credential",d);if(u.ok&&!("errorMessage"in d))return d;{const m=u.ok?d.errorMessage:d.error.message,[g,y]=m.split(" : ");if(g==="FEDERATED_USER_ID_ALREADY_LINKED")throw Vc(r,"credential-already-in-use",d);if(g==="EMAIL_EXISTS")throw Vc(r,"email-already-in-use",d);if(g==="USER_DISABLED")throw Vc(r,"user-disabled",d);const E=s[g]||g.toLowerCase().replace(/[_\s]+/g,"-");if(y)throw iT(r,E,y);Xi(r,E)}}catch(o){if(o instanceof Zi)throw o;Xi(r,"network-request-failed",{message:String(o)})}}async function FI(r,e,n,s,o={}){const u=await fo(r,e,n,s,o);return"mfaPendingCredential"in u&&Xi(r,"multi-factor-auth-required",{_serverResponse:u}),u}async function aT(r,e,n,s){const o=`${e}${n}?${s}`,u=r,d=u.config.emulator?Np(r.config,o):`${r.config.apiScheme}://${o}`;return HI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(d).toString():d}class QI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(pi(this.auth,"network-request-failed")),GI.get())})}}function Vc(r,e,n){const s={appName:r.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=pi(r,e,s);return o.customData._tokenResponse=n,o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KI(r,e){return fo(r,"POST","/v1/accounts:delete",e)}async function lh(r,e){return fo(r,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(r){if(r)try{const e=new Date(Number(r));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function YI(r,e=!1){const n=en(r),s=await n.getIdToken(e),o=Dp(s);we(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,d=u==null?void 0:u.sign_in_provider;return{claims:o,token:s,authTime:Pl(em(o.auth_time)),issuedAtTime:Pl(em(o.iat)),expirationTime:Pl(em(o.exp)),signInProvider:d||null,signInSecondFactor:(u==null?void 0:u.sign_in_second_factor)||null}}function em(r){return Number(r)*1e3}function Dp(r){const[e,n,s]=r.split(".");if(e===void 0||n===void 0||s===void 0)return qc("JWT malformed, contained fewer than 3 sections"),null;try{const o=fb(n);return o?JSON.parse(o):(qc("Failed to decode base64 JWT payload"),null)}catch(o){return qc("Caught error parsing JWT payload as JSON",o==null?void 0:o.toString()),null}}function D0(r){const e=Dp(r);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ql(r,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof Zi&&XI(s)&&r.auth.currentUser===r&&await r.auth.signOut(),s}}function XI({code:r}){return r==="auth/user-disabled"||r==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $I{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Pl(this.lastLoginAt),this.creationTime=Pl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uh(r){var e;const n=r.auth,s=await r.getIdToken(),o=await Ql(r,lh(n,{idToken:s}));we(o==null?void 0:o.users.length,n,"internal-error");const u=o.users[0];r._notifyReloadListener(u);const d=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?oT(u.providerUserInfo):[],m=WI(r.providerData,d),g=r.isAnonymous,y=!(r.email&&u.passwordHash)&&!(m!=null&&m.length),E=g?y:!1,w={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new Mm(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(r,w)}async function ZI(r){const e=en(r);await uh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function WI(r,e){return[...r.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function oT(r){return r.map(e=>{var{providerId:n}=e,s=Rp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JI(r,e){const n=await sT(r,{},async()=>{const s=Yl({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=r.config,d=await aT(r,o,"/v1/token",`key=${u}`),m=await r._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const g={method:"POST",headers:m,body:s};return r.emulatorConfig&&so(r.emulatorConfig.host)&&(g.credentials="include"),rT.fetch()(d,g)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function eN(r,e){return fo(r,"POST","/v2/accounts:revokeToken",Cp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ha{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):D0(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){we(e.length!==0,"internal-error");const n=D0(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await JI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,d=new Ha;return s&&(we(typeof s=="string","internal-error",{appName:e}),d.refreshToken=s),o&&(we(typeof o=="string","internal-error",{appName:e}),d.accessToken=o),u&&(we(typeof u=="number","internal-error",{appName:e}),d.expirationTime=u),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ha,this.toJSON())}_performRefresh(){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(r,e){we(typeof r=="string"||typeof r>"u","internal-error",{appName:e})}class Qn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=Rp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new $I(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new Mm(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await Ql(this,this.stsTokenManager.getToken(this.auth,e));return we(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return YI(this,e)}reload(){return ZI(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Qn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await uh(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(di(this.auth.app))return Promise.reject(Vs(this.auth));const e=await this.getIdToken();return await Ql(this,KI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,d,m,g,y,E;const w=(s=n.displayName)!==null&&s!==void 0?s:void 0,x=(o=n.email)!==null&&o!==void 0?o:void 0,k=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,V=(d=n.photoURL)!==null&&d!==void 0?d:void 0,Q=(m=n.tenantId)!==null&&m!==void 0?m:void 0,G=(g=n._redirectEventId)!==null&&g!==void 0?g:void 0,oe=(y=n.createdAt)!==null&&y!==void 0?y:void 0,ae=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:ce,emailVerified:_e,isAnonymous:pe,providerData:Y,stsTokenManager:N}=n;we(ce&&N,e,"internal-error");const S=Ha.fromJSON(this.name,N);we(typeof ce=="string",e,"internal-error"),Rr(w,e.name),Rr(x,e.name),we(typeof _e=="boolean",e,"internal-error"),we(typeof pe=="boolean",e,"internal-error"),Rr(k,e.name),Rr(V,e.name),Rr(Q,e.name),Rr(G,e.name),Rr(oe,e.name),Rr(ae,e.name);const R=new Qn({uid:ce,auth:e,email:x,emailVerified:_e,displayName:w,isAnonymous:pe,photoURL:V,phoneNumber:k,tenantId:Q,stsTokenManager:S,createdAt:oe,lastLoginAt:ae});return Y&&Array.isArray(Y)&&(R.providerData=Y.map(M=>Object.assign({},M))),G&&(R._redirectEventId=G),R}static async _fromIdTokenResponse(e,n,s=!1){const o=new Ha;o.updateFromServerResponse(n);const u=new Qn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await uh(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];we(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?oT(o.providerUserInfo):[],d=!(o.email&&o.passwordHash)&&!(u!=null&&u.length),m=new Ha;m.updateFromIdToken(s);const g=new Qn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:d}),y={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new Mm(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!(u!=null&&u.length)};return Object.assign(g,y),g}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O0=new Map;function Fi(r){$i(r instanceof Function,"Expected a class definition");let e=O0.get(r);return e?($i(e instanceof r,"Instance stored in cache mismatched with class"),e):(e=new r,O0.set(r,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}lT.type="NONE";const M0=lT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hc(r,e,n){return`firebase:${r}:${e}:${n}`}class Ga{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=Hc(this.userKey,o.apiKey,u),this.fullPersistenceKey=Hc("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await lh(this.auth,{idToken:e}).catch(()=>{});return n?Qn._fromGetAccountInfoResponse(this.auth,n,e):null}return Qn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Ga(Fi(M0),e,s);const o=(await Promise.all(n.map(async y=>{if(await y._isAvailable())return y}))).filter(y=>y);let u=o[0]||Fi(M0);const d=Hc(s,e.config.apiKey,e.name);let m=null;for(const y of n)try{const E=await y._get(d);if(E){let w;if(typeof E=="string"){const x=await lh(e,{idToken:E}).catch(()=>{});if(!x)break;w=await Qn._fromGetAccountInfoResponse(e,x,E)}else w=Qn._fromJSON(e,E);y!==u&&(m=w),u=y;break}}catch{}const g=o.filter(y=>y._shouldAllowMigration);return!u._shouldAllowMigration||!g.length?new Ga(u,e,s):(u=g[0],m&&await u._set(d,m.toJSON()),await Promise.all(n.map(async y=>{if(y!==u)try{await y._remove(d)}catch{}})),new Ga(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(r){const e=r.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(dT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(uT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(mT(e))return"Blackberry";if(pT(e))return"Webos";if(cT(e))return"Safari";if((e.includes("chrome/")||hT(e))&&!e.includes("edge/"))return"Chrome";if(fT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=r.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function uT(r=Jt()){return/firefox\//i.test(r)}function cT(r=Jt()){const e=r.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function hT(r=Jt()){return/crios\//i.test(r)}function dT(r=Jt()){return/iemobile/i.test(r)}function fT(r=Jt()){return/android/i.test(r)}function mT(r=Jt()){return/blackberry/i.test(r)}function pT(r=Jt()){return/webos/i.test(r)}function Op(r=Jt()){return/iphone|ipad|ipod/i.test(r)||/macintosh/i.test(r)&&/mobile/i.test(r)}function tN(r=Jt()){var e;return Op(r)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function nN(){return Ww()&&document.documentMode===10}function gT(r=Jt()){return Op(r)||fT(r)||pT(r)||mT(r)||/windows phone/i.test(r)||dT(r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yT(r,e=[]){let n;switch(r){case"Browser":n=k0(Jt());break;case"Worker":n=`${k0(Jt())}-${r}`;break;default:n=r}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ao}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((d,m)=>{try{const g=e(u);d(g)}catch(g){m(g)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(r,e={}){return fo(r,"GET","/v2/passwordPolicy",Cp(r,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=6;class aN{constructor(e){var n,s,o,u;const d=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=d.minPasswordLength)!==null&&n!==void 0?n:sN,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,d,m;const g={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,g),this.validatePasswordCharacterOptions(e,g),g.isValid&&(g.isValid=(n=g.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),g.isValid&&(g.isValid=(s=g.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),g.isValid&&(g.isValid=(o=g.containsLowercaseLetter)!==null&&o!==void 0?o:!0),g.isValid&&(g.isValid=(u=g.containsUppercaseLetter)!==null&&u!==void 0?u:!0),g.isValid&&(g.isValid=(d=g.containsNumericCharacter)!==null&&d!==void 0?d:!0),g.isValid&&(g.isValid=(m=g.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),g}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new V0(this),this.idTokenSubscription=new V0(this),this.beforeStateQueue=new iN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=nT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Fi(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await Ga.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await lh(this,{idToken:e}),s=await Qn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(di(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o==null?void 0:o._redirectEventId,g=await this.tryRedirectSignIn(e);(!d||d===m)&&(g!=null&&g.user)&&(o=g.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(d){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await uh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=BI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(di(this.app))return Promise.reject(Vs(this));const n=e?en(e):null;return n&&we(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return di(this.app)?Promise.reject(Vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return di(this.app)?Promise.reject(Vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Fi(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rN(this),n=new aN(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Kl("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await eN(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Fi(e)||this._popupRedirectResolver;we(n,this,"argument-error"),this.redirectPersistenceManager=await Ga.create(this,[Fi(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let d=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(m,this,"internal-error"),m.then(()=>{d||u(this.currentUser)}),typeof n=="function"){const g=e.addObserver(n,s,o);return()=>{d=!0,g()}}else{const g=e.addObserver(n);return()=>{d=!0,g()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=yT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(di(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&UI(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Mp(r){return en(r)}class V0{constructor(e){this.auth=e,this.observer=null,this.addObserver=aS(n=>this.observer=n)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function lN(r){kp=r}function uN(r){return kp.loadJS(r)}function cN(){return kp.gapiScript}function hN(r){return`__${r}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(r,e){const n=Gm(r,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(Ps(u,e??{}))return o;Xi(o,"already-initialized")}return n.initialize({options:e})}function fN(r,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(Fi);e!=null&&e.errorMap&&r._updateErrorMap(e.errorMap),r._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function mN(r,e,n){const s=Mp(r);we(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=vT(e),{host:d,port:m}=pN(e),g=m===null?"":`:${m}`,y={url:`${u}//${d}${g}/`},E=Object.freeze({host:d,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){we(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),we(Ps(y,s.config.emulator)&&Ps(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=y,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,so(d)?(yb(`${u}//${d}${g}`),vb("Auth",!0)):gN()}function vT(r){const e=r.indexOf(":");return e<0?"":r.substr(0,e+1)}function pN(r){const e=vT(r),n=/(\/\/)?([^?#/]+)/.exec(r.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:P0(s.substr(u.length+1))}}else{const[u,d]=s.split(":");return{host:u,port:P0(d)}}}function P0(r){if(!r)return null;const e=Number(r);return isNaN(e)?null:e}function gN(){function r(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",r):r())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _T{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Gi("not implemented")}_getIdTokenResponse(e){return Gi("not implemented")}_linkToIdToken(e,n){return Gi("not implemented")}_getReauthenticationResolver(e){return Gi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Fa(r,e){return FI(r,"POST","/v1/accounts:signInWithIdp",Cp(r,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN="http://localhost";class zs extends _T{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new zs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Xi("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=Rp(n,["providerId","signInMethod"]);if(!s||!o)return null;const d=new zs(s,o);return d.idToken=u.idToken||void 0,d.accessToken=u.accessToken||void 0,d.secret=u.secret,d.nonce=u.nonce,d.pendingToken=u.pendingToken||null,d}_getIdTokenResponse(e){const n=this.buildRequest();return Fa(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Fa(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Fa(e,n)}buildRequest(){const e={requestUri:yN,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Yl(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu extends bT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends tu{constructor(){super("facebook.com")}static credential(e){return zs._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ir.credentialFromTaggedObject(e)}static credentialFromError(e){return Ir.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ir.credential(e.oauthAccessToken)}catch{return null}}}Ir.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ir.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return zs._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Nr.credential(n,s)}catch{return null}}}Nr.GOOGLE_SIGN_IN_METHOD="google.com";Nr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends tu{constructor(){super("github.com")}static credential(e){return zs._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Cr.credentialFromTaggedObject(e)}static credentialFromError(e){return Cr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Cr.credential(e.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr extends tu{constructor(){super("twitter.com")}static credential(e,n){return zs._fromParams({providerId:Dr.PROVIDER_ID,signInMethod:Dr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Dr.credentialFromTaggedObject(e)}static credentialFromError(e){return Dr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Dr.credential(n,s)}catch{return null}}}Dr.TWITTER_SIGN_IN_METHOD="twitter.com";Dr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Qn._fromIdTokenResponse(e,s,o),d=j0(s);return new to({user:u,providerId:d,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=j0(s);return new to({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function j0(r){return r.providerId?r.providerId:"phoneNumber"in r?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends Zi{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,ch.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new ch(e,n,s,o)}}function ET(r,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(r):n._getIdTokenResponse(r)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?ch._fromErrorAndOperation(r,u,e,s):u})}async function vN(r,e,n=!1){const s=await Ql(r,e._linkToIdToken(r.auth,await r.getIdToken()),n);return to._forOperation(r,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _N(r,e,n=!1){const{auth:s}=r;if(di(s.app))return Promise.reject(Vs(s));const o="reauthenticate";try{const u=await Ql(r,ET(s,o,e,r),n);we(u.idToken,s,"internal-error");const d=Dp(u.idToken);we(d,s,"internal-error");const{sub:m}=d;return we(r.uid===m,s,"user-mismatch"),to._forOperation(r,o,u)}catch(u){throw(u==null?void 0:u.code)==="auth/user-not-found"&&Xi(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bN(r,e,n=!1){if(di(r.app))return Promise.reject(Vs(r));const s="signIn",o=await ET(r,s,e),u=await to._fromIdTokenResponse(r,s,o);return n||await r._updateCurrentUser(u.user),u}function EN(r,e,n,s){return en(r).onIdTokenChanged(e,n,s)}function TN(r,e,n){return en(r).beforeAuthStateChanged(e,n)}const hh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(hh,"1"),this.storage.removeItem(hh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN=1e3,wN=10;class AT extends TT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=gT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((d,m,g)=>{this.notifyListeners(d,g)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const d=this.storage.getItem(s);!n&&this.localCache[s]===d||this.notifyListeners(s,d)},u=this.storage.getItem(s);nN()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,wN):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},AN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}AT.type="LOCAL";const SN=AT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT extends TT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}wT.type="SESSION";const ST=wT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xN(r){return Promise.all(r.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new Oh(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,d=this.handlersMap[o];if(!(d!=null&&d.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(d).map(async y=>y(n.origin,u)),g=await xN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:g})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vp(r="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return r+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,d;return new Promise((m,g)=>{const y=Vp("",20);o.port1.start();const E=setTimeout(()=>{g(new Error("unsupported_event"))},s);d={messageChannel:o,onMessage(w){const x=w;if(x.data.eventId===y)switch(x.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{g(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(x.data.response);break;default:clearTimeout(E),clearTimeout(u),g(new Error("invalid_response"));break}}},this.handlers.add(d),o.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:e,eventId:y,data:n},[o.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gi(){return window}function IN(r){gi().location.href=r}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xT(){return typeof gi().WorkerGlobalScope<"u"&&typeof gi().importScripts=="function"}async function NN(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function CN(){var r;return((r=navigator==null?void 0:navigator.serviceWorker)===null||r===void 0?void 0:r.controller)||null}function DN(){return xT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RT="firebaseLocalStorageDb",ON=1,dh="firebaseLocalStorage",IT="fbase_key";class nu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Mh(r,e){return r.transaction([dh],e?"readwrite":"readonly").objectStore(dh)}function MN(){const r=indexedDB.deleteDatabase(RT);return new nu(r).toPromise()}function km(){const r=indexedDB.open(RT,ON);return new Promise((e,n)=>{r.addEventListener("error",()=>{n(r.error)}),r.addEventListener("upgradeneeded",()=>{const s=r.result;try{s.createObjectStore(dh,{keyPath:IT})}catch(o){n(o)}}),r.addEventListener("success",async()=>{const s=r.result;s.objectStoreNames.contains(dh)?e(s):(s.close(),await MN(),e(await km()))})})}async function U0(r,e,n){const s=Mh(r,!0).put({[IT]:e,value:n});return new nu(s).toPromise()}async function kN(r,e){const n=Mh(r,!1).get(e),s=await new nu(n).toPromise();return s===void 0?null:s.value}function L0(r,e){const n=Mh(r,!0).delete(e);return new nu(n).toPromise()}const VN=800,PN=3;class NT{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await km(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>PN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(DN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await NN(),!this.activeServiceWorker)return;this.sender=new RN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||CN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await km();return await U0(e,hh,"1"),await L0(e,hh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>U0(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>kN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>L0(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=Mh(o,!1).getAll();return new nu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),VN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}NT.type="LOCAL";const jN=NT;new eu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UN(r,e){return e?Fi(e):(we(r._popupRedirectResolver,r,"argument-error"),r._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pp extends _T{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Fa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Fa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Fa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function LN(r){return bN(r.auth,new Pp(r),r.bypassAuthState)}function zN(r){const{auth:e,user:n}=r;return we(n,e,"internal-error"),_N(n,new Pp(r),r.bypassAuthState)}async function BN(r){const{auth:e,user:n}=r;return we(n,e,"internal-error"),vN(n,new Pp(r),r.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CT{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:d,type:m}=e;if(d){this.reject(d);return}const g={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(g))}catch(y){this.reject(y)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return LN;case"linkViaPopup":case"linkViaRedirect":return BN;case"reauthViaPopup":case"reauthViaRedirect":return zN;default:Xi(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN=new eu(2e3,1e4);class Ba extends CT{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,Ba.currentPopupAction&&Ba.currentPopupAction.cancel(),Ba.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){$i(this.filter.length===1,"Popup operations only handle one event");const e=Vp();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(pi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(pi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ba.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(pi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,qN.get())};e()}}Ba.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HN="pendingRedirect",Gc=new Map;class GN extends CT{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Gc.get(this.auth._key());if(!e){try{const s=await FN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Gc.set(this.auth._key(),e)}return this.bypassAuthState||Gc.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function FN(r,e){const n=YN(e),s=KN(r);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function QN(r,e){Gc.set(r._key(),e)}function KN(r){return Fi(r._redirectPersistence)}function YN(r){return Hc(HN,r.config.apiKey,r.name)}async function XN(r,e,n=!1){if(di(r.app))return Promise.reject(Vs(r));const s=Mp(r),o=UN(s,e),d=await new GN(s,o,n).execute();return d&&!n&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,e)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N=10*60*1e3;class ZN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!WN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!DT(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(pi(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=$N&&this.cachedEventUids.clear(),this.cachedEventUids.has(z0(e))}saveEventToCache(e){this.cachedEventUids.add(z0(e)),this.lastProcessedEventTime=Date.now()}}function z0(r){return[r.type,r.eventId,r.sessionId,r.tenantId].filter(e=>e).join("-")}function DT({type:r,error:e}){return r==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function WN(r){switch(r.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return DT(r);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JN(r,e={}){return fo(r,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,tC=/^https?/;async function nC(r){if(r.config.emulator)return;const{authorizedDomains:e}=await JN(r);for(const n of e)try{if(iC(n))return}catch{}Xi(r,"unauthorized-domain")}function iC(r){const e=Om(),{protocol:n,hostname:s}=new URL(e);if(r.startsWith("chrome-extension://")){const d=new URL(r);return d.hostname===""&&s===""?n==="chrome-extension:"&&r.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&d.hostname===s}if(!tC.test(n))return!1;if(eC.test(r))return s===r;const o=r.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=new eu(3e4,6e4);function B0(){const r=gi().___jsl;if(r!=null&&r.H){for(const e of Object.keys(r.H))if(r.H[e].r=r.H[e].r||[],r.H[e].L=r.H[e].L||[],r.H[e].r=[...r.H[e].L],r.CP)for(let n=0;n<r.CP.length;n++)r.CP[n]=null}}function sC(r){return new Promise((e,n)=>{var s,o,u;function d(){B0(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{B0(),n(pi(r,"network-request-failed"))},timeout:rC.get()})}if(!((o=(s=gi().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=gi().gapi)===null||u===void 0)&&u.load)d();else{const m=hN("iframefcb");return gi()[m]=()=>{gapi.load?d():n(pi(r,"network-request-failed"))},uN(`${cN()}?onload=${m}`).catch(g=>n(g))}}).catch(e=>{throw Fc=null,e})}let Fc=null;function aC(r){return Fc=Fc||sC(r),Fc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oC=new eu(5e3,15e3),lC="__/auth/iframe",uC="emulator/auth/iframe",cC={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},hC=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function dC(r){const e=r.config;we(e.authDomain,r,"auth-domain-config-required");const n=e.emulator?Np(e,uC):`https://${r.config.authDomain}/${lC}`,s={apiKey:e.apiKey,appName:r.name,v:ao},o=hC.get(r.config.apiHost);o&&(s.eid=o);const u=r._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Yl(s).slice(1)}`}async function fC(r){const e=await aC(r),n=gi().gapi;return we(n,r,"internal-error"),e.open({where:document.body,url:dC(r),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:cC,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const d=pi(r,"network-request-failed"),m=gi().setTimeout(()=>{u(d)},oC.get());function g(){gi().clearTimeout(m),o(s)}s.ping(g).then(g,()=>{u(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mC={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},pC=500,gC=600,yC="_blank",vC="http://localhost";class q0{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _C(r,e,n,s=pC,o=gC){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const g=Object.assign(Object.assign({},mC),{width:s.toString(),height:o.toString(),top:u,left:d}),y=Jt().toLowerCase();n&&(m=hT(y)?yC:n),uT(y)&&(e=e||vC,g.scrollbars="yes");const E=Object.entries(g).reduce((x,[k,V])=>`${x}${k}=${V},`,"");if(tN(y)&&m!=="_self")return bC(e||"",m),new q0(null);const w=window.open(e||"",m,E);we(w,r,"popup-blocked");try{w.focus()}catch{}return new q0(w)}function bC(r,e){const n=document.createElement("a");n.href=r,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EC="__/auth/handler",TC="emulator/auth/handler",AC=encodeURIComponent("fac");async function H0(r,e,n,s,o,u){we(r.config.authDomain,r,"auth-domain-config-required"),we(r.config.apiKey,r,"invalid-api-key");const d={apiKey:r.config.apiKey,appName:r.name,authType:n,redirectUrl:s,v:ao,eventId:o};if(e instanceof bT){e.setDefaultLanguage(r.languageCode),d.providerId=e.providerId||"",sS(e.getCustomParameters())||(d.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,w]of Object.entries({}))d[E]=w}if(e instanceof tu){const E=e.getScopes().filter(w=>w!=="");E.length>0&&(d.scopes=E.join(","))}r.tenantId&&(d.tid=r.tenantId);const m=d;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const g=await r._getAppCheckToken(),y=g?`#${AC}=${encodeURIComponent(g)}`:"";return`${wC(r)}?${Yl(m).slice(1)}${y}`}function wC({config:r}){return r.emulator?Np(r,TC):`https://${r.authDomain}/${EC}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tm="webStorageSupport";class SC{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=ST,this._completeRedirectFn=XN,this._overrideRedirectResult=QN}async _openPopup(e,n,s,o){var u;$i((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const d=await H0(e,n,s,Om(),o);return _C(e,d,Vp())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await H0(e,n,s,Om(),o);return IN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):($i(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await fC(e),s=new ZN(e);return n.register("authEvent",o=>(we(o==null?void 0:o.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(tm,{type:tm},o=>{var u;const d=(u=o==null?void 0:o[0])===null||u===void 0?void 0:u[tm];d!==void 0&&n(!!d),Xi(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=nC(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return gT()||cT()||Op()}}const xC=SC;var G0="@firebase/auth",F0="1.10.7";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RC{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IC(r){switch(r){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function NC(r){Qa(new js("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:d,authDomain:m}=s.options;we(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const g={apiKey:d,authDomain:m,clientPlatform:r,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:yT(r)},y=new oN(s,o,u,g);return fN(y,n),y},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),Qa(new js("auth-internal",e=>{const n=Mp(e.getProvider("auth").getImmediate());return(s=>new RC(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jr(G0,F0,IC(r)),jr(G0,F0,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CC=5*60,DC=gb("authIdTokenMaxAge")||CC;let Q0=null;const OC=r=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>DC)return;const o=n==null?void 0:n.token;Q0!==o&&(Q0=o,await fetch(r,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function MC(r=Tb()){const e=Gm(r,"auth");if(e.isInitialized())return e.getImmediate();const n=dN(r,{popupRedirectResolver:xC,persistence:[jN,SN,ST]}),s=gb("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const d=OC(u.toString());TN(n,d,()=>d(n.currentUser)),EN(n,m=>d(m))}}const o=mb("auth");return o&&mN(n,`http://${o}`),n}function kC(){var r,e;return(e=(r=document.getElementsByTagName("head"))===null||r===void 0?void 0:r[0])!==null&&e!==void 0?e:document}lN({loadJS(r){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",r),s.onload=e,s.onerror=o=>{const u=pi("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",kC().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});NC("Browser");const Vm={apiKey:"AIzaSyAcGsuBqpQmZYh9enwrGwKyTWiK09p2lzw",authDomain:"saudepet-a1fad.firebaseapp.com",projectId:"saudepet-a1fad",storageBucket:"saudepet-a1fad.appspot.com",messagingSenderId:"1003771808497",appId:"1:1003771808497:web:pet-health-app"},VC=Vm.apiKey==="AIzaSyAcGsuBqpQmZYh9enwrGwKyTWiK09p2lzw"&&Vm.projectId==="saudepet-a1fad";let nm=null,Fn=null,PC=null;if(VC)try{nm=Eb(Vm),Fn=fI(nm),PC=MC(nm),console.log("✅ Firebase conectado ao projeto saudepet"),console.log("📊 Firestore Database ativo - coleções serão criadas automaticamente")}catch(r){console.error("❌ Erro ao conectar com Firebase:",r.message),console.warn("🔄 Usando localStorage como fallback"),r.code&&console.error("Código do erro:",r.code)}else console.warn("⚠️ Firebase não configurado - usando localStorage");const jp=(r,e=null)=>{const[n,s]=xe.useState([]),[o,u]=xe.useState(!0),[d,m]=xe.useState(null),g=()=>`petHealth_${r}_${e||"anonymous"}`;xe.useEffect(()=>{if(Fn){let V;try{e?V=x0(Jf(Fn,r),SI("userId","==",e),R0("createdAt","desc")):V=x0(Jf(Fn,r),R0("createdAt","desc"));const Q=MI(V,G=>{const oe=G.docs.map(ae=>{var ce,_e,pe,Y;return{id:ae.id,...ae.data(),createdAt:((_e=(ce=ae.data().createdAt)==null?void 0:ce.toDate)==null?void 0:_e.call(ce))||ae.data().createdAt,updatedAt:((Y=(pe=ae.data().updatedAt)==null?void 0:pe.toDate)==null?void 0:Y.call(pe))||ae.data().updatedAt}});s(oe),u(!1),oe.length===0?console.log(`📂 Coleção '${r}' está vazia (será criada automaticamente ao adicionar itens)`):console.log(`📊 Coleção '${r}' carregada do Firestore: ${oe.length} itens`)},G=>{console.error(`❌ Erro ao acessar coleção '${r}':`,G.message),console.warn("🔄 Mudando para modo offline (localStorage)"),m(G.message),u(!1),y()});return()=>Q()}catch(Q){console.error("Erro ao configurar listener Firestore:",Q),y()}}else console.warn(`📱 Firebase não configurado - usando localStorage para '${r}'`),y()},[r,e]);const y=()=>{try{const V=localStorage.getItem(g()),Q=V?JSON.parse(V):[];s(Q),u(!1),console.log(`📱 ${r} carregados do localStorage: ${Q.length} itens`)}catch(V){console.error(`❌ Erro ao carregar ${r} do localStorage:`,V),s([]),u(!1)}},E=V=>{try{localStorage.setItem(g(),JSON.stringify(V))}catch(Q){console.error("Erro ao salvar no localStorage:",Q)}};return{data:n,loading:o,error:d,addItem:async V=>{try{const G={...Object.fromEntries(Object.entries(V).filter(([oe,ae])=>ae!=null)),userId:e||"anonymous",createdAt:new Date,updatedAt:new Date};if(console.log(`📝 Dados a serem salvos em '${r}':`,G),Fn){console.log(`📤 Criando/atualizando coleção '${r}' no Firestore...`);const oe=await OI(Jf(Fn,r),G);return console.log(`✅ Item salvo na coleção '${r}' com ID: ${oe.id}`),oe.id}else{console.log(`📱 Firebase não configurado - salvando no localStorage (${r})`);const oe={...G,id:Date.now().toString()},ae=[oe,...n];return s(ae),E(ae),oe.id}}catch(Q){throw console.error(`❌ Erro ao adicionar item em ${r}:`,Q.message),console.error("Dados que causaram erro:",V),m(Q.message),Q}},updateItem:async(V,Q)=>{try{if(Fn){console.log(`� Atualizando documento em '${r}' (ID: ${V})`);const G=Cm(Fn,r,V);await CI(G,{...Q,updatedAt:new Date}),console.log("✅ Documento atualizado no Firestore")}else{console.log(`📱 Atualizando no localStorage (${r}):`,V);const G=n.map(oe=>oe.id===V?{...oe,...Q,updatedAt:new Date}:oe);s(G),E(G)}}catch(G){throw console.error(`❌ Erro ao atualizar item em ${r}:`,G.message),m(G.message),G}},deleteItem:async V=>{try{if(Fn)console.log(`�️ Deletando documento de '${r}' (ID: ${V})`),await DI(Cm(Fn,r,V)),console.log("✅ Documento deletado do Firestore");else{console.log(`📱 Deletando do localStorage (${r}):`,V);const Q=n.filter(G=>G.id!==V);s(Q),E(Q)}}catch(Q){throw console.error(`❌ Erro ao deletar item de ${r}:`,Q.message),m(Q.message),Q}},isOffline:!Fn}},Up=(r=null)=>{const{data:e,loading:n,error:s,addItem:o,updateItem:u,deleteItem:d}=jp("pets",r);return{pets:e,loading:n,error:s,addPet:async k=>await o({name:k.name,species:k.species||"dog",breed:k.breed||"",birthDate:k.birthDate,weight:k.weight||"",color:k.color||"",gender:k.gender||"male",microchip:k.microchip||"",notes:k.notes||"",vaccinations:k.vaccinations||[],medications:k.medications||[],allergies:k.allergies||[],medicalHistory:k.medicalHistory||[]}),updatePet:async(k,V)=>await u(k,V),deletePet:async k=>await d(k),addVaccination:async(k,V)=>{const Q=e.find(G=>G.id===k);if(Q){const G=[...Q.vaccinations||[],{...V,id:Date.now().toString(),addedAt:new Date}];return await u(k,{vaccinations:G})}},addMedication:async(k,V)=>{const Q=e.find(G=>G.id===k);if(Q){const G=[...Q.medications||[],{...V,id:Date.now().toString(),addedAt:new Date}];return await u(k,{medications:G})}},addMedicalRecord:async(k,V)=>{const Q=e.find(G=>G.id===k);if(Q){const G=[...Q.medicalHistory||[],{...V,id:Date.now().toString(),addedAt:new Date}];return await u(k,{medicalHistory:G})}}}};function jC({isOpen:r,onClose:e,onAdd:n}){const{pets:s,addPet:o}=Up(),[u,d]=xe.useState({selectedPetId:"",newPetName:"",petSpecies:"dog",petBreed:"",petAge:"",petWeight:"",type:"",date:"",time:"",location:"",notes:""}),[m,g]=xe.useState(!1),y=async w=>{w.preventDefault();let x=null;if(m){if(!u.newPetName.trim()){alert("Por favor, informe o nome do pet");return}try{const k={name:u.newPetName,species:u.petSpecies,breed:u.petBreed,weight:u.petWeight,notes:`Idade: ${u.petAge}`};await o(k),x={name:u.newPetName,...k}}catch(k){console.error("Erro ao criar pet:",k),alert("Erro ao criar pet. Tente novamente.");return}}else if(x=s.find(k=>k.id===u.selectedPetId),!x){alert("Por favor, selecione um pet");return}u.type&&u.date&&u.time?(n({petName:x.name,petSpecies:x.species||u.petSpecies,petBreed:x.breed||u.petBreed,petAge:u.petAge||"Não informado",petWeight:x.weight||u.petWeight,service:u.type,veterinarian:u.location||"Veterinário não especificado",date:u.date,time:u.time,notes:u.notes||"",status:"scheduled"}),d({selectedPetId:"",newPetName:"",petSpecies:"dog",petBreed:"",petAge:"",petWeight:"",type:"",date:"",time:"",location:"",notes:""}),g(!1),e()):alert("Por favor, preencha todos os campos obrigatórios")},E=(w,x)=>{d(k=>({...k,[w]:x}))};return r?_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:_.jsxs(Um,{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[_.jsxs(Lm,{className:"flex flex-row items-center justify-between",children:[_.jsx(zm,{children:"Nova Consulta"}),_.jsx(kr,{variant:"ghost",size:"sm",onClick:e,children:_.jsx(fh,{className:"h-4 w-4"})})]}),_.jsx(Bm,{children:_.jsxs("form",{onSubmit:y,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Selecionar Pet *"}),_.jsxs("div",{className:"space-y-3",children:[_.jsxs("div",{className:"flex space-x-4",children:[_.jsxs("label",{className:"flex items-center",children:[_.jsx("input",{type:"radio",name:"petType",checked:!m,onChange:()=>g(!1),className:"mr-2"}),"Pet Existente"]}),_.jsxs("label",{className:"flex items-center",children:[_.jsx("input",{type:"radio",name:"petType",checked:m,onChange:()=>g(!0),className:"mr-2"}),"Novo Pet"]})]}),m?_.jsx("input",{type:"text",value:u.newPetName,onChange:w=>E("newPetName",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Nome do novo pet",required:m}):_.jsxs("select",{value:u.selectedPetId,onChange:w=>E("selectedPetId",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!m,children:[_.jsx("option",{value:"",children:"Selecione um pet"}),s.map(w=>_.jsxs("option",{value:w.id,children:[w.name," (",w.species==="dog"?"Cão":w.species==="cat"?"Gato":w.species,")"]},w.id))]})]})]}),m&&_.jsxs("div",{className:"space-y-4",children:[_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Espécie"}),_.jsxs("select",{value:u.petSpecies,onChange:w=>E("petSpecies",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[_.jsx("option",{value:"dog",children:"Cão"}),_.jsx("option",{value:"cat",children:"Gato"}),_.jsx("option",{value:"bird",children:"Pássaro"}),_.jsx("option",{value:"rabbit",children:"Coelho"}),_.jsx("option",{value:"other",children:"Outro"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Raça"}),_.jsx("input",{type:"text",value:u.petBreed,onChange:w=>E("petBreed",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Golden Retriever"})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Idade"}),_.jsx("input",{type:"text",value:u.petAge,onChange:w=>E("petAge",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 3 anos"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Peso"}),_.jsx("input",{type:"text",value:u.petWeight,onChange:w=>E("petWeight",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: 25kg"})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Tipo de Consulta *"}),_.jsxs("select",{value:u.type,onChange:w=>E("type",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[_.jsx("option",{value:"",children:"Selecione o tipo"}),_.jsx("option",{value:"Consulta Veterinária",children:"Consulta Veterinária"}),_.jsx("option",{value:"Vacinação",children:"Vacinação"}),_.jsx("option",{value:"Cirurgia",children:"Cirurgia"}),_.jsx("option",{value:"Exame",children:"Exame"}),_.jsx("option",{value:"Emergência",children:"Emergência"})]})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data *"}),_.jsx("input",{type:"date",value:u.date,onChange:w=>E("date",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Horário *"}),_.jsx("input",{type:"time",value:u.time,onChange:w=>E("time",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Veterinário/Clínica"}),_.jsx("input",{type:"text",value:u.location,onChange:w=>E("location",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Dr. João - Clínica VetCare"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),_.jsx("textarea",{value:u.notes,onChange:w=>E("notes",w.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Observações adicionais..."})]}),_.jsxs("div",{className:"flex space-x-3 pt-4",children:[_.jsx(kr,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancelar"}),_.jsx(kr,{type:"submit",className:"flex-1",children:"Agendar"})]})]})})]})}):null}const Lp=(r=null)=>{const{data:e,loading:n,error:s,addItem:o,updateItem:u,deleteItem:d}=jp("appointments",r);return{appointments:e,loading:n,error:s,addAppointment:async w=>{const x={petName:w.petName||"Pet sem nome",veterinarian:w.location||w.veterinarian||"Veterinário não especificado",date:w.date||new Date().toISOString().split("T")[0],time:w.time||"00:00",service:w.type||w.service||"Consulta geral",notes:w.notes||"",status:"scheduled"};return console.log("📋 Dados recebidos do formulário:",w),console.log("📋 Dados limpos para salvar:",x),await o(x)},updateAppointment:async(w,x)=>await u(w,x),deleteAppointment:async w=>await d(w),completeAppointment:async w=>await u(w,{status:"completed"})}};function K0(){const{appointments:r,loading:e,error:n,addAppointment:s,deleteAppointment:o,completeAppointment:u}=Lp(),[d,m]=xe.useState(!1),g=async x=>{try{await s(x),m(!1)}catch(k){console.error("Erro ao adicionar consulta:",k)}},y=async x=>{if(confirm("Tem certeza que deseja cancelar esta consulta?"))try{await o(x)}catch(k){console.error("Erro ao cancelar consulta:",k)}},E=async x=>{try{await u(x)}catch(k){console.error("Erro ao marcar consulta como concluída:",k)}},w=x=>new Date(x).toLocaleDateString("pt-BR",{weekday:"long",year:"numeric",month:"long",day:"numeric"});return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"neuro-header",children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[_.jsx(Mr,{className:"h-6 w-6 mr-2 inline-block"}),"Agenda"]}),_.jsxs("button",{onClick:()=>m(!0),className:"neuro-button-primary",disabled:e,children:[_.jsx(jl,{className:"h-4 w-4"}),_.jsx("span",{className:"hidden sm:inline ml-2",children:"Nova Consulta"})]})]}),n&&_.jsx("div",{className:"neuro-card bg-red-50 border-red-200",children:_.jsxs("p",{className:"text-red-600",children:["Erro ao carregar consultas: ",n]})}),e?_.jsxs("div",{className:"neuro-card text-center py-12",children:[_.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),_.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando consultas..."})]}):_.jsxs(_.Fragment,{children:[_.jsx("div",{className:"neuro-list",children:r.map(x=>_.jsxs("div",{className:"neuro-list-item",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center",children:_.jsx(Qc,{className:"h-6 w-6 text-white"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:x.petName}),_.jsxs("div",{className:"flex items-center space-x-3 text-sm text-gray-600",children:[x.petSpecies&&_.jsxs("span",{className:"flex items-center",children:[_.jsx("span",{className:"font-medium",children:x.petSpecies}),x.petBreed&&_.jsxs("span",{className:"ml-1",children:["• ",x.petBreed]})]}),x.petAge&&_.jsxs("span",{className:"flex items-center",children:[_.jsx(X0,{className:"h-3 w-3 mr-1"}),x.petAge]}),x.petWeight&&_.jsxs("span",{className:"flex items-center",children:[_.jsx(W0,{className:"h-3 w-3 mr-1"}),x.petWeight]})]})]})]}),_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx("span",{className:`neuro-badge ${x.status==="scheduled"?"info":"success"}`,children:x.status==="scheduled"?"Agendado":"Concluído"}),x.status==="scheduled"&&_.jsx("button",{onClick:()=>E(x.id),className:"text-green-600 hover:text-green-800 p-1",title:"Marcar como concluída",children:_.jsx(Sl,{className:"h-4 w-4"})}),_.jsx("button",{onClick:()=>y(x.id),className:"text-red-600 hover:text-red-800 p-1",title:"Cancelar consulta",children:_.jsx(Z0,{className:"h-4 w-4"})})]})]}),_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[_.jsx(Mr,{className:"h-4 w-4"}),_.jsx("span",{children:w(x.date)})]}),_.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[_.jsx($0,{className:"h-4 w-4"}),_.jsx("span",{children:x.time})]}),x.veterinarian&&_.jsxs("div",{className:"flex items-center space-x-2 text-gray-600",children:[_.jsx(IA,{className:"h-4 w-4"}),_.jsx("span",{children:x.veterinarian})]})]}),_.jsxs("div",{className:"space-y-2",children:[_.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[_.jsx("p",{className:"font-medium text-blue-900 text-sm",children:"Tipo de Consulta"}),_.jsx("p",{className:"text-blue-800",children:x.service})]}),x.notes&&_.jsxs("div",{className:"bg-gray-50 p-3 rounded-lg",children:[_.jsx("p",{className:"font-medium text-gray-900 text-sm",children:"Observações"}),_.jsx("p",{className:"text-gray-700 text-sm",children:x.notes})]})]})]})]},x.id))}),r.length===0&&_.jsxs("div",{className:"neuro-card text-center py-12",children:[_.jsx(Mr,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),_.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Nenhuma consulta agendada"}),_.jsx("p",{className:"text-gray-600 mb-4",children:"Agende a primeira consulta do seu pet"}),_.jsxs("button",{onClick:()=>m(!0),className:"neuro-button-primary",children:[_.jsx(jl,{className:"h-4 w-4 mr-2"}),"Agendar Consulta"]})]})]}),_.jsx(jC,{isOpen:d,onClose:()=>m(!1),onAdd:g})]})}function UC({isOpen:r,onClose:e,onAdd:n}){const[s,o]=xe.useState({petName:"",title:"",description:"",dueDate:"",priority:"média"}),u=m=>{m.preventDefault(),s.petName&&s.title&&s.dueDate&&(n({...s,id:Date.now(),completed:!1}),o({petName:"",title:"",description:"",dueDate:"",priority:"média"}),e())},d=(m,g)=>{o(y=>({...y,[m]:g}))};return r?_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:_.jsxs(Um,{className:"w-full max-w-md",children:[_.jsxs(Lm,{className:"flex flex-row items-center justify-between",children:[_.jsxs(zm,{className:"flex items-center space-x-2",children:[_.jsx(Cl,{className:"h-5 w-5"}),_.jsx("span",{children:"Novo Lembrete"})]}),_.jsx(kr,{variant:"ghost",size:"sm",onClick:e,children:_.jsx(fh,{className:"h-4 w-4"})})]}),_.jsx(Bm,{children:_.jsxs("form",{onSubmit:u,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Pet *"}),_.jsx("input",{type:"text",value:s.petName,onChange:m=>d("petName",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Rex",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Título do Lembrete *"}),_.jsx("input",{type:"text",value:s.title,onChange:m=>d("title",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Ex: Vacina Antirrábica",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Descrição"}),_.jsx("textarea",{value:s.description,onChange:m=>d("description",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",rows:"3",placeholder:"Descrição detalhada do lembrete..."})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Vencimento *"}),_.jsx("input",{type:"date",value:s.dueDate,onChange:m=>d("dueDate",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Prioridade"}),_.jsxs("select",{value:s.priority,onChange:m=>d("priority",m.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[_.jsx("option",{value:"baixa",children:"Baixa"}),_.jsx("option",{value:"média",children:"Média"}),_.jsx("option",{value:"alta",children:"Alta"})]})]}),_.jsxs("div",{className:"flex space-x-3 pt-4",children:[_.jsx(kr,{type:"button",variant:"outline",onClick:e,className:"flex-1",children:"Cancelar"}),_.jsx(kr,{type:"submit",className:"flex-1",children:"Criar Lembrete"})]})]})})]})}):null}const LC=(r=null)=>{const{data:e,loading:n,error:s,addItem:o,updateItem:u,deleteItem:d}=jp("reminders",r);return{reminders:e,loading:n,error:s,addReminder:async x=>await o({petName:x.petName,title:x.title,description:x.description||"",date:x.date,time:x.time,frequency:x.frequency||"once",category:x.category||"medication",completed:!1,active:!0}),updateReminder:async(x,k)=>await u(x,k),deleteReminder:async x=>await d(x),completeReminder:async x=>await u(x,{completed:!0,completedAt:new Date}),toggleReminder:async(x,k)=>await u(x,{completed:k,completedAt:k?new Date:null})}};function zC(){const{reminders:r,loading:e,error:n,addReminder:s,deleteReminder:o,toggleReminder:u}=LC(),{appointments:d}=Lp(),{pets:m}=Up(),[g,y]=xe.useState(!1),E=Y=>{const N=new Date;N.setHours(0,0,0,0);const S=new Date(Y);S.setHours(0,0,0,0);const R=S.getTime()-N.getTime();return Math.ceil(R/(1e3*3600*24))},w=xe.useMemo(()=>!d||d.length===0?[]:(console.log("🔄 Gerando lembretes automáticos para agendamentos:",d),d.filter(Y=>Y.status==="scheduled").sort((Y,N)=>{const S=new Date(Y.date+"T"+Y.time),R=new Date(N.date+"T"+N.time);return S-R}).map(Y=>{const N=new Date(Y.date+"T"+Y.time),S=E(Y.date);return{id:`apt-${Y.id}`,type:"appointment",petName:Y.petName,title:`Consulta: ${Y.service}`,description:`${Y.petName} tem consulta de ${Y.service}${Y.veterinarian?` com ${Y.veterinarian}`:""}`,date:Y.date,time:Y.time,appointmentId:Y.id,category:"appointment",priority:S<=1?"high":S<=3?"medium":"normal",completed:!1,isAutoGenerated:!0,appointmentDateTime:N}})),[d]),x=xe.useMemo(()=>{const Y=[...r||[],...w];return console.log("📋 Total de lembretes combinados:",Y.length),console.log("📋 Lembretes manuais:",(r==null?void 0:r.length)||0),console.log("📋 Lembretes de agendamentos:",w.length),Y.sort((N,S)=>{if(N.completed!==S.completed)return N.completed?1:-1;const R={high:0,medium:1,normal:2},M=R[N.priority]||2,P=R[S.priority]||2;if(M!==P)return M-P;const j=new Date(N.date+(N.time?"T"+N.time:"T00:00")),C=new Date(S.date+(S.time?"T"+S.time:"T00:00"));return j-C})},[r,w]),k=async Y=>{try{await s(Y),y(!1)}catch(N){console.error("Erro ao adicionar lembrete:",N)}},V=async(Y,N)=>{try{await u(Y,!N)}catch(S){console.error("Erro ao atualizar lembrete:",S)}},Q=async Y=>{if(confirm("Tem certeza que deseja excluir este lembrete?"))try{await o(Y)}catch(N){console.error("Erro ao excluir lembrete:",N)}},G=Y=>new Date(Y).toLocaleDateString("pt-BR"),oe=(Y,N)=>N==="appointment"?Mr:Y==="medication"?rm:Y==="vaccine"?Rc:Cl,ae=(Y,N,S)=>N?"text-gray-500":S==="high"||Y<=0?"text-red-600":S==="medium"||Y<=3?"text-orange-600":"text-blue-600",ce=(Y,N,S)=>N?"bg-gray-50 border-gray-200":S==="high"||Y<=0?"bg-red-50 border-red-200":S==="medium"||Y<=3?"bg-orange-50 border-orange-200":"bg-blue-50 border-blue-200",_e=x.filter(Y=>!Y.completed),pe=x.filter(Y=>Y.completed);return _.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"neuro-header",children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[_.jsx(Cl,{className:"h-6 w-6 mr-2 inline-block"}),"Lembretes"]}),_.jsxs("button",{onClick:()=>y(!0),className:"neuro-button-primary",children:[_.jsx(jl,{className:"h-4 w-4"}),_.jsx("span",{className:"hidden sm:inline ml-2",children:"Novo Lembrete"})]})]}),n&&_.jsx("div",{className:"neuro-card bg-red-50 border-red-200",children:_.jsxs("p",{className:"text-red-600",children:["Erro ao carregar lembretes: ",n]})}),e?_.jsxs("div",{className:"neuro-card text-center py-12",children:[_.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),_.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando lembretes..."})]}):_.jsxs(_.Fragment,{children:[w.length>0&&_.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[_.jsx("div",{className:"neuro-card bg-blue-50 border-blue-200",children:_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx(Mr,{className:"h-8 w-8 text-blue-600"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-blue-600 font-medium",children:"Consultas Agendadas"}),_.jsx("p",{className:"text-2xl font-bold text-blue-800",children:w.length})]})]})}),_.jsx("div",{className:"neuro-card bg-red-50 border-red-200",children:_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx(Rc,{className:"h-8 w-8 text-red-600"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Urgentes (hoje/amanhã)"}),_.jsx("p",{className:"text-2xl font-bold text-red-800",children:w.filter(Y=>Y.priority==="high").length})]})]})}),_.jsx("div",{className:"neuro-card bg-green-50 border-green-200",children:_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx(Sl,{className:"h-8 w-8 text-green-600"}),_.jsxs("div",{children:[_.jsx("p",{className:"text-sm text-green-600 font-medium",children:"Lembretes Manuais"}),_.jsx("p",{className:"text-2xl font-bold text-green-800",children:(r==null?void 0:r.length)||0})]})]})})]}),_.jsxs("div",{className:"neuro-card",children:[_.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[_.jsx(Rc,{className:"h-5 w-5 mr-2 text-orange-600"}),"Pendentes - Ordem de Atendimento (",_e.length,")"]}),_e.length>0&&_.jsx("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:_.jsxs("p",{className:"text-sm text-blue-800",children:[_.jsx("strong",{children:"📅 Próximos atendimentos:"})," Lembretes organizados por prioridade e data/hora para otimizar sua agenda"]})}),_.jsx("div",{className:"space-y-3",children:_e.map(Y=>{const N=E(Y.date),S=oe(Y.category,Y.type),R=ae(N,Y.completed,Y.priority),M=ce(N,Y.completed,Y.priority);return _.jsx("div",{className:`p-4 rounded-lg border ${M}`,children:_.jsxs("div",{className:"flex items-start justify-between",children:[_.jsxs("div",{className:"flex items-start space-x-3 flex-1",children:[_.jsx("div",{className:`p-2 rounded-full ${R==="text-red-600"?"bg-red-100":R==="text-orange-600"?"bg-orange-100":"bg-blue-100"}`,children:_.jsx(S,{className:`h-4 w-4 ${R}`})}),_.jsxs("div",{className:"flex-1",children:[_.jsxs("div",{className:"flex items-center space-x-2 mb-1",children:[_.jsx(Kc,{className:"h-4 w-4 text-gray-500"}),_.jsx("span",{className:"font-medium text-gray-800",children:Y.petName}),Y.isAutoGenerated&&_.jsx("span",{className:"px-2 py-1 bg-blue-100 text-blue-600 text-xs rounded-full font-medium",children:"📅 Agendamento"}),!Y.isAutoGenerated&&_.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-600 text-xs rounded-full font-medium",children:"📝 Manual"}),N<=0&&_.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-600 text-xs rounded-full font-medium",children:N<0?"Vencido":"Hoje"}),N===1&&_.jsx("span",{className:"px-2 py-1 bg-orange-100 text-orange-600 text-xs rounded-full font-medium",children:"Amanhã"})]}),_.jsx("h4",{className:"font-semibold text-gray-900 mb-1",children:Y.title}),Y.description&&_.jsx("p",{className:"text-sm text-gray-600 mb-2",children:Y.description}),_.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[_.jsxs("div",{className:"flex items-center space-x-1",children:[_.jsx(Mr,{className:"h-4 w-4"}),_.jsx("span",{children:G(Y.date)})]}),Y.time&&_.jsxs("div",{className:"flex items-center space-x-1",children:[_.jsx($0,{className:"h-4 w-4"}),_.jsx("span",{children:Y.time})]}),_.jsx("div",{className:`flex items-center space-x-1 font-medium ${R}`,children:N<0?_.jsxs("span",{children:["Atrasado ",Math.abs(N)," dia(s)"]}):N===0?_.jsx("span",{children:"Hoje"}):N===1?_.jsx("span",{children:"Amanhã"}):_.jsxs("span",{children:["Em ",N," dias"]})})]})]})]}),_.jsxs("div",{className:"flex items-center space-x-2",children:[!Y.isAutoGenerated&&_.jsx("button",{onClick:()=>V(Y.id,!1),className:"text-green-600 hover:text-green-800 p-1 rounded transition-colors",title:"Marcar como concluído",children:_.jsx(Sl,{className:"h-5 w-5"})}),!Y.isAutoGenerated&&_.jsx("button",{onClick:()=>Q(Y.id),className:"text-red-600 hover:text-red-800 p-1 rounded transition-colors",title:"Excluir lembrete",children:_.jsx(Z0,{className:"h-5 w-5"})})]})]})},Y.id)})}),_e.length===0&&_.jsxs("div",{className:"text-center py-8",children:[_.jsx(Cl,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),_.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Nenhum lembrete pendente"}),_.jsx("p",{className:"text-gray-600 mb-4",children:"Todos os lembretes estão em dia!"})]})]}),pe.length>0&&_.jsxs("div",{className:"neuro-card",children:[_.jsxs("h3",{className:"text-lg font-semibold text-gray-800 mb-4 flex items-center",children:[_.jsx(Sl,{className:"h-5 w-5 mr-2 text-green-600"}),"Concluídos (",pe.length,")"]}),_.jsxs("div",{className:"space-y-2",children:[pe.slice(0,5).map(Y=>_.jsx("div",{className:"p-3 bg-gray-50 rounded-lg border border-gray-200 opacity-75",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx(Sl,{className:"h-4 w-4 text-green-600"}),_.jsxs("div",{children:[_.jsx("span",{className:"font-medium text-gray-700",children:Y.petName}),_.jsx("span",{className:"text-gray-600 ml-2",children:Y.title})]})]}),_.jsxs("div",{className:"flex items-center space-x-2 text-sm text-gray-500",children:[_.jsx("span",{children:G(Y.date)}),!Y.isAutoGenerated&&_.jsx("button",{onClick:()=>V(Y.id,!0),className:"text-gray-400 hover:text-gray-600 transition-colors",title:"Reativar lembrete",children:_.jsx(Rc,{className:"h-4 w-4"})})]})]})},Y.id)),pe.length>5&&_.jsxs("p",{className:"text-center text-gray-500 text-sm py-2",children:["E mais ",pe.length-5," lembretes concluídos..."]})]})]})]}),_.jsx(UC,{isOpen:g,onClose:()=>y(!1),onAdd:k,pets:m})]})}function BC({isOpen:r,onClose:e,onSave:n}){const[s,o]=xe.useState({name:"",species:"dog",breed:"",birthDate:"",weight:"",color:"",gender:"male",microchip:"",notes:""}),u=async m=>{if(m.preventDefault(),!s.name.trim()){alert("Por favor, informe o nome do pet");return}try{await n(s),o({name:"",species:"dog",breed:"",birthDate:"",weight:"",color:"",gender:"male",microchip:"",notes:""}),e()}catch(g){console.error("Erro ao adicionar pet:",g),alert("Erro ao adicionar pet. Tente novamente.")}},d=(m,g)=>{o(y=>({...y,[m]:g}))};return r?_.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:_.jsxs("div",{className:"bg-white rounded-xl p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[_.jsxs("div",{className:"flex items-center justify-between mb-4",children:[_.jsxs("div",{className:"flex items-center space-x-2",children:[_.jsx(Kc,{className:"h-5 w-5 text-blue-600"}),_.jsx("h3",{className:"text-lg font-semibold",children:"Adicionar Novo Pet"})]}),_.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600 transition-colors",children:_.jsx(fh,{className:"h-5 w-5"})})]}),_.jsxs("form",{onSubmit:u,className:"space-y-4",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nome do Pet *"}),_.jsx("input",{type:"text",value:s.name,onChange:m=>d("name",m.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Rex, Luna, Max...",required:!0})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Espécie"}),_.jsxs("select",{value:s.species,onChange:m=>d("species",m.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[_.jsx("option",{value:"dog",children:"Cão"}),_.jsx("option",{value:"cat",children:"Gato"}),_.jsx("option",{value:"bird",children:"Pássaro"}),_.jsx("option",{value:"rabbit",children:"Coelho"}),_.jsx("option",{value:"hamster",children:"Hamster"}),_.jsx("option",{value:"other",children:"Outro"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sexo"}),_.jsxs("select",{value:s.gender,onChange:m=>d("gender",m.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[_.jsx("option",{value:"male",children:"Macho"}),_.jsx("option",{value:"female",children:"Fêmea"})]})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Raça"}),_.jsx("input",{type:"text",value:s.breed,onChange:m=>d("breed",m.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Golden Retriever, Siamês..."})]}),_.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Data de Nascimento"}),_.jsx("input",{type:"date",value:s.birthDate,onChange:m=>d("birthDate",m.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Peso"}),_.jsx("input",{type:"text",value:s.weight,onChange:m=>d("weight",m.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: 5kg, 500g"})]})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Cor"}),_.jsx("input",{type:"text",value:s.color,onChange:m=>d("color",m.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Ex: Dourado, Preto, Malhado..."})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Microchip"}),_.jsx("input",{type:"text",value:s.microchip,onChange:m=>d("microchip",m.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Número do microchip (opcional)"})]}),_.jsxs("div",{children:[_.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Observações"}),_.jsx("textarea",{value:s.notes,onChange:m=>d("notes",m.target.value),className:"w-full p-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",rows:"3",placeholder:"Informações adicionais sobre o pet..."})]}),_.jsxs("div",{className:"flex space-x-2 pt-4",children:[_.jsx("button",{type:"button",onClick:e,className:"flex-1 py-2 px-4 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancelar"}),_.jsxs("button",{type:"submit",className:"flex-1 bg-blue-600 text-white py-2 px-4 rounded-lg hover:bg-blue-700 transition-colors flex items-center justify-center space-x-2",children:[_.jsx(OA,{className:"h-4 w-4"}),_.jsx("span",{children:"Salvar Pet"})]})]})]})]})}):null}function qC(){const{pets:r,loading:e,error:n,addPet:s}=Up(),{appointments:o}=Lp(),[u,d]=xe.useState(null),[m,g]=xe.useState(!1),[y,E]=xe.useState("info");xe.useEffect(()=>{r&&r.length>0&&!u&&d(r[0])},[r,u]);const w=u?o.filter(V=>V.petName===u.name):[],x=async V=>{try{await s(V),g(!1)}catch(Q){console.error("Erro ao adicionar pet:",Q)}},k=V=>new Date(V).toLocaleDateString("pt-BR");return e?_.jsxs("div",{className:"neuro-card text-center py-12",children:[_.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600 mx-auto"}),_.jsx("p",{className:"mt-4 text-gray-600",children:"Carregando prontuários..."})]}):_.jsxs("div",{className:"space-y-6",children:[_.jsxs("div",{className:"neuro-header",children:[_.jsxs("h2",{className:"text-2xl font-bold text-gray-800",children:[_.jsx(im,{className:"h-6 w-6 mr-2 inline-block"}),"Prontuário Digital"]}),_.jsxs("button",{onClick:()=>g(!0),className:"neuro-button-primary",children:[_.jsx(jl,{className:"h-4 w-4"}),_.jsx("span",{className:"hidden sm:inline ml-2",children:"Novo Pet"})]})]}),n&&_.jsx("div",{className:"neuro-card bg-red-50 border-red-200",children:_.jsxs("p",{className:"text-red-600",children:["Erro ao carregar pets: ",n]})}),r&&r.length>0?_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"neuro-card",children:[_.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Selecionar Pet"}),_.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(V=>_.jsx("button",{onClick:()=>d(V),className:`p-4 rounded-lg border-2 transition-all ${(u==null?void 0:u.id)===V.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-blue-300 bg-white"}`,children:_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-400 to-blue-500 rounded-full flex items-center justify-center",children:_.jsx(Qc,{className:"h-6 w-6 text-white"})}),_.jsxs("div",{className:"text-left",children:[_.jsx("h4",{className:"font-semibold text-gray-800",children:V.name}),_.jsxs("p",{className:"text-sm text-gray-600",children:[V.species," • ",V.breed]})]})]})},V.id))})]}),u&&_.jsxs(_.Fragment,{children:[_.jsxs("div",{className:"neuro-card",children:[_.jsx("div",{className:"flex items-center justify-between mb-6",children:_.jsxs("div",{className:"flex items-center space-x-3",children:[_.jsx("div",{className:"w-16 h-16 bg-gradient-to-br from-purple-400 to-blue-500 rounded-full flex items-center justify-center",children:_.jsx(Qc,{className:"h-8 w-8 text-white"})}),_.jsxs("div",{children:[_.jsx("h3",{className:"text-xl font-bold text-gray-800",children:u.name}),_.jsxs("p",{className:"text-gray-600",children:[u.species," • ",u.breed]})]})]})}),_.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[_.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[_.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[_.jsx(Kc,{className:"h-4 w-4 text-blue-600"}),_.jsx("span",{className:"font-medium text-blue-900",children:"Espécie"})]}),_.jsx("p",{className:"text-gray-800",children:u.species||"Não informado"})]}),_.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[_.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[_.jsx(Kc,{className:"h-4 w-4 text-green-600"}),_.jsx("span",{className:"font-medium text-green-900",children:"Raça"})]}),_.jsx("p",{className:"text-gray-800",children:u.breed||"Não informado"})]}),_.jsxs("div",{className:"bg-orange-50 p-4 rounded-lg",children:[_.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[_.jsx(X0,{className:"h-4 w-4 text-orange-600"}),_.jsx("span",{className:"font-medium text-orange-900",children:"Idade"})]}),_.jsx("p",{className:"text-gray-800",children:u.age||"Não informado"})]}),_.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[_.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[_.jsx(W0,{className:"h-4 w-4 text-purple-600"}),_.jsx("span",{className:"font-medium text-purple-900",children:"Peso"})]}),_.jsx("p",{className:"text-gray-800",children:u.weight||"Não informado"})]})]})]}),_.jsxs("div",{className:"neuro-card",children:[_.jsxs("div",{className:"flex space-x-1 mb-6 bg-gray-100 rounded-lg p-1",children:[_.jsxs("button",{onClick:()=>E("appointments"),className:`flex-1 flex items-center justify-center space-x-2 py-2 px-4 rounded-md transition-all ${y==="appointments"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[_.jsx(o_,{className:"h-4 w-4"}),_.jsx("span",{children:"Consultas"})]}),_.jsxs("button",{onClick:()=>E("vaccines"),className:`flex-1 flex items-center justify-center space-x-2 py-2 px-4 rounded-md transition-all ${y==="vaccines"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[_.jsx(Bf,{className:"h-4 w-4"}),_.jsx("span",{children:"Vacinas"})]}),_.jsxs("button",{onClick:()=>E("medications"),className:`flex-1 flex items-center justify-center space-x-2 py-2 px-4 rounded-md transition-all ${y==="medications"?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-800"}`,children:[_.jsx(rm,{className:"h-4 w-4"}),_.jsx("span",{children:"Medicamentos"})]})]}),y==="appointments"&&_.jsxs("div",{className:"space-y-4",children:[_.jsx("div",{className:"flex items-center justify-between",children:_.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Histórico de Consultas"})}),w.length>0?_.jsx("div",{className:"space-y-3",children:w.map(V=>_.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border",children:_.jsxs("div",{className:"flex items-start justify-between",children:[_.jsxs("div",{className:"space-y-2",children:[_.jsx("h5",{className:"font-medium text-gray-800",children:V.service}),_.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[_.jsxs("div",{className:"flex items-center space-x-1",children:[_.jsx(Mr,{className:"h-4 w-4"}),_.jsx("span",{children:k(V.date)})]}),_.jsxs("div",{className:"flex items-center space-x-1",children:[_.jsx(Clock,{className:"h-4 w-4"}),_.jsx("span",{children:V.time})]})]}),V.veterinarian&&_.jsxs("p",{className:"text-sm text-gray-600",children:["Veterinário: ",V.veterinarian]}),V.notes&&_.jsx("p",{className:"text-sm text-gray-700",children:V.notes})]}),_.jsx("span",{className:`neuro-badge ${V.status==="scheduled"?"info":"success"}`,children:V.status==="scheduled"?"Agendado":"Concluído"})]})},V.id))}):_.jsxs("div",{className:"text-center py-8",children:[_.jsx(o_,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),_.jsxs("p",{className:"text-gray-500",children:["Nenhuma consulta registrada para ",u.name]})]})]}),y==="vaccines"&&_.jsxs("div",{className:"space-y-4",children:[_.jsx("div",{className:"flex items-center justify-between",children:_.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Histórico de Vacinas"})}),u.vaccines&&u.vaccines.length>0?_.jsx("div",{className:"space-y-3",children:u.vaccines.map((V,Q)=>_.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border",children:_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{children:[_.jsx("h5",{className:"font-medium text-gray-800",children:V.name}),_.jsxs("p",{className:"text-sm text-gray-600",children:["Aplicada em: ",k(V.date)]}),V.nextDue&&_.jsxs("p",{className:"text-sm text-gray-600",children:["Próxima dose: ",k(V.nextDue)]})]}),_.jsx(Bf,{className:"h-5 w-5 text-blue-500"})]})},Q))}):_.jsxs("div",{className:"text-center py-8",children:[_.jsx(Bf,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),_.jsxs("p",{className:"text-gray-500",children:["Nenhuma vacina registrada para ",u.name]})]})]}),y==="medications"&&_.jsxs("div",{className:"space-y-4",children:[_.jsx("div",{className:"flex items-center justify-between",children:_.jsx("h4",{className:"text-lg font-semibold text-gray-800",children:"Medicamentos"})}),u.medications&&u.medications.length>0?_.jsx("div",{className:"space-y-3",children:u.medications.map((V,Q)=>_.jsx("div",{className:"bg-gray-50 p-4 rounded-lg border",children:_.jsxs("div",{className:"space-y-2",children:[_.jsx("h5",{className:"font-medium text-gray-800",children:V.name}),_.jsxs("p",{className:"text-sm text-gray-600",children:["Dosagem: ",V.dosage]}),_.jsxs("p",{className:"text-sm text-gray-600",children:["Frequência: ",V.frequency]}),V.lastGiven&&_.jsxs("p",{className:"text-sm text-gray-600",children:["Última administração: ",k(V.lastGiven)]})]})},Q))}):_.jsxs("div",{className:"text-center py-8",children:[_.jsx(rm,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),_.jsxs("p",{className:"text-gray-500",children:["Nenhum medicamento registrado para ",u.name]})]})]})]})]})]}):_.jsxs("div",{className:"neuro-card text-center py-12",children:[_.jsx(im,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),_.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Nenhum pet cadastrado"}),_.jsx("p",{className:"text-gray-600 mb-4",children:"Adicione o primeiro pet para começar o prontuário digital"}),_.jsxs("button",{onClick:()=>g(!0),className:"neuro-button-primary",children:[_.jsx(jl,{className:"h-4 w-4 mr-2"}),"Adicionar Pet"]})]}),_.jsx(BC,{isOpen:m,onClose:()=>g(!1),onAdd:x})]})}function HC(){const[r,e]=xe.useState(null),[n,s]=xe.useState(!1),[o,u]=xe.useState(!1),[d,m]=xe.useState(!1);xe.useEffect(()=>{const w=/iPad|iPhone|iPod/.test(navigator.userAgent);u(w);const x=window.matchMedia("(display-mode: standalone)").matches||window.navigator.standalone||document.referrer.includes("android-app://");m(x);const k=V=>{V.preventDefault(),e(V),setTimeout(()=>{x||s(!0)},3e3)};return window.addEventListener("beforeinstallprompt",k),w&&!x&&setTimeout(()=>{s(!0)},5e3),()=>{window.removeEventListener("beforeinstallprompt",k)}},[]);const g=async()=>{if(r){r.prompt();const{outcome:w}=await r.userChoice;w==="accepted"&&(e(null),s(!1))}},y=()=>{s(!1),localStorage.setItem("pwa-prompt-dismissed",Date.now().toString())};if(d)return null;const E=localStorage.getItem("pwa-prompt-dismissed");if(E){const w=parseInt(E),x=24*60*60*1e3;if(Date.now()-w<x)return null}return n?_.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-50 md:left-auto md:max-w-sm",children:_.jsxs(Um,{className:"border-blue-200 bg-blue-50 shadow-lg",children:[_.jsxs(Lm,{className:"pb-3",children:[_.jsxs("div",{className:"flex items-center justify-between",children:[_.jsxs("div",{className:"flex items-center gap-2",children:[_.jsx(kA,{className:"h-5 w-5 text-blue-600"}),_.jsx(zm,{className:"text-sm text-blue-900",children:"Instalar PetHealth"})]}),_.jsx(kr,{variant:"ghost",size:"sm",onClick:y,className:"h-6 w-6 p-0 text-blue-600",children:_.jsx(fh,{className:"h-4 w-4"})})]}),_.jsx(Mw,{className:"text-xs text-blue-700",children:o?"Adicione à tela inicial para acesso rápido":"Instale o app para melhor experiência"})]}),_.jsx(Bm,{className:"pt-0",children:o?_.jsxs("div",{className:"space-y-2",children:[_.jsxs("p",{className:"text-xs text-blue-800",children:["1. Toque no botão ",_.jsx("strong",{children:"Compartilhar"})," ⬆️"]}),_.jsxs("p",{className:"text-xs text-blue-800",children:["2. Selecione ",_.jsx("strong",{children:'"Adicionar à Tela de Início"'})]})]}):_.jsxs(kr,{onClick:g,className:"w-full bg-blue-600 hover:bg-blue-700",size:"sm",children:[_.jsx(wA,{className:"mr-2 h-4 w-4"}),"Instalar App"]})})]})}):null}function GC(){const[r,e]=xe.useState("agenda"),n=()=>{switch(r){case"agenda":return _.jsx(K0,{});case"lembretes":return _.jsx(zC,{});case"prontuario":return _.jsx(qC,{});default:return _.jsx(K0,{})}};return _.jsxs("div",{className:"neuro-bg",children:[_.jsxs("div",{className:"neuro-container max-w-4xl mx-auto",children:[_.jsx(BA,{activeTab:r,setActiveTab:e}),_.jsx("main",{className:"neuro-float",children:n()})]}),_.jsx(HC,{})]})}hA.createRoot(document.getElementById("root")).render(_.jsx(xe.StrictMode,{children:_.jsx(GC,{})}));
